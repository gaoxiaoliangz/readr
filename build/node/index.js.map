{"version":3,"sources":["../../webpack/bootstrap 56fc85fde1f725a7f7a3","../../external \"lodash\"","../../external \"react\"","../.././~/css-loader/lib/css-base.js","../.././~/isomorphic-style-loader/lib/insertCss.js","../.././src/constants/index.ts","../../external \"react-css-modules\"","../.././src/server/errors/generic-error.ts","../../external \"react-router\"","../.././src/constants/actionTypes.ts","../.././src/server/data/schemas.ts","../.././src/server/models/model.ts","../.././src/server/utils/i18n.ts","../.././src/selectors/index.ts","../../external \"react-redux\"","../.././src/actions/api.ts","../.././src/helpers/index.ts","../.././src/server/errors/index.ts","../../external \"classnames\"","../../external \"redux\"","../.././src/utils/index.ts","../.././src/selectors/utils.ts","../.././src/server/helpers/index.ts","../.././src/utils/parseUrlencoded.ts","../../external \"humps\"","../../external \"normalizr\"","../../external \"better-redux-form\"","../.././src/components/Icon/index.ts","../.././src/components/Container/index.ts","../.././src/constants/viewerDefs.ts","../.././src/utils/dom/isDescendant.ts","../.././src/actions/utils.ts","../.././src/components/AppDoc.tsx","../.././src/components/Logo/index.ts","../.././src/components/Modal/Modal.tsx","../.././src/components/Modal/index.ts","../.././src/schemas.ts","../.././src/server/utils/index.ts","../.././src/components/Branding/Branding.scss","webpack:///./src/components/Dropdown/Dropdown.scss?92a1","webpack:///./src/components/Modal/Modal.scss?659d","../../external \"react-dom/server\"","../../external \"redux-saga/effects\"","../../external \"url-join\"","../.././src/actions/index.ts","../.././src/components/DocContainer.tsx","../.././src/components/layout.ts","../.././src/components/Alert/Alert.tsx","../.././src/components/Dropdown/index.ts","../.././src/components/ServerSideAppRoot.tsx","../.././src/helpers/getApiRoot.ts","../.././src/helpers/isServerEnv.ts","../.././src/helpers/isServerRoutingEnabled.ts","../.././src/server/api/file.ts","../.././src/server/middleware/index.ts","../.././src/server/models/output-empty-entity.ts","../.././src/server/models/paginate.ts","../.././src/server/utils/print.ts","../.././src/server/utils/validator.ts","../.././src/utils/api/callApi.ts","../.././src/utils/api/handleResponse.ts","../.././src/utils/api/jsonp.ts","../.././src/utils/entity.ts","../.././src/utils/padNumberWithZero.ts","../.././src/utils/parseQuery.ts","webpack:///./src/components/Alert/Alert.scss?3e26","../../external \"bluebird\"","../../external \"express\"","../../external \"isomorphic-fetch\"","../../external \"path\"","../../external \"react-router-redux\"","../.././src/server/index.ts","../.././src/components/form.ts","../.././src/webAPI/index.ts","../.././src/actions/viewer.ts","../.././src/components/Modal/ModalFooter.tsx","../.././src/components/AppError/index.ts","../.././src/components/Button/index.ts","../.././src/components/Fade/index.ts","../.././src/components/Input/index.ts","../.././src/helpers/shouldViewerBeFluid.ts","webpack:///./src/routes/Viewer/components/BookPage.scss?1a2c","../../external \"react-addons-css-transition-group\"","../.././build/static/assets.manifest.json","../.././src/components/Alert/Alerts.tsx","../.././src/components/Alert/index.tsx","../.././src/components/App.tsx","../.././src/components/AppError/AppError.tsx","../.././src/components/BodyClass.tsx","../.././src/components/Branding/Branding.tsx","../.././src/components/Branding/index.tsx","../.././src/components/Button/Button.tsx","../.././src/components/Colophon/Colophon.tsx","../.././src/components/Colophon/index.ts","../.././src/components/Console.tsx","../.././src/components/ConsoleBranding/ConsoleBranding.tsx","../.././src/components/ConsoleBranding/index.ts","../.././src/components/ConsoleSidebar/ConsoleSidebar.tsx","../.././src/components/ConsoleSidebar/index.ts","../.././src/components/Container/Container.tsx","../.././src/components/Dropdown/Dropdown.tsx","../.././src/components/Dropdown/DropdownItem.tsx","../.././src/components/Dropdown/DropdownItemSep.tsx","../.././src/components/Fade/Fade.tsx","../.././src/components/Icon/Icon.tsx","../.././src/components/Icon/svg-icons.ts","../.././src/components/Input/Input.tsx","../.././src/components/Logo/Logo.tsx","../.././src/components/Master.tsx","../.././src/components/Modal/ConfirmModal.tsx","../.././src/components/Modal/ModalPlus.tsx","../.././src/components/Page500.tsx","../.././src/components/SelectizeInput/SelectizeInput.tsx","../.././src/components/SelectizeInput/index.ts","../.././src/components/Textarea/Textarea.tsx","../.././src/components/Textarea/index.ts","../.././src/configureStore.ts","../.././src/content/menus.ts","../.././src/handleInitialState.ts","../.././src/helpers/getEnv.ts","../.././src/helpers/lifecircle.ts","../.././src/helpers/print.ts","../.././src/helpers/redirect.ts","../.././src/middleware/cache.ts","../.././src/middleware/handleServerStore.ts","../.././src/middleware/index.ts","../.././src/middleware/injectCookie.ts","../.././src/middleware/logActionTypes.ts","../.././src/middleware/modifyResponse.ts","../.././src/reducers/components.ts","../.././src/reducers/entities.ts","../.././src/reducers/index.ts","../.././src/reducers/utils/paginate.ts","../.././src/reducers/utils/receiveData.ts","../.././src/reducers/viewer.ts","../.././src/routes/AddBook/index.ts","../.././src/routes/AddCollection/index.ts","../.././src/routes/AppHome/index.ts","../.././src/routes/BookDetail/index.ts","../.././src/routes/Browse/index.ts","../.././src/routes/CollectionDetail/index.ts","../.././src/routes/Collections/index.ts","../.././src/routes/ManageBooks/index.ts","../.././src/routes/ManageUsers/index.ts","../.././src/routes/NoMatch/index.ts","../.././src/routes/Preference/index.ts","../.././src/routes/Profile/index.ts","../.././src/routes/Shelf/index.ts","../.././src/routes/Signin/index.ts","../.././src/routes/Signup/index.ts","../.././src/routes/TestPlace/index.ts","../.././src/routes/Viewer/index.ts","../.././src/routes/index.tsx","../.././src/sagas/effects/calcBook.ts","../.././src/sagas/effects/paging.ts","../.././src/sagas/index.ts","../.././src/sagas/watchLoadTrigger.ts","../.././src/sagas/watchViewer.ts","../.././src/selectors/pagination.ts","../.././src/selectors/viewer.ts","../.././src/server/api/basic-api.ts","../.././src/server/api/books.ts","../.././src/server/api/collections.ts","../.././src/server/api/index.ts","../.././src/server/api/user.ts","../.././src/server/api/users.ts","../.././src/server/bootstrap.ts","../.././src/server/data/types.ts","../.././src/server/endpoints/index.ts","../.././src/server/endpoints/make-basic-endpoint.ts","../.././src/server/errors/bad-request-error.ts","../.././src/server/errors/email-error.ts","../.././src/server/errors/internal-server-error.ts","../.././src/server/errors/method-not-allowed-error.ts","../.././src/server/errors/no-permission-error.ts","../.././src/server/errors/not-found-error.ts","../.././src/server/errors/request-too-large-error.ts","../.././src/server/errors/token-revocation-error.ts","../.././src/server/errors/too-many-requests-error.ts","../.././src/server/errors/unauthorized-error.ts","../.././src/server/errors/unsupported-file-type-error.ts","../.././src/server/errors/validation-error.ts","../.././src/server/helpers/compute-hash.ts","../.././src/server/helpers/getMongoDBUrl.ts","../.././src/server/helpers/getMongoStoreUrl.ts","../.././src/server/initialize.ts","../.././src/server/middleware/auth.ts","../.././src/server/middleware/handle-api-not-found.ts","../.././src/server/middleware/handle-error.ts","../.././src/server/middleware/handle-json-response.ts","../.././src/server/middleware/log-file.ts","../.././src/server/middleware/parse-context.ts","../.././src/server/middleware/prepare-api.ts","../.././src/server/middleware/render/fetch-data.tsx","../.././src/server/middleware/render/handle-error.tsx","../.././src/server/middleware/render/index.ts","../.././src/server/middleware/render/init.tsx","../.././src/server/middleware/render/match-route.ts","../.././src/server/middleware/render/render-view.tsx","../.././src/server/middleware/require-permissions-of.ts","../.././src/server/middleware/set-header.ts","../.././src/server/models/database.ts","../.././src/server/models/schema.ts","../.././src/server/models/validate.ts","../.././src/server/parsers/index.ts","../.././src/server/parsers/txt-content.ts","../.././src/server/routes/api-routes.ts","../.././src/server/routes/index.ts","../.././src/server/translations/cn.ts","../.././src/server/utils/pipeline.ts","../.././src/server/utils/reduce-tasks.ts","../.././src/server/utils/sort-by-date.ts","../.././src/utils/api/normalizeResponse.ts","../.././src/utils/browser/getScreenInfo.ts","../.././src/utils/browser/index.ts","../.././src/utils/browser/isIE.ts","../.././src/utils/browser/lockScroll.ts","../.././src/utils/browser/unlockScroll.ts","../.././src/utils/dom/index.ts","../.././src/utils/getCurrentTime.ts","../.././src/utils/network/request.ts","../.././src/webAPI/apifns.ts","../.././src/components/Alert/Alert.scss","../.././src/components/AppError/AppError.scss","../.././src/components/Button/_button.scss","../.././src/components/Colophon/Colophon.scss","../.././src/components/ConsoleBranding/ConsoleBranding.scss","../.././src/components/ConsoleSidebar/ConsoleSidebar.scss","../.././src/components/Dropdown/Dropdown.scss","../.././src/components/Fade/Fade.scss","../.././src/components/Icon/Icon.scss","../.././src/components/Input/Input.scss","../.././src/components/Logo/Logo.scss","../.././src/components/Modal/Modal.scss","../.././src/components/Modal/ModalFooter.scss","../.././src/components/SelectizeInput/SelectizeInput.scss","../.././src/components/Textarea/Textarea.scss","../.././src/routes/Viewer/components/BookPage.scss","../.././src/components/Logo/logo-dark.png","../.././src/components/Logo/logo.png","webpack:///./src/components/AppError/AppError.scss?fb66","webpack:///./src/components/Branding/Branding.scss?e734","webpack:///./src/components/Button/_button.scss?099c","webpack:///./src/components/Colophon/Colophon.scss?357c","webpack:///./src/components/ConsoleBranding/ConsoleBranding.scss?5ca2","webpack:///./src/components/ConsoleSidebar/ConsoleSidebar.scss?3e2c","webpack:///./src/components/Fade/Fade.scss?531c","webpack:///./src/components/Icon/Icon.scss?baff","webpack:///./src/components/Input/Input.scss?ca9f","webpack:///./src/components/Logo/Logo.scss?ad4b","webpack:///./src/components/Modal/ModalFooter.scss?a443","webpack:///./src/components/SelectizeInput/SelectizeInput.scss?ab17","webpack:///./src/components/Textarea/Textarea.scss?827f","../../external \"babel-runtime/core-js/get-iterator\"","../../external \"babel-runtime/core-js/json/stringify\"","../../external \"babel-runtime/helpers/slicedToArray\"","../../external \"body-parser\"","../../external \"colors/safe\"","../../external \"connect-mongo\"","../../external \"cookie-parser\"","../../external \"crypto\"","../../external \"express-session\"","../../external \"http\"","../../external \"mongodb\"","../../external \"morgan\"","../../external \"multer\"","../../external \"react-dom\"","../../external \"react-helmet\"","../../external \"react-side-effect\"","../../external \"redux-logger\"","../../external \"redux-saga\"","../../external \"redux-thunk\"","../../external \"reselect\"","../../external \"simple-epub-parser\"","../../external \"validator\"","../../external \"jquery\"","../../external \"moment\"","../../external \"marked\"","../../external \"react-markdown\""],"names":[],"mappings":";;;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAkB,qBAAqB;AACvC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA,sBAAc;AACd,YAAI;AACJ;;AAEA;AACA;;;;;;;AC5FA,mC;;;;;;ACAA,kC;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA,wCAAwC,gBAAgB;AACxD,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjDA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0DAA0D,EAAE;AAC5D;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gEAAgE,gEAAgE;AAChI;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded chunks\n \t// \"0\" means \"already loaded\"\n \tvar installedChunks = {\n \t\t17: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] !== 0) {\n \t\t\tvar chunk = require(\"./chunk.\" + chunkId + \".js\");\n \t\t\tvar moreModules = chunk.modules, chunkIds = chunk.ids;\n \t\t\tfor(var moduleId in moreModules) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t\tfor(var i = 0; i < chunkIds.length; i++)\n \t\t\t\tinstalledChunks[chunkIds[i]] = 0;\n \t\t}\n \t\treturn Promise.resolve();\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// uncatched error handler for webpack runtime\n \t__webpack_require__.oe = function(err) {\n \t\tprocess.nextTick(function() {\n \t\t\tthrow err; // catch this error by using System.import().catch()\n \t\t});\n \t};\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 274);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 56fc85fde1f725a7f7a3","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 0\n// module chunks = 17","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 1\n// module chunks = 17","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 2\n// module chunks = 17","'use strict';\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Isomorphic CSS style loader for Webpack\n *\n * Copyright  2015-2016 Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nvar prefix = 's';\nvar inserted = {};\n\n// Base64 encoding and decoding - The \"Unicode Problem\"\n// https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#The_Unicode_Problem\nfunction b64EncodeUnicode(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode('0x' + p1);\n  }));\n}\n\n/**\n * Remove style/link elements for specified node IDs\n * if they are no longer referenced by UI components.\n */\nfunction removeCss(ids) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (0, _getIterator3.default)(ids), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var id = _step.value;\n\n      if (--inserted[id] <= 0) {\n        var elem = document.getElementById(prefix + id);\n        if (elem) {\n          elem.parentNode.removeChild(elem);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\n/**\n * Example:\n *   // Insert CSS styles object generated by `css-loader` into DOM\n *   var removeCss = insertCss([[1, 'body { color: red; }']]);\n *\n *   // Remove it from the DOM\n *   removeCss();\n */\nfunction insertCss(styles) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === undefined ? false : _ref$replace,\n      _ref$prepend = _ref.prepend,\n      prepend = _ref$prepend === undefined ? false : _ref$prepend;\n\n  var ids = [];\n  for (var i = 0; i < styles.length; i++) {\n    var _styles$i = (0, _slicedToArray3.default)(styles[i], 4),\n        moduleId = _styles$i[0],\n        css = _styles$i[1],\n        media = _styles$i[2],\n        sourceMap = _styles$i[3];\n\n    var id = moduleId + '-' + i;\n\n    ids.push(id);\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++;\n        continue;\n      }\n    }\n\n    inserted[id] = 1;\n\n    var elem = document.getElementById(prefix + id);\n    var create = false;\n\n    if (!elem) {\n      create = true;\n\n      elem = document.createElement('style');\n      elem.setAttribute('type', 'text/css');\n      elem.id = prefix + id;\n\n      if (media) {\n        elem.setAttribute('media', media);\n      }\n    }\n\n    var cssText = css;\n    if (sourceMap && btoa) {\n      // skip IE9 and below, see http://caniuse.com/atob-btoa\n      cssText += '\\n/*# sourceMappingURL=data:application/json;base64,' + b64EncodeUnicode((0, _stringify2.default)(sourceMap)) + '*/';\n      cssText += '\\n/*# sourceURL=' + sourceMap.file + '?' + id + '*/';\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText;\n    } else {\n      elem.styleSheet.cssText = cssText;\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n      } else {\n        document.head.appendChild(elem);\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids);\n}\n\nmodule.exports = insertCss;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isomorphic-style-loader/lib/insertCss.js\n// module id = 3\n// module chunks = 17","import * as ACTION_TYPES from './actionTypes'\nimport * as VIEWER_DEFS from './viewerDefs'\n\n// global vars\nexport const ENABLE_SERVER_ROUTING = '__ENABLE_SERVER_ROUTING__'\nexport const INITIAL_STATE = '__INITIAL_STATE__'\n\nexport const DOUBAN_API_ROOT = 'https://api.douban.com/v2'\nexport const GITHUB_API_ROOT = 'https://api.github.com'\n\nexport const ROLES = {\n  USER: 'user',\n  ADMIN: 'admin',\n  VISITOR: 'visitor'\n}\n\nexport const FETCH_STATUS = {\n  LOADING: 'loading',\n  NONE: 'none',\n  LOADED: 'loaded',\n  FAILED: 'failed'\n}\n\nexport const API_PREFIX = 'api'\n\nexport { ACTION_TYPES, VIEWER_DEFS }\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/index.ts","module.exports = require(\"react-css-modules\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-css-modules\"\n// module id = 5\n// module chunks = 17","export default class GenericError {\n  name: string\n  statusCode: number\n  message: string\n  stack: Object\n  type: string\n\n  constructor(message, name?) {\n    this.name = name || 'GenericError'\n    this.statusCode = 500\n    this.message = message\n    this.stack = (new Error() as any).stack\n    this.type = this.name\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/generic-error.ts","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 7\n// module chunks = 17","import { componentType, triggerType, apiTypes } from '../actions/utils'\n\nconst makeActionTypeCreator = namespace => type => [namespace, type].join('/')\n\nconst viewerType = makeActionTypeCreator('viewer')\n\n/**\n * components\n */\n\n// general\nexport const NOTIFICATION = {\n  SHOW: componentType('notification', 'SHOW'),\n  HIDE: componentType('notification', 'HIDE'),\n}\nexport const OPEN_CONFIRM_MODAL = componentType('confirm-modal', 'OPEN')\nexport const CLOSE_CONFIRM_MODAL = componentType('confirm-modal', 'CLOSE')\nexport const MODAL = {\n  OPEN: componentType('modal', 'SHOW'),\n  CLOSE: componentType('modal', 'HIDE'),\n}\n\n// viewer\nexport const VIEWER = {\n  INITIALIZE: triggerType(viewerType('INITIALIZE')),\n  CONFIG: triggerType(viewerType('CONFIG')),\n  SET_STATUS: viewerType('SET_STATUS'),\n\n  CALC_TRIGGER: viewerType(triggerType('calc')),\n  CALC_SUCCESS: viewerType('CALC_SUCCESS'),\n  CALC_FAILURE: viewerType('CALC_FAILURE'),\n\n  UPDATE_LOCAL_PROGRESS: viewerType('UPDATE_LOCAL_PROGRESS'),\n  GO_TO: viewerType(triggerType('go-to')),\n\n  // components\n  PANEL_TOGGLE: viewerType('TOGGLE_PANEL'),\n  PREFERENCE_TOGGLE: viewerType('TOGGLE_PREFERENCE'),\n  NAVIGATION_TOGGLE: viewerType('TOGGLE_NAVIGATION'),\n  PROGRESS_INFO_TOGGLE: viewerType('TOGGLE_PROGRESS_INFO'),\n\n  // set components state, much simpler than write actions one by one\n  SET_COMPONENT: viewerType('SET_COMPONENT'),\n\n  DESTROY: viewerType('DESTROY')\n}\n\n// modifiy\nexport const REMOVE_ENTITY = 'REMOVE_ENTITY'\n\n/**\n * api\n */\nexport const BOOKS = apiTypes('books')\nexport const BOOK_INFO = apiTypes('book-info')\nexport const BOOK_CONTENT = apiTypes('book-content')\nexport const SESSION = apiTypes('session')\nexport const PROFILE = apiTypes('profile')\nexport const SHELF = apiTypes('shelf')\nexport const USERS = apiTypes('users')\nexport const AUTHORS = apiTypes('authors')\nexport const COLLECTIONS = apiTypes('collections')\nexport const COLLECTION = apiTypes('collection')\nexport const BOOK_PROGRESS = apiTypes('book-progress')\nexport const USER_LOGOUT = apiTypes('user-logout')\nexport const BOOK_PROGRESS_UPDATE = apiTypes('book-progress-update')\n\nexport const DOUBAN_BOOKS = apiTypes('douban-books')\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/actionTypes.ts","import Schema from '../models/schema'\nimport i18n from '../utils/i18n'\nimport validator from '../utils/validator'\nimport DataTypes, { arrayOf } from '../data/types'\n\nexport const user = new Schema('users', [\n  {\n    name: 'username',\n    required: true,\n    unique: true,\n    validators: [\n      {\n        fn: validator.lengthMin(5),\n        errorMsg: i18n('errors.validation.valueLimit.minLength', 'name')\n      },\n      {\n        fn: validator.lengthMax(20),\n        errorMsg: i18n('errors.validation.valueLimit.maxLength', 'name')\n      }\n    ]\n  },\n  {\n    name: 'password',\n    required: true,\n    validators: [\n      {\n        fn: validator.lengthMin(6),\n        errorMsg: i18n('errors.validation.valueLimit.minLength', 'password')\n      },\n      {\n        fn: validator.lengthMax(20),\n        errorMsg: i18n('errors.validation.valueLimit.maxLength', 'password')\n      }\n    ]\n  },\n  {\n    name: 'email',\n    required: true,\n    unique: true,\n    validators: [\n      {\n        fn: validator.isEmail,\n        errorMsg: i18n('errors.validation.valueLimit.invalidFormat', 'email')\n      }\n    ]\n  },\n  {\n    name: 'role',\n    required: true\n  }\n])\n\nexport const file = new Schema('files', [\n  {\n    name: 'filename',\n    required: true\n  },\n  {\n    name: 'content',\n    required: true\n  },\n  {\n    name: 'mimetype'\n  },\n  {\n    name: 'size'\n  },\n  {\n    name: 'encoding'\n  },\n  {\n    name: 'hash',\n    unique: true\n  }\n])\n\nexport const progress = new Schema('reading_progress', [\n  {\n    name: 'percentage',\n    required: true,\n    type: DataTypes.Number\n  },\n  {\n    name: 'user_id',\n    type: DataTypes.ID\n  },\n  {\n    name: 'book_id',\n    type: DataTypes.ID\n  }\n])\n\nexport const tag = new Schema('tags', [\n  {\n    name: 'name',\n    required: true\n  },\n  {\n    name: 'slug',\n    unique: true\n  },\n  {\n    name: 'description'\n  }\n])\n\nexport const author = new Schema('authors', [\n  {\n    name: 'name',\n    required: true\n  },\n  {\n    name: 'slug',\n    unique: true,\n    validators: [\n      {\n        fn: validator.isAlphanumeric,\n        errorMsg: i18n('errors.validation.valueLimit.alphanumeric', 'slug')\n      }\n    ]\n  },\n  {\n    name: 'description'\n  }\n])\n\nexport const book = new Schema('books', [\n  {\n    name: 'title',\n    required: true\n  },\n  {\n    name: 'authors',\n    ref: author,\n    type: arrayOf(DataTypes.ID)\n  },\n  {\n    name: 'description'\n  },\n  {\n    name: 'cover'\n  },\n  {\n    name: 'file',\n    ref: file,\n    required: true\n  }\n])\n\nexport const collection = new Schema('collections', [\n  {\n    name: 'name',\n    required: true\n  },\n  {\n    name: 'items',\n    required: true,\n    ref: book,\n    type: arrayOf(DataTypes.ID)\n  },\n  {\n    name: 'description'\n  },\n  {\n    name: 'creator',\n    required: true,\n    ref: user\n  }\n])\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/data/schemas.ts","import _ from 'lodash'\nimport db, { embedRef, connect } from './database'\nimport errors from '../errors'\nimport i18n from '../utils/i18n'\nimport utils from '../utils'\nimport validate from './validate'\nimport Schema from './schema'\nimport outputEmptyEntity from './output-empty-entity'\nimport paginate from './paginate'\nimport { notFoundIn } from '../helpers'\n\ninterface ListRawOptions {\n  filter?: (entity, index: number) => boolean\n  mapping?: (entity, index: number) => any\n  query?: Object\n}\n\ninterface ListOptions {\n  raw?: boolean\n  disablePagination?: boolean\n  page?: number\n  filter?: (entity, index: number) => boolean\n  mapping?: (entity, index: number) => any\n  query?: Object\n}\n\ntype Match = string | Object\n\nclass Model {\n  _schema: Schema\n  _tableName: string\n\n  static parseQuery(idOrQuery: Match) {\n    if (typeof idOrQuery === 'undefined') {\n      throw new Error('Param idOrQuery is undefined!')\n    }\n\n    return typeof idOrQuery === 'string'\n      ? { _id: idOrQuery }\n      : idOrQuery\n  }\n\n  constructor(schema: Schema) {\n    this._schema = schema\n    this._tableName = schema.name\n  }\n\n  outputEmpty(id) {\n    return outputEmptyEntity(this._schema.fields, id)\n  }\n\n  findOne(idOrQuery: Match, raw?: boolean) {\n    const query = Model.parseQuery(idOrQuery)\n\n    return this.list({ raw, disablePagination: true, query }).then(result => {\n      const entity = result[0]\n\n      if (!entity) {\n        return Promise.reject(notFoundIn(this._schema._baseTable))\n      }\n\n      return entity\n    })\n  }\n\n  list(options: ListOptions = {}) {\n    const { raw, page, disablePagination, filter, mapping, query } = options\n    return connect().then(connection => {\n      const doQuery = () => {\n        const listRaw = listRawQuery => {\n          return connection.collection(this._tableName).find(listRawQuery).toArray()\n        }\n\n        const rawResults = listRaw(query || {})\n\n        if (raw) {\n          return rawResults\n        } else {\n          return rawResults.then(results => {\n            return embedRef(results, this._schema)\n          })\n        }\n      }\n\n      return doQuery().then(entities => {\n        const modifiedEntities = entities\n          .filter(filter || (() => true))\n          .map(mapping || (entity => entity))\n\n        connection.close()\n\n        if (!disablePagination) {\n          return paginate(modifiedEntities, {\n            page: page || 1\n          })\n        }\n\n        return modifiedEntities\n      })\n    })\n  }\n\n  listRaw(options: ListRawOptions = {}) {\n    const { filter, mapping, query } = options\n\n    return this.list({\n      disablePagination: true,\n      raw: true,\n      filter,\n      mapping,\n      query: query || {}\n    }) as any as Promise<any[]>\n  }\n\n  add(data): any {\n    const query = () => {\n      let dataWithID = Object.assign({}, data, {\n        _id: Math.random().toFixed(8).substr(2),\n        date_created: new Date().toString()\n      })\n\n      // \n      const dataToCheck = this._schema.fields\n        .filter(field => Boolean(field.unique))\n        .map(field => ({\n          key: field.name,\n          value: data[field.name]\n        }))\n        .filter(fileld => {\n          return Boolean(fileld.value)\n        })\n\n      const exec = () => {\n        return connect()\n          .then(connection => {\n            const result = connection.collection(this._tableName).insert([dataWithID])\n            connection.close()\n            return result\n          })\n      }\n\n      // \n      if (dataToCheck.length !== 0) {\n        const checkingResult = Promise\n          .all(dataToCheck\n            .map(dataItem => {\n              return db\n                .getRowByMatch({ [dataItem.key]: dataItem.value }, this._tableName)\n                .then(res => {\n                  if (res.length !== 0) {\n                    return dataItem\n                  }\n                  return false as any\n                })\n            }))\n          .then(res => {\n            return res.filter(r => r !== false)\n          })\n\n        return checkingResult.then(res => {\n          if (res.length !== 0) {\n            return Promise.reject(new errors.BadRequestError(i18n('errors.schema.unique', res[0].key)))\n          }\n\n          return exec()\n        })\n      }\n\n      return exec()\n    }\n\n    return utils.reduceTasks([\n      validate(data, this._schema),\n      query\n    ])\n  }\n\n  update(idOrQuery: Match, data, updateConfig: {\n    multi?: boolean\n    upsert?: boolean\n  } = {}) {\n    const { multi, upsert } = updateConfig\n    const query = Model.parseQuery(idOrQuery)\n\n    const doQuery = () => {\n      const data2 = Object.assign({}, data, {\n        date_updated: new Date().toString()\n      })\n\n      const exec = () => {\n        return connect()\n          .then(connection => {\n            const result = connection.collection(this._tableName).update(query, { $set: data2 }, {\n              upsert: Boolean(upsert),\n              multi: Boolean(multi)\n            })\n\n            connection.close()\n\n            return result\n          })\n      }\n\n      if (!upsert) {\n        return this.findOne(idOrQuery, true).then(result => {\n          return exec()\n        })\n      }\n\n      return exec()\n    }\n\n    return utils.reduceTasks([\n      validate(data, this._schema, true),\n      doQuery\n    ])\n  }\n\n  remove(idOrQuery: Match) {\n    const query = Model.parseQuery(idOrQuery)\n\n    return connect()\n      .then(connection => {\n        const result = connection.collection(this._tableName).remove(query)\n        connection.close()\n        return result\n      })\n  }\n}\n\nexport default Model\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/model.ts","/**\n * referenced ghost i18n.js, it's a simplified version\n * and I used js to store local translations instead of json\n */\nimport _ from 'lodash'\nimport cnTranslations from '../translations/cn'\n\nfunction addPadding(str) {\n  if (!str) {\n    return ''\n  }\n\n  if (escape(str.substr(-1)).indexOf('%u') !== 0) {\n    return ` ${str} `\n  }\n\n  return str\n}\n\nfunction getMatchingString(msgPath): any {\n  let matchingString = cnTranslations\n  const path = msgPath.split('.')\n\n  for (let i = 0; i < path.length; i++) {\n    if (matchingString[path[i]]) {\n      matchingString = matchingString[path[i]]\n    } else {\n      matchingString = null\n      break\n    }\n  }\n\n  return matchingString\n}\n\nfunction addPunc(str, lang?) {\n  // todo: lang\n  return `${str}`\n}\n\nexport default function i18n(msgPath, value?) {\n  let matchingString = getMatchingString(msgPath)\n\n  if (_.isNull(matchingString)) {\n    console.error('Unable to find matching path [' + msgPath + '] in locale file.\\n')\n    matchingString = 'i18n error: path \"' + msgPath + '\" was not found.'\n  } else {\n    const placeholderIndex = matchingString.indexOf('{value}')\n\n    if (placeholderIndex !== -1) {\n      const before = matchingString.substring(0, placeholderIndex)\n      const after = matchingString.substr(placeholderIndex + 7)\n      let matchingValue = ''\n\n      if (typeof value !== 'undefined') {\n        matchingValue = getMatchingString(`common.terms.${value}`)\n        if (_.isNull(matchingValue)) {\n          matchingValue = value\n        }\n        matchingValue = addPadding(matchingValue)\n      }\n\n      matchingString = addPunc(before + matchingValue + after)\n    } else {\n      matchingString = addPunc(matchingString)\n    }\n  }\n\n  return matchingString.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/utils/i18n.ts","import { selectors as form } from 'better-redux-form'\nimport _ from 'lodash'\nimport * as viewer from './viewer'\nimport * as utils from './utils'\nimport * as pagination from './pagination'\n\nexport const session = state => _.get(state, 'session', {}) as Session\nexport const routing = state => _.get(state, 'routing.locationBeforeTransitions', {})\nexport const profile = state => _.get(state, 'profile', {})\n\nexport * from './utils'\nexport { utils, form, viewer, pagination }\n\n\n\n// WEBPACK FOOTER //\n// ./src/selectors/index.ts","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 13\n// module chunks = 17","import _ from 'lodash'\nimport schemas from '../schemas'\nimport { DOUBAN_API_ROOT } from '../constants'\nimport { createTriggerAction } from './utils'\nimport * as ActionTypes from '../constants/actionTypes'\nimport * as selectors from '../selectors'\n\nexport const removeEntity = (name: string, id: string) =>\n  ({ type: ActionTypes.REMOVE_ENTITY, name, id })\n\n// load actions\n// books\nexport const loadBooks = (page = 1, q?) => {\n  return createTriggerAction(ActionTypes.BOOKS, {\n    request: {\n      url: 'books',\n      query: {\n        page, q\n      }\n    },\n    schema: schemas.BOOK_ARRAY\n  })\n}\n\nexport const loadBookInfo = (id) => {\n  return createTriggerAction(ActionTypes.BOOK_INFO, {\n    request: {\n      url: `books/${id}`\n    },\n    targetId: id,\n    schema: schemas.BOOK\n  })\n}\n\nexport const loadBookContent = (id) => {\n  return createTriggerAction(ActionTypes.BOOK_CONTENT, {\n    request: {\n      url: `books/${id}/content`\n    },\n    targetId: id,\n    schema: schemas.BOOK_CONTENT\n  })\n}\n\n// user\nexport const loadProfile = () => {\n  return createTriggerAction(ActionTypes.PROFILE, {\n    request: {\n      url: `user/profile`\n    }\n  })\n}\n\nexport const loadShelf = () => {\n  return createTriggerAction(ActionTypes.SHELF, {\n    request: {\n      url: `user/books/shelf`\n    },\n    schema: schemas.SHELF_BOOK_ARRAY\n  })\n}\n\nexport const loadUsers = (page = 1) => createTriggerAction(ActionTypes.USERS, {\n  request: {\n    url: `users`,\n    query: {\n      page\n    }\n  },\n  schema: schemas.USER_ARRAY\n})\n\nexport const updateBookProgress = (bookId, percentage) => (dispatch, getState) => {\n  const state = getState()\n  const session = selectors.session(state)\n  const status: Viewer.Status = selectors.viewer.status(state)\n  if (session.role !== 'visitor' && status.isReady) {\n    return dispatch(createTriggerAction(ActionTypes.BOOK_PROGRESS_UPDATE, {\n      request: {\n        url: `user/books/${bookId}/progress`,\n        method: 'PUT',\n        data: {\n          percentage\n        }\n      }\n    }))\n  }\n}\n\n// app\nexport const loadSession = () => createTriggerAction(ActionTypes.SESSION, {\n  request: {\n    url: 'auth'\n  }\n})\n\nexport const loadBookProgress = (id) => createTriggerAction(ActionTypes.BOOK_PROGRESS, {\n  request: {\n    url: `user/books/${id}/progress`,\n  },\n  targetId: id,\n  schema: schemas.BOOK_PROGRESS\n})\n\nexport const logout = () => createTriggerAction(ActionTypes.USER_LOGOUT, {\n  request: {\n    url: `auth/revoke`,\n    method: 'PUT'\n  }\n})\n\n// other untested\nexport const loadAuthors = (page = 1, q?) => createTriggerAction(ActionTypes.AUTHORS, {\n  request: {\n    url: `authors`,\n    query: {\n      page,\n      q\n    }\n  },\n  schema: schemas.AUTHOR_ARRAY\n})\n\nexport const loadCollections = () => createTriggerAction(ActionTypes.COLLECTIONS, {\n  request: {\n    url: `collections`\n  },\n  schema: schemas.COLLECTION_ARRAY\n})\n\nexport const loadCollection = (id) => createTriggerAction(ActionTypes.COLLECTION, {\n  request: {\n    url: `collections/${id}`\n  },\n  targetId: id,\n  schema: schemas.COLLECTION\n})\n\n// 3rd party\nexport const searchDoubanBooks = (keyword) => createTriggerAction(ActionTypes.DOUBAN_BOOKS, {\n  request: {\n    url: `${DOUBAN_API_ROOT}/book/search?count=10&q=${keyword}`,\n    useJsonp: true\n  },\n  schema: schemas.DOUBAN_BOOK_SEARCH_RESULTS\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/api.ts","import * as lifecircle from './lifecircle'\nimport getApiRoot from './getApiRoot'\nimport isServerRoutingEnabled from './isServerRoutingEnabled'\nimport redirect from './redirect'\nimport isServerEnv from './isServerEnv'\nimport print from './print'\n\nexport default Object.assign({}, lifecircle, {\n  getApiRoot,\n  isServerRoutingEnabled,\n  redirect,\n  isServerEnv,\n  print\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/index.ts","import NotFoundError from './not-found-error'\nimport ValidationError from './validation-error'\nimport BadRequestError from './bad-request-error'\nimport InternalServerError from './internal-server-error'\nimport NoPermissionError from './no-permission-error'\nimport UnauthorizedError from './unauthorized-error'\nimport RequestEntityTooLargeError from './request-too-large-error'\nimport UnsupportedMediaTypeError from './unsupported-file-type-error'\nimport EmailError from './email-error'\nimport MethodNotAllowedError from './method-not-allowed-error'\nimport TooManyRequestsError from './too-many-requests-error'\nimport TokenRevocationError from './token-revocation-error'\nimport GenericError from './generic-error'\n\nexport default {\n  NotFoundError,\n  ValidationError,\n  BadRequestError,\n  InternalServerError,\n  NoPermissionError,\n  UnauthorizedError,\n  RequestEntityTooLargeError,\n  UnsupportedMediaTypeError,\n  EmailError,\n  MethodNotAllowedError,\n  TooManyRequestsError,\n  TokenRevocationError,\n  GenericError,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/index.ts","module.exports = require(\"classnames\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"classnames\"\n// module id = 17\n// module chunks = 17","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 18\n// module chunks = 17","import getCurrentTime from './getCurrentTime'\nimport padNumberWithZero from './padNumberWithZero'\nimport parseQuery from './parseQuery'\nimport parseUrlencoded from './parseUrlencoded'\nimport dom from './dom'\nimport browser from './browser'\n\nexport default Object.assign({\n  getCurrentTime,\n  padNumberWithZero,\n  parseQuery,\n  parseUrlencoded\n}, dom, browser)\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.ts","import { createSelector } from 'reselect'\nimport _ from 'lodash'\nimport { denormalize } from 'normalizr'\n\nconst DEFAULT_KEY = 'default'\n\n// new\n// entities\nconst collapseEntities = (entities) => {\n  return _.mapValues(entities, val => {\n    return val.entities\n  })\n}\n\nexport const pagination = (name, key = 'default') => state =>\n  _.get(state, ['pagination', name, key], {}) as SelectedPagination\n\nexport const collapsedEntities = state =>\n  collapseEntities(_.get(state, 'entities', {})) || {}\n\ninterface PagedEntitiesOptions {\n  schema: any\n  paginationName: any\n  paginationKey?: any\n}\nexport const pagedEntities = ({ schema, paginationName, paginationKey }: PagedEntitiesOptions) => createSelector(\n  pagination(paginationName, paginationKey = 'default'),\n  collapsedEntities,\n  (_pagination, _allEntities) => {\n    const pagedIds = _pagination.pages\n    const pages = _.mapValues(pagedIds, ids => {\n      return denormalize(ids, schema, _allEntities)\n    })\n    return {\n      ..._pagination,\n      ...{\n        ...{ pages }\n      }\n    }\n  }\n)\n\nexport const entity = (name, id) => (state): SelectedEntity => {\n  return {\n    ..._.get(state, ['entities', name, 'entities', id], {}),\n    ...{\n      fetchStatus: _.get(state, ['entities', name, 'fetchStatus', id]) as any,\n      error: _.get(state, ['entities', name, 'errors', id]) as any\n    }\n  }\n}\n\nexport const currentPage = (name, key = DEFAULT_KEY) => createSelector(\n  pagination(name, key),\n  _pagination => {\n    const next = _.get(_pagination, 'next.page')\n    const last = _.get(_pagination, 'last.page')\n\n    return next\n      ? next as any - 1\n      : last\n  }\n)\n\n// old\n// export const isPaginationFetching = (name, key = DEFAULT_KEY) => state => {\n//   return _.get(state, ['pagination', name, key, 'fetchStatus']) === FETCH_STATUS.LOADING\n// }\n\n// export const paginationPages = (name, key = DEFAULT_KEY) => state => {\n//   return _.get(state, ['pagination', name, key, 'pages'], {})\n// }\n\n// export const paginationLinks = (name, key = DEFAULT_KEY) => state => {\n//   return _.pick(_.get(state.pagination, `${name}.${key}`, {}), ['next', 'last'])\n// }\n\n// export const nextPage = (name, key = DEFAULT_KEY) => createSelector(\n//   paginationLinks(name, key),\n//   selectedPaginationLinks => {\n//     return _.get(selectedPaginationLinks, 'next.page', 0)\n//   }\n// )\n\n// interface EntityPagesOptions {\n//   entitiesName: string\n//   paginationName: string\n//   paginationKey?: string\n// }\n// export const entityPages = (options: EntityPagesOptions) => {\n//   const { entitiesName, paginationName, paginationKey } = options\n\n//   return createSelector(\n//     entities(entitiesName),\n//     paginationPages(paginationName, paginationKey),\n//     (selectedEntities, pages) => {\n//       return _.mapValues(pages, ids => {\n//         return (ids as string[])\n//           .map(id => selectedEntities[id])\n//           .filter(item => Boolean(item))\n//       })\n//     }\n//   )\n// }\n\n// interface PagedEntitiesOptions extends EntityPagesOptions {\n//   page?: string | number\n// }\n// export const pagedEntities = (options: PagedEntitiesOptions) => {\n//   const { page } = options\n\n//   return createSelector(\n//     entityPages(options),\n//     pages => {\n//       if (page) {\n//         return _.get(pages, [page], [])\n//       }\n\n//       let allEntities = []\n//       _.keys(pages).forEach(p => {\n//         allEntities = allEntities.concat(pages[p])\n//       })\n\n//       return allEntities\n//     }\n//   )\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/selectors/utils.ts","import errors from '../errors'\nimport i18n from '../utils/i18n'\nimport computeHash from './compute-hash'\n\nexport function notFoundError(itemName?) {\n  return new errors.NotFoundError(i18n('errors.api.general.notFound', itemName))\n}\n\nexport function notFoundIn(collectionName?) {\n  return new errors.NotFoundError(i18n('errors.api.general.notFoundIn', collectionName))\n}\n\nexport { computeHash }\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/helpers/index.ts","import _ from 'lodash'\n\n// todo\nexport default function parseUrlencoded(originalObj) {\n  if (_.isEmpty(originalObj)) {\n    return ''\n  }\n\n  let object = _.cloneDeep(originalObj)\n  let encodedurl = ''\n\n  for (let prop in object) {\n    if (typeof object[prop] === 'object' && object[prop] !== null) {\n      object[prop] = object[prop].toString()\n    }\n\n    encodedurl = `${encodedurl}${prop}=${encodeURI(object[prop])}&`\n  }\n\n  return encodedurl.substr(0, encodedurl.length - 1)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseUrlencoded.ts","module.exports = require(\"humps\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"humps\"\n// module id = 23\n// module chunks = 17","module.exports = require(\"normalizr\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"normalizr\"\n// module id = 24\n// module chunks = 17","module.exports = require(\"better-redux-form\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"better-redux-form\"\n// module id = 25\n// module chunks = 17","import Icon from './Icon'\nexport default Icon\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icon/index.ts","import Container from './Container'\nexport default Container\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Container/index.ts","export const THEMES = {\n  WHITE: 'WHITE',\n  NIGHT: 'NIGHT',\n  SEPIA: 'SEPIA'\n}\n\nexport const MOBILE_BREAK_POINT = 700\nexport const DEFAULT_PAGE_HEIGHT = 900\nexport const DEFAULT_FONT_SIZE = 16\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/viewerDefs.ts","export default function isDescendant(parent: HTMLElement, child: HTMLElement) {\n  let node = child.parentNode\n\n  while (node != null) {\n    if (node === parent) {\n      return true\n    }\n    node = node.parentNode\n  }\n  return false\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/dom/isDescendant.ts","import _ from 'lodash'\n\n// action types\nexport const createRequestTypes = base => {\n  return ['REQUEST', 'SUCCESS', 'FAILURE'].reduce((acc, type) => {\n    acc[type] = `api/${base}/${type}`\n    return acc\n  }, {}) as RequestTypes\n}\n\nexport const componentType = (name, operation) =>\n  `components/${name}/${operation}`\n\nexport const triggerType = (operation: string) =>\n  `saga/${operation}/TRIGGER`\n\nexport const apiTypes = (name): SagaActionTypes => {\n  return {\n    ...createRequestTypes(name),\n    ...{\n      TRIGGER: triggerType(name)\n    }\n  }\n}\n\n// action creator helpers\nexport const createTriggerAction = (types: SagaActionTypes, options: CreateSagaActionOptions): LoaderAction => {\n  const { payload, meta, schema, targetId, request } = options\n\n  return {\n    type: types.TRIGGER,\n    payload: {\n      ...{\n        request\n      },\n      ...payload\n    },\n    meta: {\n      ...{\n        types,\n        targetId,\n        schema\n      },\n      ...meta\n    } as any\n  }\n}\n\nexport const createActionEntity = (types) => {\n  return {\n    request: (payload?, meta?: object) => {\n      return {\n        type: types.REQUEST,\n        payload,\n        meta\n      }\n    },\n\n    success: (payload, meta?: object) => {\n      return {\n        type: types.SUCCESS,\n        payload,\n        meta\n      }\n    },\n\n    failure: (payload, meta?: object) => {\n      return {\n        type: types.FAILURE,\n        payload,\n        error: true,\n        meta\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/utils.ts","import React from 'react'\nimport { INITIAL_STATE } from '../constants'\n\nexport const DOCTYPE = '<!DOCTYPE html>'\n\ninterface Props {\n  bodyClass?: string\n  appMarkup: string | JSX.Element\n  initialState?: Object\n  helmetHeadObject?: {\n    htmlAttributes?\n    title?\n    base?\n    meta?\n    link?\n    script?\n    noscript?\n    style?\n  }\n\n  // override title in helmetHeadObject\n  title?: string\n\n  script?: ({\n    src?: string\n    type?: string\n    innerHTML?: string\n  } | string)[]\n\n  link?: ({\n    rel?: string\n    href: string\n  } | string)[]\n\n  children?: Object\n}\n\nconst AppDoc = (props: Props) => {\n  const {\n    script: bodyScript,\n    link: otherLink,\n    bodyClass, appMarkup, initialState,\n    helmetHeadObject: {\n      title, meta, link: helmetLink, script: headScript\n    },\n    title: masterTitle\n  } = props\n\n  return (\n    <html lang=\"zh-CN\">\n      <head>\n        <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\" />\n        <meta name=\"description\" content=\"\" />\n        {\n          masterTitle\n            ? <title>{masterTitle || (title && title.toString())}</title>\n            : (title && title.toComponent())\n        }\n        {meta && meta.toComponent()}\n        {helmetLink && helmetLink.toComponent()}\n        {\n          otherLink && (\n            otherLink.map((link, index) => {\n              let href\n              let rel = 'stylesheet'\n\n              if (typeof link === 'string') {\n                href = link\n              } else {\n                href = link.href\n                if (link.rel) {\n                  rel = link.rel\n                }\n              }\n\n              return (\n                <link key={index} href={href} rel={rel} />\n              )\n            })\n          )\n        }\n        {headScript && headScript.toComponent()}\n      </head>\n      <body {...bodyClass && { className: bodyClass }}>\n        {props.children}\n        {\n          typeof appMarkup === 'string'\n            ? <div id=\"root\" dangerouslySetInnerHTML={{ __html: appMarkup || '' }} />\n            : <div id=\"root\">{appMarkup}</div>\n        }\n        {\n          initialState && (\n            <script\n              dangerouslySetInnerHTML={{ __html: `var ${INITIAL_STATE} = ${JSON.stringify(initialState || {})};` }}\n            />\n          )\n        }\n        {\n          bodyScript && (\n            bodyScript.map((script, index) => {\n              if (typeof script === 'string') {\n                return (\n                  <script key={index} src={script} />\n                )\n              }\n\n              const { src, type, innerHTML } = script\n\n              return (\n                <script\n                  key={index}\n                  src={src}\n                  type={type || 'text/javascript'}\n                  dangerouslySetInnerHTML={{ __html: innerHTML }}\n                />\n              )\n            })\n          )\n        }\n      </body>\n    </html>\n  )\n}\n\nAppDoc['defaultProps'] = {\n  helmetHeadObject: {}\n}\n\nexport default AppDoc\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AppDoc.tsx","import Logo from './Logo'\nexport default Logo\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Logo/index.ts","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport utils from '../../utils'\nimport Fade from '../Fade'\nimport _ from 'lodash'\nimport styles from './Modal.scss'\n\nexport interface Props {\n  width: number\n  onRequestClose: () => void\n  open: boolean\n  className?: string\n}\n\ninterface State {\n  modalHeight?: number\n  isModalHidden?: boolean\n  isModalVerticalCenter?: boolean\n  documentHeight?: number\n  clicks?: number\n}\n\nclass Modal extends Component<Props, State> {\n\n  modal: HTMLDivElement\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modalHeight: 0,\n      isModalHidden: false,\n      isModalVerticalCenter: true,\n      clicks: 0\n    }\n    this.setView = this.setView.bind(this)\n    this.hideModal = this.hideModal.bind(this)\n  }\n\n  hideModal() {\n    this.props.onRequestClose()\n    utils.unlockScroll()\n  }\n\n  setView() {\n    let modalHeight = ReactDOM.findDOMNode(this.modal).clientHeight\n    let isModalVerticalCenter = true\n    let documentHeight = document.body.clientHeight\n\n    if (window.innerHeight < modalHeight) {\n      isModalVerticalCenter = false\n    }\n\n    if (window.innerHeight > document.body.clientHeight) {\n      documentHeight = window.innerHeight\n    }\n\n    this.setState({\n      modalHeight,\n      isModalVerticalCenter,\n      documentHeight\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !_.isEqual(this.state, nextState) || !_.isEqual(this.props, nextProps)\n  }\n\n  componentDidUpdate(prevProps) {\n    // modal show\n    if (!prevProps.open && this.props.open === true) {\n      this.setView()\n      utils.lockScroll()\n      window.addEventListener('resize', this.setView)\n    }\n\n    // modal hide\n    if (prevProps.open === true && this.props.open === false) {\n      window.removeEventListener('resize', this.setView)\n      utils.unlockScroll()\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.setView)\n  }\n\n  render() {\n    const { open } = this.props\n\n    const defaultClass = 'modal'\n    const modalId = `modal-${(new Date()).valueOf()}`\n\n    let className = this.props.className ? `${defaultClass} ${this.props.className}` : defaultClass\n\n    let width = this.props.width ? this.props.width : 500\n    let height = this.state.modalHeight\n    let style = {\n      backdrop: {},\n      verticalCenter: {},\n      scroll: {},\n      modal: {}\n    }\n\n    style.backdrop = {\n      position: 'fixed',\n      height: '100%',\n      width: '100%',\n      left: 0,\n      top: 0,\n      background: 'rgba(0, 0, 0, 0.23)',\n      overflow: 'scroll'\n    }\n\n    style.verticalCenter = {\n      width,\n      marginTop: -height / 2,\n      marginLeft: -width / 2,\n      position: 'absolute',\n      left: '50%',\n      top: '50%'\n    }\n\n    style.scroll = {\n      width,\n      margin: '50px auto'\n    }\n\n    style.modal = {}\n\n    if (this.state.isModalVerticalCenter) {\n      style.modal = Object.assign({}, style.modal, style.verticalCenter)\n    } else {\n      style.modal = Object.assign({}, style.modal, style.scroll)\n    }\n\n    return (\n      <Fade>\n        {\n          open === true && (\n            <div\n              onClick={e => {\n                // \n                if ((e.target as any).querySelector(`#${modalId}`)) {\n                  this.hideModal()\n                }\n              } }\n              className={styles['modal-backdrop']}\n              style={style.backdrop}\n              >\n              <div\n                id={modalId}\n                style={style.modal}\n                className={`${styles['modal']} ${className}`}\n                ref={ref => { this.modal = ref } }\n                >\n                {this.props.children}\n              </div>\n            </div>\n          )\n        }\n      </Fade>\n    )\n  }\n}\n\nexport default Modal\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/Modal.tsx","import Modal from './Modal'\nimport ModalPlus from './ModalPlus'\nimport ConfirmModal from './ConfirmModal'\n\nexport default Modal\nexport * from './Modal'\nexport { ModalPlus, ConfirmModal }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/index.ts","import { schema } from 'normalizr'\n\nconst author = new schema.Entity('authors', {}, {\n  idAttribute: 'id'\n})\n\nconst book = new schema.Entity('books',\n  {\n    authors: [author]\n  },\n  { idAttribute: 'id' }\n)\n\nconst bookContent = new schema.Entity('bookContents', {}, {\n  idAttribute: 'id'\n})\n\nconst collection = new schema.Entity('bookCollections', {\n  items: [book]\n}, {\n  idAttribute: 'id'\n})\n\nconst profile = new schema.Entity('profiles', {}, {\n  idAttribute: 'id'\n})\n\nconst user = new schema.Entity('users', {}, {\n  idAttribute: 'id'\n})\n\nconst doubanBook = new schema.Entity('doubanBooks', {}, {\n  idAttribute: 'id'\n})\n\nconst shelfBook = new schema.Entity('shelfBooks', {}, {\n  idAttribute: 'id'\n})\n\nconst bookProgress = new schema.Entity('bookProgress', {}, {\n  idAttribute: 'bookId'\n})\n\nconst matchedBooks = new schema.Entity('books', {}, {\n  idAttribute: 'bookId'\n})\n\nexport default {\n  BOOK: book,\n  BOOK_CONTENT: bookContent,\n  BOOK_PROGRESS: bookProgress,\n  BOOK_ARRAY: [book],\n  DOUBAN_BOOK_SEARCH_RESULTS: { books: [doubanBook] },\n  USER_ARRAY: [user],\n  MATCHED_BOOK_ARRAY: [matchedBooks],\n  COLLECTION: collection,\n  COLLECTION_ARRAY: [collection],\n  PROFILE: profile,\n  AUTHOR: author,\n  AUTHOR_ARRAY: [author],\n  SHELF_BOOK_ARRAY: [shelfBook]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/schemas.ts","import validator from './validator'\nimport i18n from './i18n'\nimport pipeline from './pipeline'\nimport reduceTasks from './reduce-tasks'\nimport sortByDate from './sort-by-date'\n\nexport default { validator, i18n, pipeline, reduceTasks, sortByDate }\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/utils/index.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".nav-link_cjTwO {\\n  color: #fff; }\\n  .nav-link_cjTwO:hover {\\n    color: #ddd; }\\n\\n.branding_1IEww {\\n  min-height: 60px;\\n  background: #222; }\\n\\n.dropdown-menu_21i1D {\\n  position: absolute;\\n  top: 60px;\\n  right: 0;\\n  z-index: 999; }\\n\\n.username_kfL62,\\n.nav-links_ujJ6c {\\n  line-height: 60px; }\\n\\n.nav_UkZSx, .nav--user_zzwPX {\\n  position: relative;\\n  color: #fff;\\n  cursor: pointer;\\n  padding: 0 10px;\\n  line-height: 60px;\\n  display: inline-block; }\\n\\n.dropdown-recent-reading_3q8TW {\\n  margin-right: 15px; }\\n\\n.nav--user_zzwPX {\\n  float: right; }\\n\\n.nav-link_cjTwO {\\n  padding: 0 5px; }\\n\\n.nav-item_2DQyO {\\n  display: inline-block; }\\n\\n.recent-reading_2gBvL {\\n  margin-right: 15px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"nav-link\": \"nav-link_cjTwO\",\n\t\"branding\": \"branding_1IEww\",\n\t\"dropdown-menu\": \"dropdown-menu_21i1D\",\n\t\"username\": \"username_kfL62\",\n\t\"nav-links\": \"nav-links_ujJ6c\",\n\t\"nav\": \"nav_UkZSx\",\n\t\"nav--user\": \"nav--user_zzwPX\",\n\t\"dropdown-recent-reading\": \"dropdown-recent-reading_3q8TW\",\n\t\"nav-item\": \"nav-item_2DQyO\",\n\t\"recent-reading\": \"recent-reading_2gBvL\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Branding/Branding.scss\n// module id = 37\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Dropdown.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Dropdown.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Dropdown.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Dropdown/Dropdown.scss\n// module id = 38\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Modal.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Modal.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Modal.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modal/Modal.scss\n// module id = 39\n// module chunks = 17","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 40\n// module chunks = 17","module.exports = require(\"redux-saga/effects\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-saga/effects\"\n// module id = 41\n// module chunks = 17","module.exports = require(\"url-join\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url-join\"\n// module id = 42\n// module chunks = 17","import { actions as form } from 'better-redux-form'\nimport * as api from './api'\nimport * as viewer from './viewer'\nimport * as ActionTypes from '../constants/actionTypes'\n\nexport const sendNotification = (message: string, msgType: TNotification = 'success', t: number = 2000) => {\n  return (dispatch, getState) => {\n    const id = Math.random().toFixed(8).substr(2)\n\n    dispatch(showNotification(id, message, msgType))\n    if (t !== 0) {\n      setTimeout(() => {\n        dispatch(hideNotification(id))\n      }, t)\n    }\n  }\n}\n\nexport function showNotification(id: string, message: string, msgType: TNotification = 'success') {\n  return {\n    type: ActionTypes.NOTIFICATION.SHOW,\n    message,\n    msgType,\n    id\n  }\n}\nexport function hideNotification(id: string) {\n  return {\n    type: ActionTypes.NOTIFICATION.HIDE,\n    id\n  }\n}\n\n// confirm modal\ntype openConfirmModal = {\n  title?: string\n  content: string\n  onConfirm: () => void\n}\nexport function openConfirmModal(data: openConfirmModal) {\n  return {\n    type: ActionTypes.OPEN_CONFIRM_MODAL,\n    data\n  }\n}\nexport function closeConfirmModal() {\n  return {\n    type: ActionTypes.CLOSE_CONFIRM_MODAL\n  }\n}\n\n// modal\nexport type openModal = {\n  title: string\n  subTitle?: string\n  content?: JSX.Element\n}\nexport function openModal(data: openModal) {\n  return {\n    type: ActionTypes.MODAL.OPEN,\n    data\n  }\n}\nexport function closeModal() {\n  return {\n    type: ActionTypes.MODAL.CLOSE\n  }\n}\n\n\nexport const initializeForm = form.initialize\nexport const resetForm = form.reset\n\nexport { api, viewer, form }\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/index.ts","import React, { Component } from 'react'\nimport _ from 'lodash'\nimport Helmet from 'react-helmet'\nimport BodyClass from './BodyClass'\n\ninterface Props {\n  className?: string\n  styleName?: string\n  bodyClass?: string\n\n  // shortcut for head\n  // override title in head\n  title?: string\n\n  // from helmet\n  head?: {\n    base?: any\n    defaultTitle?: string\n    htmlAttributes?: any\n    title?: string\n    link?: Array<any>\n    meta?: Array<any>\n    script?: Array<any>\n    style?: Array<any>\n    titleTemplate?: string\n    onChangeClientState?: (newState: any) => void\n  }\n}\n\nclass DocContainer extends Component<Props, void> {\n\n  static rewind: () => {\n    bodyClass: string\n    head: Object\n  }\n\n  render() {\n    const { bodyClass, title, head } = this.props\n    const helmetProps = {\n      ...head,\n      ...{\n        title\n      }\n    }\n\n    return (\n      <div className={'gb-doc-container'}>\n        <Helmet {...helmetProps} />\n        <BodyClass className={bodyClass}>{this.props.children}</BodyClass>\n      </div>\n    )\n  }\n}\n\nDocContainer.rewind = () => {\n  const bodyClass = BodyClass.rewind()\n  const head = Helmet.rewind()\n\n  return {\n    head,\n    bodyClass\n  }\n}\n\nexport default DocContainer\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DocContainer.tsx","import Container from './Container'\nexport { Container }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layout.ts","import React, { Component } from 'react'\nimport Icon from '../Icon'\nimport CSSModules from 'react-css-modules'\nconst styles = require('./Alert.scss')\n\ninterface Props {\n  message: string\n  type?: TNotification\n  onRequestClose?: () => void\n  visible: boolean\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass Alert extends Component<Props, {}> {\n  render() {\n    const type = this.props.type ? this.props.type : 'success'\n    return (\n      <div>\n        {\n          this.props.visible && (\n            <div\n              styleName={`alert--${type}`}\n              >\n              <div styleName=\"alert-close\">\n                <Icon\n                  onClick={this.props.onRequestClose}\n                  name=\"close\"\n                  size={15}\n                  />\n              </div>\n              <div styleName=\"content\">{this.props.message}</div>\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nexport default Alert\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Alert/Alert.tsx","import Dropdown from './Dropdown'\nimport DropdownItem from './DropdownItem'\nimport DropdownItemSep from './DropdownItemSep'\n\nexport { DropdownItem, Dropdown, DropdownItemSep }\nexport default Dropdown\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Dropdown/index.ts","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { RouterContext } from 'react-router'\nimport _ from 'lodash'\n\n// type TProps = {\n//   store: any\n//   renderProps: any\n//   renderPageContent?: boolean\n// }\n\nconst ServerSideAppRoot = (props) => {\n  const { store, renderProps, renderPageContent } = props\n\n  return (\n    !_.isEmpty(renderProps) && (\n      <Provider store={store}>\n        {\n          renderPageContent\n            ? (\n              <RouterContext {...renderProps} />\n            )\n            : <div className=\"text-loading\">Loading...</div>\n        }\n      </Provider>\n    )\n  )\n}\n\nexport default ServerSideAppRoot\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ServerSideAppRoot.tsx","import getEnv from './getEnv'\n\nconst env = getEnv()\n\nexport default function getApiRoot() {\n  const { PORT } = env\n\n  if (process.env.NODE_ENV === 'production') {\n    // todo: domain\n    return `/api`\n  }\n\n  return `http://localhost:${PORT}/api`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/getApiRoot.ts","export default function isServerEnv() {\n  return typeof window === 'undefined'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/isServerEnv.ts","import { ENABLE_SERVER_ROUTING } from '../constants'\n\nexport default function isServerRoutingEnabled() {\n  return Boolean(window[ENABLE_SERVER_ROUTING])\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/isServerRoutingEnabled.ts","import Model from '../models/model'\nimport * as schemas from '../data/schemas'\nimport _ from 'lodash'\n\nconst fileModel = new Model(schemas.file)\n\nexport function readFile(fileId, parser?: (file: any) => Promise<any>): Promise<any> {\n  return fileModel.findOne(fileId).then(fileResult => {\n    if (parser && typeof parser === 'function') {\n      const binaryFile = fileResult.content.buffer\n\n      return parser(binaryFile).then(content => {\n        return _.assign({}, fileResult, {\n          content\n        })\n      })\n    }\n\n    return fileResult\n  })\n}\n\n// TODO\nexport function delFile(fileId) {\n  return fileModel.findOne(fileId).then(resultFile => {\n    return fileModel.remove(fileId)\n  }, error => {\n    if (error.type === 'NotFoundError') {\n      return {\n        message: 'File record not found, probably because it doesn\\'t exist, or hasn\\'t been created in the first place!'\n      }\n    }\n    return Promise.reject(error) as any\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api/file.ts","import parseContext from './parse-context'\nimport auth from './auth'\nimport requirePermissionsOf from './require-permissions-of'\nimport handleError from './handle-error'\nimport handleJSONResponse from './handle-json-response'\nimport logFile from './log-file'\nimport prepareApi from './prepare-api'\nimport handleApiNotFound from './handle-api-not-found'\nimport setHeader from './set-header'\n\nexport default {\n  parseContext,\n  auth,\n  requirePermissionsOf,\n  handleError,\n  handleJSONResponse,\n  logFile,\n  prepareApi,\n  handleApiNotFound,\n  setHeader\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/index.ts","import _ from 'lodash'\nimport { Field } from './schema'\n\nexport default function outputEmptyEntity(fields: Field[], idObjOrIdString = {}) {\n  // id \n  let idObj = idObjOrIdString\n\n  if (typeof idObjOrIdString === 'string') {\n    idObj = { _id: idObjOrIdString }\n  }\n\n  const entity = {}\n\n  fields.forEach(field => {\n    // todo\n    // \n    entity[field.name] = ''\n  })\n\n  return _.assign({}, entity, idObj)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/output-empty-entity.ts","import _ from 'lodash'\n\nexport type Fields = string[]\n\nexport interface ListingOptions {\n  page?: number\n  limit?: number\n  order?: 'new' | 'old'\n}\n\nconst defaultOptions = {\n  page: 1,\n  limit: 10,\n  // todo: remove\n  order: 'new'\n}\n\nexport default function paginate(results, options?: ListingOptions) {\n  let { page, limit, order } = Object.assign({}, defaultOptions, options)\n  // query  string\n  page = parseInt(page as any, 10)\n  //  page  0  1 \n  //  GitHub api\n  page = page <= 0 ? 1 : page\n  limit = parseInt(limit as any, 10)\n\n  // if (order === 'new') {\n  //   results.reverse()\n  // }\n\n  const startIndex = (page - 1) * limit\n\n  return {\n    entities: results.slice(startIndex, limit + startIndex),\n    _pagination: {\n      current: page,\n      all: Math.ceil(results.length / limit) || 1\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/paginate.ts","const colors = require('colors/safe')\n\nconst print = {\n  info(message) {\n    console.info('\\n' + colors.bgGreen.bold.white(' INFO '), colors.green(message))\n  },\n\n  test(message) {\n    console.info('\\n' + colors.bgCyan.bold.black(' INFO '), typeof message !== 'object' ? colors.cyan(message) : message)\n  },\n\n  warn(message) {\n    console.error('\\n' + colors.bgYellow.bold.black(' WARNING '), typeof message !== 'object' ? colors.yellow(message) : message)\n  },\n\n  error(message) {\n    console.error('\\n' + colors.bgRed.bold.white(' ERROR '), typeof message !== 'object' ? colors.red(message) : message)\n  }\n}\n\nexport default print\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/utils/print.ts","const validator = require('validator')\n\nconst additionalValidators = {\n  lengthMin(len) {\n    return input => {\n      return input.length >= len\n    }\n  },\n\n  lengthMax(len) {\n    return input => {\n      return input.length <= len\n    }\n  }\n}\n\nexport default Object.assign({}, validator, additionalValidators) as any\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/utils/validator.ts","import 'isomorphic-fetch'\nimport parseUrlencoded from '../../utils/parseUrlencoded'\nimport jsonp from './jsonp'\n\nexport type CallApiOptions = {\n  method?: 'GET' | 'POST' | 'DELETE' | 'PUT'\n  credentials?: 'include' | 'same-origin'\n  dataType?: 'urlencoded' | 'json'\n  data?: {}\n  useJsonp?: boolean\n  cookies?: any\n}\n\ntype FetchOptions = {\n  method?: string\n  credentials?: 'include' | 'same-origin'\n  headers?: any\n  body?: string\n  useJsonp?: boolean\n}\n\nconst createCookieString = (cookies) => Object.keys(cookies)\n  .reduce((previous, key) => `${previous}${key}=${cookies[key]}; `, '')\n\nconst defaultOptions: CallApiOptions = {\n  dataType: 'json',\n  method: 'GET',\n  credentials: 'same-origin'\n}\n\n// return fetch options\nconst parseOptions = (originanOptions: CallApiOptions) => {\n  let { method, data, credentials, dataType, useJsonp, cookies } = Object.assign({}, defaultOptions, originanOptions)\n  let fetchOptions: FetchOptions = {}\n\n  if (useJsonp) {\n    return {\n      useJsonp: true\n    }\n  }\n\n  if (method) {\n    fetchOptions.method = method\n  }\n\n  if (credentials) {\n    fetchOptions.credentials = credentials\n  }\n\n  // handle request headers and body\n  if (method === 'POST' || method === 'PUT') {\n    let contentType\n    let body\n\n    if (dataType === 'json') {\n      contentType = 'application/json'\n      body = JSON.stringify(data)\n    } else {\n      contentType = 'application/x-www-form-urlencoded'\n      body = parseUrlencoded(data)\n\n      if (dataType !== 'urlencoded') {\n        console.warn('Unsupported dataType used \"urlencoded\" instead!')\n      }\n    }\n\n    fetchOptions.headers = {\n      'Content-Type': contentType,\n      'Access-Control-Request-Method': method\n    }\n\n    fetchOptions.body = body\n  }\n\n  if (method === 'DELETE') {\n    fetchOptions.headers = {\n      'Access-Control-Request-Method': 'DELETE'\n    }\n  }\n\n  if (cookies) {\n    fetchOptions.headers = {\n      'Cookie': createCookieString(cookies)\n    }\n  }\n\n  return fetchOptions\n}\n\n// type Result = {\n//   json: any\n//   _response: any\n// }\nexport function callApi(fullUrl: string, options: CallApiOptions = {}): any {\n  if (options.useJsonp) {\n    return jsonp(fullUrl)\n  }\n\n  const fetchOptions = parseOptions(options)\n\n  return fetch(fullUrl, fetchOptions)\n    .then(response => {\n      if (response.status !== 204) {\n        return response.json().then(json => {\n          if (!response.ok) {\n            return Promise.reject(json)\n          }\n\n          return { json, _response: response }\n        })\n      }\n\n      return { json: {}, _response: response }\n    })\n}\n\nexport default callApi\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api/callApi.ts","import { normalize } from 'normalizr'\nimport parseQuery from '../../utils/parseQuery'\nimport _ from 'lodash'\nimport humps from 'humps'\n\nconst parseHeaderPageLinkByRel = (links: string, rel: string) => {\n  const link = links.split(',').find(s => s.indexOf(`rel=\"${rel}\"`) > -1)\n\n  if (!link) {\n    return undefined\n  }\n\n  const url = link.split(';')[0].trim().slice(1, -1)\n\n  return {\n    // todo\n    page: parseInt(_.get(parseQuery(url.split('?')[1] || ''), 'page', 0) as any, 10),\n    url\n  }\n}\n\nexport function parseResHeaderToPagination(response) {\n  if (!response) {\n    return {}\n  }\n\n  const links = response.headers.get('link')\n  if (!links) {\n    return {}\n  }\n\n  const next = parseHeaderPageLinkByRel(links, 'next')\n  const last = parseHeaderPageLinkByRel(links, 'last')\n\n  return {\n    next,\n    last\n  } as any\n}\n\nfunction handleResponse({ json, _response }, schema) {\n  const camelizedJson = humps.camelizeKeys(json)\n  const { next, last } = parseResHeaderToPagination(_response)\n\n  if (typeof schema !== 'undefined') {\n    return  _.assign({},\n      normalize(camelizedJson, schema),\n      {\n        _next: next,\n        _last: last\n      }\n    )\n  }\n\n  return camelizedJson\n}\n\nexport default handleResponse\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api/handleResponse.ts","export default function jsonp(fullUrl) {\n  if (fullUrl.indexOf('douban') !== -1) {\n    let id = new Date().valueOf()\n    let jsonpId = 'jsonp-' + id\n    let jsonpCallback = 'jsonpCallback' + id\n    let jsonpCallbackData = `__JSONP_DATA_${id}__`\n\n    window[jsonpCallback] = function (data) {\n      window[jsonpCallbackData] = data\n    }\n\n    let script = document.createElement('script')\n\n    script.setAttribute('src', `${fullUrl}&callback=${jsonpCallback}`)\n    script.setAttribute('id', jsonpId)\n    document.body.appendChild(script)\n\n    return new Promise(resolve => {\n      script.onload = function () {\n        document.body.removeChild(document.getElementById(jsonpId))\n\n        resolve({ json: window[jsonpCallbackData]})\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api/jsonp.ts","import humps from 'humps'\nimport { normalize } from 'normalizr'\nimport _ from 'lodash'\n\nexport const normalizeJSON = (json, schema) => {\n  const camelizedJson = humps.camelizeKeys(json)\n  return normalize(camelizedJson, schema)\n}\n\nexport const expandEntities = (normalizedEntities, fetchStatus, error?) => {\n  return _.mapValues(normalizedEntities || {}, (val) => {\n    return {\n      entities: val,\n      errors: error ? _.mapValues(val, () => error) : undefined,\n      fetchStatus: _.mapValues(val, () => fetchStatus)\n    }\n  })\n}\n\nexport const mockEntity = (key, id) => {\n  return {\n    [key]: {\n      [id]: {}\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/entity.ts","export default function padNumberWithZero(num) {\n  let numStrWithZero\n\n  if (num < 10) {\n    numStrWithZero = '0' + num.toString()\n  } else {\n    numStrWithZero = num.toString()\n  }\n\n  return numStrWithZero\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/padNumberWithZero.ts","import _ from 'lodash'\n\nexport default function parseQuery(queryString) {\n  const params = queryString.split('&')\n  let object = {}\n\n  params.forEach(param => {\n    const key = param.split('=')[0]\n    const val = param.split('=')[1]\n\n    object[key] = val\n  })\n\n  return object\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseQuery.ts","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Alert.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Alert.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Alert.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Alert/Alert.scss\n// module id = 64\n// module chunks = 17","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 65\n// module chunks = 17","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 66\n// module chunks = 17","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 67\n// module chunks = 17","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 68\n// module chunks = 17","module.exports = require(\"react-router-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-redux\"\n// module id = 69\n// module chunks = 17","import initialize from './initialize'\n\nexport default initialize\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/index.ts","import Button from './Button'\nimport Input from './Input'\nimport SelectizeInput from './SelectizeInput'\nimport Textarea from './Textarea'\n\nexport { Button, Input, SelectizeInput, Textarea }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/form.ts","import * as apifns from './apifns'\n\nexport default {\n  ...apifns\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/webAPI/index.ts","import * as ACTION_TYPES from '../constants/actionTypes'\n\n// viewer\nexport const initializeViewer = (bookId: string) => ({\n  payload: bookId,\n  type: ACTION_TYPES.VIEWER.INITIALIZE\n})\n\nexport const configViewer = (config: Viewer.Config = {}, isInit: boolean = false) => ({\n  payload: config,\n  meta: { isInit },\n  type: ACTION_TYPES.VIEWER.CONFIG,\n})\n\nexport const setStatus = (status: Viewer.Status = {}) => ({\n  payload: status,\n  type: ACTION_TYPES.VIEWER.SET_STATUS,\n})\n\nexport const viewerGoTo = (loc: number) =>\n  ({ type: ACTION_TYPES.VIEWER.GO_TO, payload: loc })\n\n\n// book\nexport const calcBook = (bookId: string, wrap: HTMLElement) => ({\n  payload: { bookId, wrap },\n  type: ACTION_TYPES.VIEWER.CALC_TRIGGER,\n})\n\nexport const calcBookSuccess = (bookId: string, computed) => ({\n  payload: { bookId, computed },\n  type: ACTION_TYPES.VIEWER.CALC_SUCCESS,\n})\n\nexport const calcBookFailure = (bookId: string, error: Error) => ({\n  payload: error,\n  meta: { bookId },\n  error: true,\n  type: ACTION_TYPES.VIEWER.CALC_FAILURE,\n})\n\nexport const updateLocalProgress = (bookId, progress: Viewer.LocalProgress) => ({\n  payload: { progress, bookId },\n  type: ACTION_TYPES.VIEWER.UPDATE_LOCAL_PROGRESS,\n})\n\n// sub components\nexport const toggleViewerPanel = (reset?: boolean) =>\n  ({ type: ACTION_TYPES.VIEWER.PANEL_TOGGLE, payload: reset })\n\nexport const toggleViewerPreference = (reset?: boolean) =>\n  ({ type: ACTION_TYPES.VIEWER.PREFERENCE_TOGGLE, payload: reset })\n\nexport const toggleViewerNavigation = (reset?: boolean) =>\n  ({ type: ACTION_TYPES.VIEWER.NAVIGATION_TOGGLE, payload: reset })\n\nexport const toggleViewerProgressInfo = (reset?: boolean) =>\n  ({ type: ACTION_TYPES.VIEWER.PROGRESS_INFO_TOGGLE, payload: reset })\n\n// master action of sub components\nexport const setComponents = (state: Viewer.Components) =>\n  ({ type: ACTION_TYPES.VIEWER.SET_COMPONENT, payload: state })\n\nexport const destroy = (clearData: boolean = false) =>\n  ({ type: ACTION_TYPES.VIEWER.DESTROY, payload: clearData })\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/viewer.ts","import React from 'react'\nimport { Button } from '../form'\nconst styles = require('./ModalFooter.scss')\n\ntype Props = {\n  children?: any\n  onConfirm: () => void\n  onCancel?: () => void\n}\n\nfunction ModalFooter(props: Props) {\n  const { onConfirm, onCancel } = props\n\n  return (\n    <div className={styles['modal-footer']}>\n      <Button color=\"blue\" onClick={onConfirm}></Button>\n      {\n        onCancel && (\n          <Button color=\"white\" onClick={onCancel}></Button>\n        )\n      }\n    </div>\n  )\n}\n\nexport default ModalFooter\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ModalFooter.tsx","import AppError from './AppError'\nexport default AppError\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AppError/index.ts","import Button from './Button'\nexport default Button\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Button/index.ts","import Fade from './Fade'\nexport default Fade\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Fade/index.ts","import Input from './Input'\nexport default Input\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Input/index.ts","import { MOBILE_BREAK_POINT } from '../constants/viewerDefs'\nimport utils from '../utils'\n\nconst shouldViewerBeFluid = () => {\n  const viewerWidth = utils.getScreenInfo().width\n  return viewerWidth < MOBILE_BREAK_POINT\n}\n\nexport default shouldViewerBeFluid\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/shouldViewerBeFluid.ts","\n    var content = require(\"!!../../../../node_modules/css-loader/index.js??ref--2-1!../../../../node_modules/sass-loader/index.js!./BookPage.scss\");\n    var insertCss = require(\"!../../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--2-1!../../../../node_modules/sass-loader/index.js!./BookPage.scss\", function() {\n        content = require(\"!!../../../../node_modules/css-loader/index.js??ref--2-1!../../../../node_modules/sass-loader/index.js!./BookPage.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/Viewer/components/BookPage.scss\n// module id = 80\n// module chunks = 17","module.exports = require(\"react-addons-css-transition-group\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-addons-css-transition-group\"\n// module id = 81\n// module chunks = 17","module.exports = {\n\t\"app.css\": \"css/app.7002a377c7.css\",\n\t\"app.js\": \"js/app.7002a377c7.js\",\n\t\"base.global.css\": \"css/base.global.30e3ea3a4f.css\",\n\t\"base.global.js\": \"js/base.global.30e3ea3a4f.js\",\n\t\"js/chunk.1a06dd34df.6.js\": \"js/chunk.1a06dd34df.6.js\",\n\t\"js/chunk.346f7af121.8.js\": \"js/chunk.346f7af121.8.js\",\n\t\"js/chunk.3764ef8db7.5.js\": \"js/chunk.3764ef8db7.5.js\",\n\t\"js/chunk.55e0e494b2.13.js\": \"js/chunk.55e0e494b2.13.js\",\n\t\"js/chunk.5bae710e25.9.js\": \"js/chunk.5bae710e25.9.js\",\n\t\"js/chunk.6786fa7138.7.js\": \"js/chunk.6786fa7138.7.js\",\n\t\"js/chunk.691c0c1af5.14.js\": \"js/chunk.691c0c1af5.14.js\",\n\t\"js/chunk.6b9c26a2cf.1.js\": \"js/chunk.6b9c26a2cf.1.js\",\n\t\"js/chunk.790bb87b19.10.js\": \"js/chunk.790bb87b19.10.js\",\n\t\"js/chunk.7ac75b30e5.3.js\": \"js/chunk.7ac75b30e5.3.js\",\n\t\"js/chunk.7eba95049e.2.js\": \"js/chunk.7eba95049e.2.js\",\n\t\"js/chunk.87d3585187.0.js\": \"js/chunk.87d3585187.0.js\",\n\t\"js/chunk.8f0f1d7e89.11.js\": \"js/chunk.8f0f1d7e89.11.js\",\n\t\"js/chunk.a44fedd109.4.js\": \"js/chunk.a44fedd109.4.js\",\n\t\"js/chunk.bf298f4bd6.16.js\": \"js/chunk.bf298f4bd6.16.js\",\n\t\"js/chunk.da3dce6a51.12.js\": \"js/chunk.da3dce6a51.12.js\",\n\t\"js/chunk.e1d89bfdf1.15.js\": \"js/chunk.e1d89bfdf1.15.js\",\n\t\"media/loading.gif\": \"media/loading.4275970884.gif\",\n\t\"media/logo-dark.png\": \"media/logo-dark.4754e8aa78.png\",\n\t\"media/logo.png\": \"media/logo.81eb83d7f7.png\",\n\t\"media/shadow.png\": \"media/shadow.471ea37f96.png\",\n\t\"modifiers.global.css\": \"css/modifiers.global.041f7efae2.css\",\n\t\"modifiers.global.js\": \"js/modifiers.global.041f7efae2.js\",\n\t\"vendor.global.css\": \"css/vendor.global.cab0d0e8a2.css\",\n\t\"vendor.global.js\": \"js/vendor.global.cab0d0e8a2.js\",\n\t\"vendor.js\": \"js/vendor.ab6a38b0ee.js\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/static/assets.manifest.json\n// module id = 82\n// module chunks = 17","import React from 'react'\nimport Alert from './Alert'\nconst styles: any = require('./Alert.scss')\n\ntype TProps = {\n  children?: any\n  onRequestClose?: (id: string) => void\n  messages: {\n    content: string\n    visible: boolean\n    type: 'success' | 'error' | 'warning'\n    id: string\n  }[]\n}\n\nfunction Alerts(props: TProps) {\n  return (\n    <div className={styles.alerts}>\n      {\n        props.messages.map((msg, index) => (\n          <Alert\n            key={index}\n            type={msg.type}\n            message={msg.content}\n            visible={msg.visible}\n            onRequestClose={() => {\n              props.onRequestClose(msg.id)\n            }}\n          />\n        ))\n      }\n    </div>\n  )\n}\n\nexport default Alerts\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Alert/Alerts.tsx","import Alert from './Alert'\nimport Alerts from './Alerts'\nexport { Alerts, Alert }\nexport default Alert\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Alert/index.tsx","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport Branding from '../components/Branding'\nimport Colophon from '../components/Colophon'\nimport { loadShelf } from '../actions/api'\nimport _ from 'lodash'\nimport * as selectors from '../selectors'\n\ninterface Props {\n  loadShelf: typeof loadShelf\n  session: Session\n  bookShelf: SelectedPagination\n}\n\nclass App extends Component<Props, {}> {\n\n  componentDidMount() {\n    if (this.props.session.role !== 'visitor') {\n      this.props.loadShelf()\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const userLoggedIn = this.props.session.role === 'visitor'\n      && nextProps.session.role !== 'visitor'\n\n    if (userLoggedIn) {\n      this.props.loadShelf()\n    }\n  }\n\n  render() {\n    let isAdmin = false\n    let username = null\n    const { session } = this.props\n\n    if (session.role !== 'visitor') {\n      isAdmin = session.role === 'admin'\n      username = session.username\n    }\n\n    const {bookShelf} = this.props\n    const bookShelfList = _.get(bookShelf, ['pages', '1'], [])\n      .map(book => ({\n        title: book.title,\n        id: book.id\n      }))\n\n    return (\n      <div>\n        <Branding\n          recentReading={bookShelfList}\n          isAdmin={isAdmin}\n          username={username}\n          />\n        {this.props.children}\n        <Colophon />\n      </div>\n    )\n  }\n}\n\nexport default connect<{}, {}, Props>(\n  state => ({\n    notification: state.components.notification,\n    bookShelf: selectors.pagination.shelf(state),\n    session: selectors.session(state)\n  }),\n  { loadShelf }\n)(App)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/App.tsx","import React, { Component } from 'react'\nimport CSSModules from 'react-css-modules'\nimport Logo from '../../components/Logo'\nconst styles = require('./AppError.scss')\n\ninterface IProps {\n  title: string\n  message: string | JSX.Element\n}\n\n@CSSModules(styles)\nclass AppError extends Component<IProps, {}> {\n  render() {\n    const { title, message } = this.props\n\n    return (\n      <div>\n        <div styleName=\"header\">\n          <Logo dark/>\n        </div>\n        <div styleName=\"body\">\n          <h1 styleName=\"title\">{title}</h1>\n          <div>{message}</div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AppError\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AppError/AppError.tsx","import React, { Component } from 'react'\nimport withSideEffect from 'react-side-effect'\nimport _ from 'lodash'\n\ninterface Props {\n  className: string\n  styleName?: string\n}\n\n@withSideEffect(\n  reducePropsToState,\n  handleStateChangeOnClient\n)\nclass BodyClass extends Component<Props, void> { // eslint-disable-line\n\n  static rewind: () => string\n\n  render() {\n    return (\n      <div className=\"body-class\">{this.props.children}</div>\n    )\n  }\n}\n\nfunction reducePropsToState(propsList) {\n  const innermostProps = _.last(propsList)\n\n  if (innermostProps) {\n    const props = _.pick(innermostProps, ['className']) as any\n\n    const className = props.className = propsList\n      .filter(prop => prop.className)\n      .map(prop => prop.className)\n      .join(' ')\n\n    return className\n  }\n\n  return null\n}\n\nfunction handleStateChangeOnClient(className) {\n  if (typeof className !== 'undefined') {\n    document.body.className = className\n  } else {\n    document.body.removeAttribute('class')\n  }\n}\n\nexport default BodyClass\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/BodyClass.tsx","import React, { Component } from 'react'\nimport { Container } from '../../components/layout'\nimport { Dropdown, DropdownItem, DropdownItemSep } from '../../components/Dropdown'\nimport Logo from '../Logo'\nimport CSSModules from 'react-css-modules'\nimport { Link } from 'react-router'\nimport styles from './Branding.scss'\nimport { connect } from 'react-redux'\nimport { logout } from '../../actions/api'\nimport * as selectors from '../../selectors'\n\ninterface OwnProps {\n  username: string\n  isAdmin?: boolean\n  className?: string\n  recentReading?: {\n    title: string\n    id: string\n  }[]\n}\n\ninterface OtherProps {\n  logout: typeof logout\n  config: Viewer.Config\n}\n\ninterface IState {\n  isDropdownMenuVisible: boolean\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    config: selectors.viewer.config(state)\n  }\n}\n\n@CSSModules(styles)\nclass Branding extends Component<OwnProps & OtherProps, IState> {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isDropdownMenuVisible: false\n    }\n    this.handleLogoutClick = this.handleLogoutClick.bind(this)\n  }\n\n  toggleDropdownMenu() {\n    this.setState({\n      isDropdownMenuVisible: !this.state.isDropdownMenuVisible\n    })\n  }\n\n  handleLogoutClick(e) {\n    this.props.logout()\n    e.preventDefault()\n  }\n\n  render() {\n    let isAdmin = this.props.isAdmin ? this.props.isAdmin : false\n\n    const { username, recentReading, config: { fluid } } = this.props\n\n    return (\n      <div styleName={`branding ${this.props.className ? this.props.className : ''}`}>\n        <Container className=\"clearfix\">\n          <div>\n            <div className=\"left\">\n              <Logo />\n            </div>\n            <div className=\"left\" styleName=\"nav\">\n              <ul styleName=\"nav-links\">\n                <li styleName=\"nav-item\">\n                  <Link styleName=\"nav-link\" to=\"/browse\"></Link>\n                </li>\n              </ul>\n            </div>\n            {\n              username\n                ? (\n                  <div styleName=\"nav--user\">\n                    {\n                      recentReading.length !== 0 && (\n                        <Dropdown className=\"dropdown-recent-reading\" styleName=\"dropdown-recent-reading\" title=\"\">\n                          {\n                            recentReading.slice(0, 5).map((book, index) => {\n                              return (\n                                <DropdownItem key={index}>\n                                  <Link to={`/viewer/book/${book.id}`}>{book.title}</Link>\n                                </DropdownItem>\n                              )\n                            })\n                          }\n                          <DropdownItemSep />\n                          <DropdownItem><Link to={`/user/shelf`}></Link></DropdownItem>\n                        </Dropdown>\n                      )\n                    }\n                    <Dropdown\n                      title={(\n                        <div style={{ display: 'inline-block' }}>{username}{isAdmin && <span className=\"badge\"></span>}</div>\n                      )}\n                    >\n                      {\n                        isAdmin === true && (\n                          <DropdownItem><Link to=\"/console\"></Link></DropdownItem>\n                        )\n                      }\n                      <DropdownItem><Link to={`/user/shelf`}></Link></DropdownItem>\n                      <DropdownItem><Link to={`/user/profile`}></Link></DropdownItem>\n                      <DropdownItem><Link to={`/user/preference`}></Link></DropdownItem>\n                      <DropdownItemSep />\n                      <DropdownItem><a onClick={this.handleLogoutClick} href=\"#\"></a></DropdownItem>\n                    </Dropdown>\n                  </div>\n                )\n                : (\n                  <div styleName=\"nav--user\">\n                    <ul styleName=\"nav-links\">\n                      <li styleName=\"nav-item\">\n                        <Link styleName=\"nav-link\" to=\"/signin\"></Link>\n                      </li>\n                      <li styleName=\"nav-item\">\n                        <Link styleName=\"nav-link\" to=\"/signup\"></Link>\n                      </li>\n                    </ul>\n                  </div>\n                )\n            }\n          </div>\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default connect<{}, {}, OwnProps>(\n  mapStateToProps,\n  { logout }\n)(Branding)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Branding/Branding.tsx","import Branding from './Branding'\nexport default Branding\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Branding/index.tsx","import React, { Component } from 'react'\nimport CSSModules from 'react-css-modules'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport helpers from '../../helpers'\nconst styles = require('./_button.scss')\n\ninterface IProps {\n  className?: string\n  styleName?: any\n  size?: 'small' | 'medium' | 'large'\n  isFluid?: boolean\n  color?: 'red' | 'blue' | 'green' | 'orange' | 'white'\n  to?: string\n  onClick?: any\n  width?: number | string\n}\n\ninterface IState {\n  isMouseOver?: boolean\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass Button extends Component<IProps, IState> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isMouseOver: false,\n    }\n  }\n\n  render() {\n    let { onClick, className, color, size, isFluid, width, to } = this.props\n    let style = {}\n\n    const styleName = classnames({\n      'btn': true,\n      'btn--hover': this.state.isMouseOver,\n      'btn--fluid': isFluid,\n      [`btn--${color}`]: Boolean(color),\n      [`btn--${size}`]: Boolean(size),\n    })\n    if (this.props.to) {\n      onClick = e => {\n        e.preventDefault()\n        helpers.redirect(to)\n      }\n    } else {\n      onClick = e => {\n        e.preventDefault()\n        if (this.props.onClick) {\n          this.props.onClick(e)\n        }\n      }\n    }\n\n    if (typeof width !== 'undefined') {\n      style = {\n        width\n      }\n    }\n\n    let props = _.omit(this.props, ['to', 'color', 'size', 'isFluid', 'width', 'styles'])\n    props = _.assign({}, props, {\n      className: className || '',\n      onClick,\n      style\n    })\n\n    return (\n      <button\n        {...props}\n        styleName={styleName}\n        onMouseOver={() => {\n          this.setState({\n            isMouseOver: true\n          })\n        }}\n        onMouseOut={() => {\n          this.setState({\n            isMouseOver: false\n          })\n        }}\n      >\n        {this.props.children}\n      </button>\n    )\n  }\n}\n\n(Button as any).defaultProps = {\n  color: 'blue'\n}\n\nexport default Button\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Button/Button.tsx","import React, { Component } from 'react'\nimport Container from '../../components/Container'\nimport CSSModules from 'react-css-modules'\nconst styles = require('./Colophon.scss')\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass Colophon extends Component<any, any> {\n  render() {\n    return (\n      <div className=\"colophon\" styleName=\"colophon\">\n        <Container>\n          <p> 20152016 readrweb.com, all rights reserved</p>\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default Colophon\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Colophon/Colophon.tsx","import Colophon from './Colophon'\nexport default Colophon\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Colophon/index.ts","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Container } from '../components/layout'\nimport ConsoleBranding from '../components/ConsoleBranding'\nimport { logout } from '../actions/api'\nimport ConsoleSidebar from '../components/ConsoleSidebar'\nimport menus from '../content/menus'\nimport DocContainer from '../components/DocContainer'\nimport helpers from '../helpers'\nimport * as selectors from '../selectors'\n\ninterface Props {\n  notifications?: any\n  session?: Session\n  routing?: any\n  logout: typeof logout\n}\n\nclass Console extends Component<Props, {}> {\n\n  constructor(props) {\n    super(props)\n    this.handleLogout = this.handleLogout.bind(this)\n  }\n\n  redirectIfNotAdmin(props = this.props) {\n    if (props.session.role !== 'admin') {\n      helpers.redirect('/')\n    }\n  }\n\n  handleLogout() {\n    this.props.logout()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const userRoleChanged = this.props.session.role !== nextProps.session.role\n\n    if (userRoleChanged) {\n      this.redirectIfNotAdmin(nextProps)\n    }\n  }\n\n  render() {\n    let isAdmin = this.props.session.role === 'admin'\n    let username = this.props.session.username\n    let pathname = this.props.routing.locationBeforeTransitions\n      ? this.props.routing.locationBeforeTransitions.pathname\n      : 'console'\n\n    const contentStyle = {\n      marginLeft: 320,\n      paddingTop: 60\n    }\n\n    return (\n      isAdmin\n        ? (\n          <DocContainer bodyClass=\"console\">\n            <ConsoleBranding isAdmin={isAdmin} username={username} onLogout={this.handleLogout} />\n            <Container isFluid={true}>\n              <ConsoleSidebar\n                menuMapping={menus}\n                currentPath={pathname}\n                />\n              <div style={contentStyle}>\n                {this.props.children}\n              </div>\n            </Container>\n          </DocContainer>\n        )\n        : (\n          <div style={{textAlign: 'center', margin: '20px 0'}}>ACCESS DENIED!</div>\n        )\n    )\n  }\n}\n\nexport default connect<{}, {}, {}>(\n  state => ({\n    notifications: state.components.notifications,\n    session: selectors.session(state),\n    routing: state.routing\n  }),\n  { logout }\n)(Console)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Console.tsx","import React, { Component } from 'react'\nimport { Link } from 'react-router'\nimport Container from '../../components/Container'\nimport { Dropdown, DropdownItem, DropdownItemSep } from '../../components/Dropdown'\nimport CSSModules from 'react-css-modules'\nimport Logo from '../Logo'\nconst styles = require('./ConsoleBranding.scss')\n\ninterface Props {\n  username: string\n  isAdmin?: boolean\n  onLogout: () => void\n}\n\ninterface State {\n  isDropdownMenuVisible: boolean\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass ConsoleBranding extends Component<Props, State> {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isDropdownMenuVisible: false\n    }\n    this.handleLogoutClick = this.handleLogoutClick.bind(this)\n  }\n\n  handleLogoutClick(e) {\n    this.props.onLogout()\n    e.preventDefault()\n  }\n\n  toggleDropdownMenu() {\n    this.setState({\n      isDropdownMenuVisible: !this.state.isDropdownMenuVisible\n    })\n  }\n\n  render() {\n    let username = this.props.username\n    let isAdmin = this.props.isAdmin ? this.props.isAdmin : 'false'\n\n    return (\n      <div styleName=\"branding\">\n        <Container isFluid={true} className=\"clearfix\">\n          <div>\n            <div className=\"left\">\n              <Logo to=\"/console\" />\n            </div>\n            <div styleName=\"sub-name\">\n              <span styleName=\"sub\"></span>\n            </div>\n            <div styleName=\"nav right\">\n              {\n                username && (\n                  <Dropdown\n                    style=\"dark\"\n                    title={(\n                      <span>{username}{ isAdmin && <span className=\"badge badge--dark\"></span> }</span>\n                    ) }\n                    >\n                    <DropdownItem><Link to=\"/\"> Readr</Link></DropdownItem>\n                    <DropdownItem><Link to={`/user/profile`}></Link></DropdownItem>\n                    <DropdownItem><Link to={`/user/preference`}></Link></DropdownItem>\n                    <DropdownItemSep />\n                    <DropdownItem><a onClick={this.handleLogoutClick} href=\"#\"></a></DropdownItem>\n                  </Dropdown>\n                )\n              }\n            </div>\n          </div>\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default ConsoleBranding\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ConsoleBranding/ConsoleBranding.tsx","import ConsoleBranding from './ConsoleBranding'\nexport default ConsoleBranding\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ConsoleBranding/index.ts","import React, { Component } from 'react'\nimport { Link } from 'react-router'\nimport Icon from '../../components/Icon'\nimport CSSModules from 'react-css-modules'\nconst styles = require('./ConsoleSidebar.scss')\n\ninterface IProps {\n  currentPath?: any\n  menuMapping?: any\n}\n\ninterface IState {\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass ConsoleSidebar extends Component<IProps, IState> {\n\n  constructor(props) {\n    super(props)\n  }\n\n  componentDidMount() {\n  }\n\n  render() {\n    const { menuMapping, currentPath } = this.props\n\n    let currentMenu = {\n      rootIndex: 0,\n      subIndex: 0\n    }\n\n    menuMapping.forEach((menu, rootIndex) => {\n      let subIndex\n\n      let result = menu.subMenu.filter((item, index) => {\n        if (item.path === currentPath) {\n          subIndex = index\n          return true\n        }\n      })\n\n      if (result.length > 0) {\n        currentMenu.rootIndex = rootIndex\n        currentMenu.subIndex = subIndex\n      }\n    })\n\n    let rootMenu = (\n      <ul styleName=\"nav-side-root\">\n        {\n          menuMapping.map((menu, index) => {\n            return (\n              <li key={index} styleName={index !== currentMenu.rootIndex ? 'root-item' : 'root-item--current'}>\n                <Link to={menu.path}>\n                  <Icon size={25} styleName=\"icon\" name={menu.component} />\n                </Link>\n              </li>\n            )\n          })\n        }\n      </ul>\n    )\n\n    let subMenu = (\n      <ul styleName=\"nav-side-sub\">\n        {\n          menuMapping[currentMenu.rootIndex].subMenu.map((menu, index) => {\n            return (\n              <li key={index} styleName={index !== currentMenu.subIndex ? 'sub-item' : 'sub-item--current'}>\n                <Link to={menu.path}>{menu.displayName}</Link>\n              </li>\n            )\n          })\n        }\n      </ul>\n    )\n\n    return (\n      <div styleName=\"sidebar-left\">\n        {rootMenu}\n        {subMenu}\n      </div>\n    )\n  }\n}\n\nexport default ConsoleSidebar\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ConsoleSidebar/ConsoleSidebar.tsx","import ConsoleSidebar from './ConsoleSidebar'\nexport default ConsoleSidebar\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ConsoleSidebar/index.ts","import React, { Component } from 'react'\n\nclass Container extends Component<any, any> {\n  render() {\n    let className = (this.props.isFluid ? 'container-fluid' : 'container') + (this.props.className ? ` ${this.props.className}` : '')\n\n    return (\n      <div className={className}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Container\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Container/Container.tsx","import React, { Component } from 'react'\nimport CSSModules from 'react-css-modules'\nimport isDescendant from '../../utils/dom/isDescendant'\nconst styles = require('./Dropdown.scss')\n\ninterface IProps {\n  title: string | JSX.Element\n  className?: string\n  styleName?: string\n  style?: 'blue' | 'dark'\n}\n\ninterface IState {\n  showMenu?: boolean\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass Dropdown extends Component<IProps, IState> {\n\n  dropdown: any\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      showMenu: false\n    }\n    this.handleGlobalClick = this.handleGlobalClick.bind(this)\n  }\n\n  handleGlobalClick(e) {\n    //  dom  dropdown \n    //  toggleDropdown \n    //  dropdown \n    if (!isDescendant(this.dropdown, e.target)) {\n      this.setState({\n        showMenu: false\n      })\n    } else {\n      //  synthetic react  bug\n      this.setState({\n        showMenu: !this.state.showMenu\n      })\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('click', this.handleGlobalClick)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('click', this.handleGlobalClick)\n  }\n\n  render() {\n    const { className, style } = this.props\n\n    return (\n      <div ref={ref => { this.dropdown = ref } } styleName=\"dropdown\" className={className || ''}>\n        <div styleName=\"dropdown-toggle\">\n          <span>{this.props.title}</span>\n          <span styleName=\"dropdown-caret\"/>\n        </div>\n        {\n          this.state.showMenu && (\n            <div styleName={ style === 'dark' ? 'dropdown-menu--dark' : 'dropdown-menu'}>\n              <ul>\n                {this.props.children}\n              </ul>\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nexport default Dropdown\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Dropdown/Dropdown.tsx","import React from 'react'\nconst styles = require('./Dropdown.scss')\n\ntype TProps = {\n  children?: any\n}\n\nfunction DropdownItem(props: TProps) {\n  return (\n    <li>\n      {\n        typeof props.children === 'string'\n          ? (\n            <div className={styles['dropdown-item']}>{props.children}</div>\n          )\n          : React.cloneElement(props.children, {\n            className: styles['dropdown-item']\n          })\n      }\n    </li>\n  )\n}\n\nexport default DropdownItem\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Dropdown/DropdownItem.tsx","import React from 'react'\nconst styles = require('./Dropdown.scss')\n\ntype TProps = {\n}\n\nfunction DropdownItemSep(props: TProps) {\n  return (\n    <li className={styles['sep']}></li>\n  )\n}\n\nexport default DropdownItemSep\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Dropdown/DropdownItemSep.tsx","import React from 'react'\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\nconst styles = require('./Fade.scss')\n\nexport default props => {\n  return (\n    <ReactCSSTransitionGroup\n      component=\"div\"\n      transitionName={styles}\n      transitionEnterTimeout={300}\n      transitionLeaveTimeout={300}\n      >\n      {props.children}\n    </ReactCSSTransitionGroup>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Fade/Fade.tsx","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport svgIcons from './svg-icons'\nimport CSSModules from 'react-css-modules'\nimport styles from './Icon.scss'\n\ninterface IProps {\n  name: string\n  onClick?: any\n  size?: number\n  className?: string\n  styleName?: string\n  style?: React.CSSProperties\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass Icon extends Component<IProps, {}> {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    let { name, onClick, size, style } = this.props\n    let className = classnames('icon', `icon-${name}`, this.props.className)\n\n    if (typeof svgIcons[name] === 'undefined') {\n      console.error('Icon name (%s) not found! ', name)\n    }\n\n    size = size || 30\n\n    const svgWrapStyle = {\n      // position: 'absolute',\n      // top: '50%',\n      // marginTop: - size / 2\n    }\n\n    const iconStyle = {\n      ...{\n        minWidth: size,\n        minHeight: size\n      },\n      ...style\n    }\n\n    return (\n      <span\n        styleName=\"icon\"\n        style={iconStyle}\n        className={className}\n        onClick={onClick}\n      >\n        <div style={svgWrapStyle}>\n          <svg\n            {...svgIcons[name].viewBox && { viewBox: svgIcons[name].viewBox }}\n            width={size}\n            height={size}\n            styleName=\"svg-shape\"\n          >\n            <path d={svgIcons[name].path} />\n          </svg>\n        </div>\n      </span>\n    )\n  }\n}\n\nexport default Icon\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icon/Icon.tsx","export default {\n  close: {\n    path: 'M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z',\n    viewBox: '0 0 12 16'\n  },\n  star: {\n    path: 'M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z',\n  },\n  users: {\n    path: 'M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z',\n  },\n  folder: {\n    path: 'M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z',\n  },\n  database: {\n    path: 'M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z'\n  },\n  statistics: {\n    path: 'M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z',\n  },\n  books: {\n    path: 'M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z',\n    // viewBox: '3 3 18 18'\n  },\n  back: {\n    path: 'M741.856654 1024C725.807021 1024 709.757389 1018.01984 697.511183 1006.01856L237.797879 555.49952C213.305469 531.53792 213.305469 492.62592 237.797879 468.62336L697.511183 18.06336C722.003593-5.9392 761.667918-5.9392 786.160326 18.06336 810.652736 42.02496 810.652736 80.93696 786.160326 104.93952L370.79249 512.04096 786.160326 919.10144C810.652736 943.104 810.652736 981.97504 786.160326 1005.9776 773.955918 1018.01984 757.906286 1024 741.856654 1024L741.856654 1024Z',\n    viewBox: '0 0 1024 1024'\n  },\n  preference: {\n    path: 'M 17.78125 8.96875 A 2.0002 2.0002 0 0 0 16 11 L 16 56.25 C 12.008188 57.168302 9 60.741406 9 65 C 9 69.259224 12.007427 72.863534 16 73.78125 L 16 89 A 2.0002 2.0002 0 1 0 20 89 L 20 73.78125 C 23.992573 72.863534 27 69.259224 27 65 C 27 60.741406 23.991812 57.168302 20 56.25 L 20 11 A 2.0002 2.0002 0 0 0 17.78125 8.96875 z M 49.78125 8.96875 A 2.0002 2.0002 0 0 0 48 11 L 48 26.25 C 44.008188 27.168305 41 30.741423 41 35 C 41 39.25912 44.007427 42.863511 48 43.78125 L 48 89 A 2.0002 2.0002 0 1 0 52 89 L 52 43.78125 C 55.992573 42.863511 59 39.25912 59 35 C 59 30.741423 55.991812 27.168305 52 26.25 L 52 11 A 2.0002 2.0002 0 0 0 49.78125 8.96875 z M 81.78125 8.96875 A 2.0002 2.0002 0 0 0 80 11 L 80 56.25 C 76.008188 57.168302 73 60.741406 73 65 C 73 69.259224 76.007427 72.863534 80 73.78125 L 80 89 A 2.0002 2.0002 0 1 0 84 89 L 84 73.78125 C 87.992573 72.863534 91 69.259224 91 65 C 91 60.741406 87.991812 57.168302 84 56.25 L 84 11 A 2.0002 2.0002 0 0 0 81.78125 8.96875 z M 50 30 C 52.785116 30 55 32.21488 55 35 C 55 37.78512 52.785116 40 50 40 C 47.214884 40 45 37.78512 45 35 C 45 32.21488 47.214884 30 50 30 z M 18 60 C 20.785116 60 23 62.2149 23 65 C 23 67.7852 20.785116 70 18 70 C 15.214884 70 13 67.7852 13 65 C 13 62.2149 15.214884 60 18 60 z M 82 60 C 84.785116 60 87 62.2149 87 65 C 87 67.7852 84.785116 70 82 70 C 79.214884 70 77 67.7852 77 65 C 77 62.2149 79.214884 60 82 60 z ',\n    viewBox: '0 0 100 125'\n  },\n  font: {\n    // path: 'M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z'\n    path: 'M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z',\n  },\n  arrowRight: {\n    path: 'M-290.9,430.1l-0.7-0.7l8.2-8.6l-8.2-8.2l0.7-0.7l8.9,8.9L-290.9,430.1z',\n    viewBox: '-292 411.9 11 18'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icon/svg-icons.ts","import React, { Component } from 'react'\nimport CSSModules from 'react-css-modules'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport styles from './Input.scss'\n\nexport interface Props {\n  className?: string\n  placeholder?: string\n  onChange?: any\n  value?: string\n  type?: string\n  name?: string\n  error?: any\n  touched?: boolean\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass Input extends Component<Props, any> {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    let props = Object.assign({}, this.props)\n    props = _.omit(props, 'className')\n    const { error, touched } = this.props\n\n    const showError = error && touched\n\n    return (\n      <div styleName={classnames({'input-wrap': !showError, 'input-wrap--error': showError})} className={this.props.className || ''}>\n        <input\n          styleName=\"input\"\n          placeholder={this.props.placeholder}\n          value={this.props.value}\n          onChange={e => {\n            this.props.onChange(e)\n          }}\n          type={this.props.type ? this.props.type : 'text'}\n          name={this.props.name ? this.props.name : null}\n        />\n        {\n          showError && (\n            <div styleName=\"error-msg\">{error}</div>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nexport default Input\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Input/Input.tsx","import React from 'react'\nimport { Link } from 'react-router'\nimport styles from './Logo.scss'\n\ntype TProps = {\n  children?: any\n  to?: string\n  dark?: boolean\n}\n\nfunction Logo(props: TProps) {\n  const { dark, to } = props\n  const styleName = dark ? 'logo--dark' : 'logo'\n\n  return (\n    <h1 className={styles['logo-wrap']}>\n      <Link className={styles[styleName]} to={to}>readr</Link>\n    </h1>\n  )\n}\n\nLogo['defaultProps'] = {\n  to: '/'\n}\n\nexport default Logo\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Logo/Logo.tsx","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { sendNotification, hideNotification, closeConfirmModal, closeModal } from '../actions'\nimport { loadSession } from '../actions/api'\nimport { Alerts } from '../components/Alert'\nimport _ from 'lodash'\nimport { ConfirmModal } from '../components/Modal'\nimport { ModalPlus } from '../components/Modal'\nimport * as selectors from '../selectors'\n\ninterface Props {\n  notifications: any\n  hideNotification: any\n  errorMessage: any[]\n  sendNotification: typeof sendNotification\n  confirmModal: any\n  closeConfirmModal: typeof closeConfirmModal\n  routing: any\n  session: Session\n  modal: any\n  closeModal: typeof closeModal\n  loadSession: typeof loadSession\n}\n\nclass Master extends Component<Props, {}> {\n\n  constructor(props) {\n    super(props)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const hasNewErrorMsg = this.props.errorMessage.length !== nextProps.errorMessage.length\n    const routerChanged = nextProps.routing.locationBeforeTransitions.pathname !== this.props.routing.locationBeforeTransitions.pathname\n\n    if (hasNewErrorMsg) {\n      this.props.sendNotification(_.last(nextProps.errorMessage).toString(), 'error', 0)\n    }\n\n    if (routerChanged) {\n      // \n      window.document.body.scrollTop = 0\n    }\n  }\n\n  componentWillMount() {\n    this.props.loadSession()\n  }\n\n  render() {\n    const { confirmModal, closeConfirmModal, modal, closeModal } = this.props\n\n    return (\n      <div className=\"app-root\">\n        <ConfirmModal\n          open={confirmModal.open}\n          title={confirmModal.title}\n          onConfirm={confirmModal.onConfirm}\n          onRequestClose={closeConfirmModal}\n          width={500}\n          >\n          {confirmModal.content}\n        </ConfirmModal>\n        <ModalPlus\n          open={modal.open}\n          width={500}\n          onRequestClose={closeModal}\n          title={modal.title}\n          >\n          {modal.content}\n        </ModalPlus>\n        {\n          this.props.notifications.filter(noti => noti.visible).length > 0 && (\n            <Alerts\n              onRequestClose={this.props.hideNotification}\n              messages={this.props.notifications.map(noti => ({\n                content: noti.message || '',\n                type: noti.type,\n                visible: noti.visible,\n                id: noti.id\n              }))}\n              />\n          )\n        }\n        { this.props.children }\n      </div>\n    )\n  }\n}\n\nexport default connect<{}, {}, Props>(\n  state => ({\n    notifications: state.components.notifications,\n    errorMessage: state.errorMessage,\n    confirmModal: state.components.confirmModal,\n    modal: state.components.modal,\n    routing: state.routing,\n    session: selectors.session(state)\n  }),\n  { sendNotification, hideNotification, closeConfirmModal, closeModal, loadSession }\n)(Master)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Master.tsx","import React, { Component } from 'react'\nimport Modal, { Props as IModalProps } from '../Modal'\nimport ModalFooter from './ModalFooter'\nimport CSSModules from 'react-css-modules'\nconst styles = require('./Modal.scss')\n\ninterface IProps extends IModalProps {\n  onConfirm: any\n  title: string\n}\n\ninterface IState {\n}\n\n@CSSModules(styles)\nclass Dialog extends Component<IProps, IState> {\n\n  constructor(props) {\n    super(props)\n  }\n\n  componentDidMount() {\n  }\n\n  render() {\n    const { onConfirm, onRequestClose, open } = this.props\n\n    return (\n      <Modal\n        open={open}\n        onRequestClose={onRequestClose}\n        width={this.props.width}\n      >\n        <div styleName=\"confirm-modal\">\n          {\n            this.props.title && (\n              <div styleName=\"modal-header\">\n                <h1 styleName=\"modal-title\">{this.props.title}</h1>\n              </div>\n            )\n          }\n          <div styleName=\"modal-content\">\n            {this.props.children}\n          </div>\n          <ModalFooter\n            onConfirm={onConfirm}\n            onCancel={onRequestClose}\n          />\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default Dialog\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ConfirmModal.tsx","import React, { Component } from 'react'\nimport Modal from './Modal'\nimport styles from './Modal.scss'\n\ninterface Props {\n  title?: string\n  open: boolean\n  onRequestClose: () => void\n  width?: number\n  actions?: JSX.Element[]\n}\n\nclass ModalPlus extends Component<Props, void> {\n\n  render() {\n    const { title, open, onRequestClose, width, actions } = this.props\n\n    return (\n      <Modal\n        open={open}\n        onRequestClose={onRequestClose}\n        width={width || 600}\n        >\n        <div className={styles['modal-plus']}>\n          {\n            title && (\n              <div className={styles['modal-header']}>\n                <h1 className={styles['modal-title']}>{title}</h1>\n              </div>\n            )\n          }\n          <div className={styles['modal-body']}>\n            {\n              this.props.children\n            }\n          </div>\n          {\n            actions && (\n              actions.map((action, index) => {\n                return React.cloneElement(action, {\n                  key: index\n                })\n              })\n            )\n          }\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default ModalPlus\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ModalPlus.tsx","import React, { Component } from 'react'\nimport AppDoc from './AppDoc'\nimport AppError from './AppError'\n\ninterface Props {\n  message: string\n}\n\nexport default class Page500 extends Component<Props, void> {\n  render() {\n    const { message } = this.props\n    return (\n      <AppDoc\n        title=\"500 Server Error\"\n        appMarkup={(\n          <AppError\n            title=\"500\"\n            message={message}\n          />\n        )}\n      />\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Page500.tsx","import React, { Component } from 'react'\nimport Icon from '../Icon'\nimport classnames from 'classnames'\nimport CSSModules from 'react-css-modules'\nimport isDescendant from '../../utils/dom/isDescendant'\nimport _ from 'lodash'\nconst styles = require('./SelectizeInput.scss')\n\ntype TypeOption = {\n  value: string\n  name: string\n  disabled?: boolean\n  additional?: any\n}\n\ntype TypeValue = {\n  value: string\n  name: string\n}\n\ninterface IProps {\n  className?: string\n  placeholder?: string\n  label?: string\n  stayFocused?: boolean // default true\n  omitSelectedValuesFromOptions?: boolean\n\n  value: string\n  onInputChange: (newValue: string) => void\n\n  //  value  values  \n  useValue?: boolean\n\n  options: Array<TypeOption>\n  onOptionsChange?: (newValues: Array<TypeOption>) => void\n\n  values: Array<TypeValue>\n  onValuesChange?: (newValues: Array<TypeValue>) => void\n\n  // \n  onAddNewValue?: (newValue: string) => void\n  onOptionClick?: (selectedValue: TypeOption) => void\n}\n\ninterface IState {\n  focus?: boolean\n  showOptions?: boolean\n  value?: string\n  expendedOptionIndex?: number\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass SelectizeInput extends Component<IProps, IState> {\n\n  input: HTMLInputElement\n  inputWrap: HTMLDivElement\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      showOptions: false,\n      focus: false,\n      value: '',\n      expendedOptionIndex: 0\n    }\n    this.handleOutsideClick = this.handleOutsideClick.bind(this)\n    this.focusInput = this.focusInput.bind(this)\n    this.handleInputChange = this.handleInputChange.bind(this)\n  }\n\n  addValue(newValue) {\n    if (!this.props.useValue) {\n      this.props.onValuesChange(this.props.values.concat(newValue))\n      if (this.props.onOptionsChange) {\n        this.props.onOptionsChange(this.props.options.map(option => (option.value === newValue.value\n          ? Object.assign({}, option, { disabled: true })\n          : option)))\n      }\n\n      // React setState  state  setState \n      setTimeout(() => {\n        this.clearInputValue()\n      }, 1)\n\n      if (typeof this.props.stayFocused === 'undefined' || this.props.stayFocused !== false) {\n        this.focusInput()\n      }\n      this.hideOptions()\n    } else {\n      this.props.onInputChange(newValue.name)\n      this.hideOptions()\n    }\n  }\n\n  showOptions() {\n    this.setState({\n      showOptions: true\n    })\n  }\n\n  hideOptions() {\n    this.setState({\n      showOptions: false\n    })\n  }\n\n  removeValue(index) {\n    let newValues = []\n    let removedValue\n\n    if (index === -1) {\n      newValues = this.props.values.slice(0, this.props.values.length - 1)\n      removedValue = this.props.values[this.props.values.length - 1].value\n    } else {\n      newValues = this.props.values\n        .filter((v, i) => {\n          removedValue = v.value\n          return i !== index\n        })\n    }\n\n    if (this.props.onOptionsChange) {\n      this.props.onOptionsChange(this.props.options.map(option => (option.value === removedValue\n        ? Object.assign({}, option, { disabled: false })\n        : option)))\n    }\n\n    this.props.onValuesChange(newValues)\n  }\n\n  clearInputValue() {\n    this.props.onInputChange('')\n  }\n\n  handleKeyPress(e) {\n    if (e.keyCode === 8 && !this.props.value && this.props.values.length !== 0) {\n      this.removeValue(-1)\n    }\n  }\n\n  handleInputChange(e) {\n    this.props.onInputChange(e.target.value)\n    if ((this.props.options || []).length !== 0) {\n      this.showOptions()\n    }\n  }\n\n  focusInput() {\n    this.input.focus()\n  }\n\n  handleOutsideClick(e) {\n    if (isDescendant(this.inputWrap, e.target) || this.inputWrap === e.target) {\n      this.focusInput()\n      this.showOptions()\n    } else {\n      this.hideOptions()\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const optionsLoaded = (nextProps.options || []).length !== 0 && (this.props.options || []).length === 0\n    if (optionsLoaded && this.state.focus) {\n      this.showOptions()\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('click', this.handleOutsideClick)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('click', this.handleOutsideClick)\n  }\n\n  render() {\n    const { label, values, onAddNewValue, omitSelectedValuesFromOptions } = this.props\n\n    let value = this.props.value || ''\n    let options = this.props.options || []\n\n    let inputWidth = values.length > 0 ? (value.length === 0 ? 16 : value.length * 16) : '100%'\n    let placeholder = values.length > 0 ? '' : this.props.placeholder\n\n    let filteredOptions = options\n      .filter(option => {\n        if (omitSelectedValuesFromOptions) {\n          const valueOfValues = _.map(values, 'value')\n          return valueOfValues.indexOf(option.value) === -1\n        }\n\n        return true\n      })\n\n    const selectizeInputStyleName = classnames({\n      'selectize-input': true,\n      'selectize-input--focus': this.state.focus,\n      'selectize-input--empty': values.length === 0\n    })\n\n    return (\n      <div styleName=\"selectize-wrap\" className={this.props.className || ''}>\n        {\n          label ? (\n            <label className=\"form-label\">{label}</label>\n          ) : null\n        }\n        <div\n          styleName={selectizeInputStyleName}\n          ref={ref => { this.inputWrap = ref } }\n          >\n          {\n            values.map((v, index) => {\n              return (\n                <span key={index} styleName=\"selectize-tag\">\n                  {v.name}\n                  <Icon\n                    styleName=\"icon-remove\"\n                    size={20}\n                    name=\"close\"\n                    onClick={e => {\n                      this.removeValue(index)\n                    } }\n                    />\n                </span>\n              )\n            })\n          }\n          <input\n            style={{ width: inputWidth }}\n            ref={ref => { this.input = ref } }\n            value={value}\n            placeholder={placeholder}\n            onBlur={e => {\n              this.setState({ focus: false })\n            } }\n            onFocus={e => {\n              this.setState({ focus: true })\n            } }\n            onChange={this.handleInputChange}\n            onKeyDown={e => {\n              this.handleKeyPress(e)\n            } }\n            />\n        </div>\n        {\n          this.state.showOptions && (filteredOptions.length !== 0 || onAddNewValue) ? (\n            <ul styleName=\"query-results\">\n              {\n                filteredOptions\n                  .map((option, index) => {\n                    if (option.disabled) {\n                      return <li key={index} className=\"disabled\">{option.name}</li>\n                    }\n                    return (\n                      <li\n                        key={index}\n                        onClick={e => {\n                          this.addValue(option)\n                          if (this.props.onOptionClick) {\n                            this.props.onOptionClick(option)\n                          }\n                        } }\n                        >\n                        <span>{option.name}</span>\n                      </li>\n                    )\n                  })\n              }\n              {\n                onAddNewValue ? (\n                  <li\n                    onClick={e => {\n                      onAddNewValue(this.props.value)\n                    } }\n                    className=\"add\"> <strong>{this.props.value}</strong></li>\n                ) : null\n              }\n            </ul>\n          ) : null\n        }\n      </div>\n    )\n  }\n}\n\nSelectizeInput['defaultProps'] = {\n  omitSelectedValuesFromOptions: true\n}\n\nexport default SelectizeInput\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SelectizeInput/SelectizeInput.tsx","import SelectizeInput from './SelectizeInput'\nexport default SelectizeInput\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SelectizeInput/index.ts","import React, { Component } from 'react'\nimport { Props as InputProps } from '../Input/Input'\nimport CSSModules from 'react-css-modules'\nconst styles = require('./Textarea.scss')\n\nexport interface Props extends InputProps {\n}\n\n@CSSModules(styles, {\n  allowMultiple: true\n})\nclass Textarea extends Component<Props, any> {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <div styleName=\"textarea-wrap\" className={this.props.className || ''}>\n        <textarea\n          placeholder={this.props.placeholder}\n          value={this.props.value}\n          onChange={e => {\n            this.props.onChange(e)\n          }}\n          styleName=\"textarea\"\n          type={this.props.type ? this.props.type : 'text'}\n          name={this.props.name ? this.props.name : null}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Textarea\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Textarea/Textarea.tsx","import Textarea from './Textarea'\nexport default Textarea\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Textarea/index.ts","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from './reducers'\nimport { cache, injectCookie, handleServerStore, logActionTypes } from './middleware'\nimport handleInitialState from './handleInitialState'\nimport createLogger from 'redux-logger'\nimport createSagaMiddleware, { END } from 'redux-saga'\nimport helpers from './helpers'\n\nexport default function configureStore(cookies?) {\n  const sagaMiddleware = createSagaMiddleware()\n\n  const baseMiddlewares = [\n    injectCookie(cookies),\n    sagaMiddleware,\n    cache,\n    // modifyResponse,\n    thunk\n  ]\n\n  if (helpers.isServerEnv()) {\n    // server side\n    baseMiddlewares.push(handleServerStore)\n    if (process.env.NODE_ENV === 'production') {\n      // nothing here\n    } else {\n      if (process.env.ENABLE_SERVER_ACTION_LOG === '1') {\n        baseMiddlewares.push(logActionTypes)\n      }\n    }\n  } else {\n    // client side\n    if (process.env.NODE_ENV === 'production') {\n      // nothing here\n    } else {\n      baseMiddlewares.push(createLogger({\n        collapsed: true\n      }))\n    }\n  }\n\n  const store = createStore(\n    rootReducer,\n    handleInitialState(),\n    applyMiddleware(...baseMiddlewares)\n  )\n\n  if (module.hot) {\n    module.hot.accept('./reducers', () => {\n      console.info('hot updating reducers')\n      const nextRootReducer = require('./reducers').default\n      store.replaceReducer(nextRootReducer)\n    })\n  }\n\n  return {\n    ...store,\n    ...{\n      runSaga: sagaMiddleware.run,\n      close: () => store.dispatch(END)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/configureStore.ts","const menus = [\n  {\n    component: 'books',\n    displayName: '',\n    path: '/console/books',\n    subMenu: [\n      {\n        component: 'managebooks',\n        displayName: '',\n        path: '/console/books'\n      },\n      // {\n      //   component: 'addbook',\n      //   displayName: '',\n      //   path: '/console/books/new'\n      // },\n      {\n        component: 'addcollection',\n        displayName: '',\n        path: '/console/collections/new'\n      }\n    ]\n  },\n  {\n    component: 'users',\n    displayName: '',\n    path: '/console/users',\n    subMenu: [\n      {\n        component: 'manageusers',\n        displayName: '',\n        path: '/console/users'\n      }\n    ]\n  },\n  // {\n  //   component: 'database',\n  //   displayName: '',\n  //   path: '/console/db',\n  //   subMenu: []\n  // },\n  // {\n  //   component: 'statistics',\n  //   displayName: '',\n  //   path: '/console/statistics',\n  //   subMenu: []\n  // }\n]\n\nexport default menus\n\n\n\n// WEBPACK FOOTER //\n// ./src/content/menus.ts","import { INITIAL_STATE } from './constants'\n\nexport default function handleInitialState() {\n  if (typeof window === 'undefined') {\n    return {}\n  }\n\n  return window[INITIAL_STATE] || {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/handleInitialState.ts","import isServerEnv from '../helpers/isServerEnv'\n\nconst GLOBAL_ENV_VAR = '__ENV__'\n\nconst getEnv = () => {\n  if (isServerEnv()) {\n    return process.env\n  }\n\n  return window[GLOBAL_ENV_VAR]\n}\n\nexport default getEnv\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/getEnv.ts","import _ from 'lodash'\n\n// check if routing is changed\nexport const onRoutingChange = fn => (nextProps, currentProps) => {\n  if (!currentProps.routing) {\n    console.error('\"routing\" should be in props!')\n    return false\n  }\n\n  const hasPathParamChanged = !_.isEqual(nextProps.routing, currentProps.routing)\n\n  if (hasPathParamChanged) {\n    fn(nextProps.routing)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/lifecircle.ts","export default function print(...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    const style = 'color: blue;'\n    const mergedArgs = [args.join(' ')]\n    let modArgs = mergedArgs.map((arg, index) => {\n      if (index === 0) {\n        return `%c [DEV] ${arg}`\n      }\n    })\n\n    modArgs = modArgs.concat(style)\n    console.trace.apply(null, modArgs)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/print.ts","import isServerRoutingEnabled from './isServerRoutingEnabled'\nimport { hashHistory, browserHistory } from 'react-router'\n\nexport default function redirect(url: string) {\n  if (isServerRoutingEnabled()) {\n    browserHistory.push(url)\n  } else {\n    hashHistory.push(url)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/redirect.ts","export default store => next => action => {\n  return next(action)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/cache.ts","import _ from 'lodash'\n\nexport default store => next => action => {\n  if (typeof action.SERVER_STORE === 'undefined') {\n    return next(action)\n  }\n\n  const actionBody = new Promise(resolve => {\n    resolve(action.SERVER_STORE.body)\n  })\n\n  return actionBody.then(body => {\n    return next(dispatch => {\n      dispatch(body)\n      return {\n        ok: true,\n        response: action.body.response\n      }\n    })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/handleServerStore.ts","import modifyResponse from './modifyResponse'\nimport handleServerStore from './handleServerStore'\nimport logActionTypes from './logActionTypes'\nimport cache from './cache'\nimport injectCookie from './injectCookie'\n\nexport {\n  modifyResponse,\n  handleServerStore,\n  logActionTypes,\n  cache,\n  injectCookie\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/index.ts","export default cookie => store => next => action => {\n  if (action.payload && action.payload.request) {\n    action.payload.request.injectedCookie = cookie\n    next(action)\n  } else {\n    next(action)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/injectCookie.ts","export default store => next => action => {\n  console.info(action.type)\n  next(action)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/logActionTypes.ts","import * as ACTION_TYPES from '../constants/actionTypes'\n\nexport default store => next => action => {\n\n  if (action.type === ACTION_TYPES.DOUBAN_BOOKS.SUCCESS) {\n    action.response.result = action.response.result.books\n  }\n\n  return next(action)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/modifyResponse.ts","import { combineReducers } from 'redux'\nimport _ from 'lodash'\nimport * as ACTION_TYPES from '../constants/actionTypes'\n// import viewer from './viewer'\n\nfunction notifications(state = [], action) {\n  if (action.type === ACTION_TYPES.NOTIFICATION.HIDE) {\n    return state.map(n => n.id === action.id ? Object.assign({}, n, { visible: false }) : n)\n  }\n\n  if (action.type === ACTION_TYPES.NOTIFICATION.SHOW) {\n    return [...state, {\n      visible: true,\n      message: action.message,\n      type: action.msgType,\n      id: action.id\n    }]\n  }\n\n  return state\n}\n\nfunction confirmModal(state = {}, action) {\n  if (action.type === ACTION_TYPES.OPEN_CONFIRM_MODAL) {\n    return Object.assign({}, state, { open: true }, action.data)\n  }\n\n  if (action.type === ACTION_TYPES.CLOSE_CONFIRM_MODAL) {\n    return {\n      open: false\n    }\n  }\n\n  return state\n}\n\nfunction modal(state = {}, action) {\n  if (action.type === ACTION_TYPES.MODAL.OPEN) {\n    return Object.assign({}, state, { open: true }, action.data)\n  }\n\n  if (action.type === ACTION_TYPES.MODAL.CLOSE) {\n    return {\n      open: false\n    }\n  }\n\n  return state\n}\n\nconst components = combineReducers({\n  notifications,\n  confirmModal,\n  modal,\n  // viewer\n})\n\nexport default components\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/components.ts","import _ from 'lodash'\nimport { expandEntities, mockEntity } from '../utils/entity'\nimport { FETCH_STATUS, ACTION_TYPES } from '../constants'\n\nexport const entities = (state = {}, action: LoaderAction) => {\n  // TODO\n  // if (action.type === ACTION_TYPES.REMOVE_ENTITY) {\n  //   const {name, id} = action\n  //   return _.assign({}, state, {\n  //     [name]: _.omit(state[name], [id])\n  //   })\n  // }\n\n  const { payload, meta, type } = action\n\n  if (!meta || !meta.schema || !meta.types) {\n    return state\n  }\n\n  const { types, schema, targetId } = meta\n\n  switch (type) {\n    case types.REQUEST:\n      if (targetId) {\n        const _entities = expandEntities(mockEntity(schema.key, targetId), FETCH_STATUS.LOADING)\n        // todo: array content?\n        return _.merge({}, state, _entities)\n      }\n      return state\n\n    case types.SUCCESS:\n      return _.merge({}, state, payload.normalized.entities)\n\n    case types.FAILURE:\n      if (targetId) {\n        const _entities = expandEntities(mockEntity(schema.key, targetId), FETCH_STATUS.FAILED, payload)\n        // todo: array content?\n        return _.merge({}, state, _entities)\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/entities.ts","import _ from 'lodash'\nimport { combineReducers } from 'redux'\nimport { routerReducer as routing } from 'react-router-redux'\nimport { reducer as form } from 'better-redux-form'\nimport components from './components'\nimport { entities } from './entities'\nimport * as TYPES from '../constants/actionTypes'\nimport { ROLES } from '../constants'\nimport receiveData from './utils/receiveData'\nimport paginate from './utils/paginate'\nimport viewer from './viewer'\n\nfunction errorMessage(state = [], action) {\n  const { error, type } = action\n\n  if (error) {\n    const message = _.get(action, 'payload.message', 'Unknown error occurred!')\n    console.error(`${type}: ${message}`)\n    return [...state, message]\n  }\n\n  return state\n}\n\nconst rootReducer = combineReducers({\n  components,\n  entities,\n  errorMessage,\n  routing,\n  form,\n  viewer,\n  // it's true that define pagination in reducers is much better\n  pagination: combineReducers({\n    books: paginate(TYPES.BOOKS),\n    bookShelves: paginate(TYPES.SHELF),\n    users: paginate(TYPES.USERS)\n  }),\n  session: receiveData(TYPES.SESSION, {\n    role: ROLES.VISITOR\n  }),\n  profile: receiveData(TYPES.PROFILE)\n})\n\nexport default rootReducer\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.ts","import _ from 'lodash'\nimport { FETCH_STATUS } from '../../constants'\n\nexport const DEFAULT_PAGINATION_STATE = {\n  fetchStatus: FETCH_STATUS.NONE,\n  pages: {}\n}\n\nexport function computePaginationState(state, action: LoaderAction) {\n  //  null  merge  undefined \n  const next = _.get(action, 'payload.response.links.next', null)\n  const last = _.get(action, 'payload.response.links.last', null)\n\n  const currentPage = next\n    ? next.page - 1\n    : (last && last.page || 1)\n\n  const pages = _.assign({}, {\n    [currentPage]: action.payload.normalized.result\n  })\n\n  return _.assign({}, state, {\n    fetchStatus: FETCH_STATUS.LOADED,\n    // ids: _.union(state.ids, action.payload.normalized.result),\n    // if pages not fetched linerly things might go wrong\n    pages,\n    next,\n    last,\n    currentPage\n  })\n}\n\nexport default function paginate(types: SagaActionTypes, mapActionToKey?) {\n  const { REQUEST: requestType, SUCCESS: successType, FAILURE: failureType } = types\n\n  function updatePagination(state = DEFAULT_PAGINATION_STATE, action) {\n    switch (action.type) {\n      case requestType:\n        return _.assign({}, state, {\n          fetchStatus: FETCH_STATUS.LOADING\n        })\n      case successType:\n        return computePaginationState(state, action)\n      case failureType:\n        return _.assign({}, state, {\n          fetchStatus: FETCH_STATUS.FAILED\n        })\n      default:\n        return state\n    }\n  }\n\n  return function updatePaginationByKey(state = {}, action) {\n    switch (action.type) {\n      case requestType:\n      case successType:\n      case failureType:\n        const key = mapActionToKey\n          ? mapActionToKey(action)\n          : 'default'\n        if (typeof key !== 'string') {\n          throw new Error('Expected key to be a string.')\n        }\n        return _.merge({}, state, {\n          [key]: updatePagination(state[key], action)\n        })\n      default:\n        return state\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/utils/paginate.ts","import _ from 'lodash'\nimport { FETCH_STATUS } from '../../constants'\n\nconst receiveData = (types: RequestTypes, defaultData = {}, parser?) => {\n  const _defaultData = {\n    ...{\n      fetchStatus: FETCH_STATUS.NONE\n    },\n    ...defaultData\n  }\n  return (state = _defaultData, action: LoaderAction) => {\n    const { type, payload } = action\n    const response = _.get(action, 'payload.response', {}) as {\n      json: any\n    }\n\n    switch (type) {\n      case types.REQUEST:\n        return {\n          ...state,\n          ...{\n            fetchStatus: FETCH_STATUS.LOADING\n          }\n        }\n\n      case types.SUCCESS:\n        return {\n          ...state,\n          ...{\n            fetchStatus: FETCH_STATUS.LOADED,\n          },\n          ...((parser ? parser(response.json) : response.json))\n        }\n\n      case types.FAILURE:\n        return {\n          ...state,\n          ...{\n            fetchStatus: FETCH_STATUS.FAILED,\n            error: payload || new Error('Unknown error occurred!')\n          },\n        }\n\n      default:\n        return state\n    }\n  }\n}\n\nexport default receiveData\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/utils/receiveData.ts","import _ from 'lodash'\nimport { combineReducers } from 'redux'\nimport * as ACTION_TYPES from '../constants/actionTypes'\n\nconst getFlag = (reset, currentFlag) => {\n  if (typeof reset === 'undefined') {\n    return !currentFlag\n  }\n  return reset\n}\n\nconst DEFAULT_CONFIG: Viewer.Config = {\n  theme: 'WHITE'\n}\nconst config = (state = DEFAULT_CONFIG, action) => {\n  switch (action.type) {\n    case ACTION_TYPES.VIEWER.CONFIG:\n      return _.merge({}, state, action.payload)\n\n    case ACTION_TYPES.VIEWER.DESTROY:\n      return DEFAULT_CONFIG\n\n    default:\n      return state\n  }\n}\n\nconst DEFAULT_STATUS = { isReady: false }\nconst status = (state = DEFAULT_STATUS, action) => {\n  switch (action.type) {\n    case ACTION_TYPES.VIEWER.SET_STATUS:\n      return _.merge({}, state, action.payload)\n\n    case ACTION_TYPES.VIEWER.DESTROY:\n      return DEFAULT_STATUS\n\n    default:\n      return state\n  }\n}\n\nconst data = (state = {}, action) => {\n  const { payload } = action\n  switch (action.type) {\n    case ACTION_TYPES.VIEWER.DESTROY:\n      if (payload === true) {\n        return {}\n      }\n      return state\n\n    case ACTION_TYPES.VIEWER.CALC_SUCCESS:\n      return _.merge({}, state, {\n        [payload.bookId]: {\n          content: {\n            computed: payload.computed\n          }\n        }\n      })\n\n    case ACTION_TYPES.VIEWER.UPDATE_LOCAL_PROGRESS:\n      return _.merge({}, state, {\n        [payload.bookId]: {\n          progress: {\n            local: _.get(state, [payload.bookId, 'progress', 'local'], []).concat(payload.progress)\n          }\n        }\n      })\n\n    default:\n      return state\n  }\n}\n\nconst id = (state = '', action) => {\n  if (action.type === ACTION_TYPES.VIEWER.INITIALIZE) {\n    return action.payload\n  }\n  return state\n}\n\nconst DEFAULT_COMPONENT_STATE = {\n  showNavigation: false,\n  showPanel: false,\n  showPreference: false,\n  showProgress: false\n}\nconst components = (state = DEFAULT_COMPONENT_STATE, action) => {\n  const { payload, type } = action\n  switch (type) {\n    case ACTION_TYPES.VIEWER.PANEL_TOGGLE:\n      return {\n        ...state,\n        ...{\n          showPanel: getFlag(payload, state.showPanel)\n        }\n      }\n\n    case ACTION_TYPES.VIEWER.PREFERENCE_TOGGLE:\n      return {\n        ...state,\n        ...{\n          showPreference: getFlag(payload, state.showPreference)\n        }\n      }\n\n    case ACTION_TYPES.VIEWER.NAVIGATION_TOGGLE:\n      return {\n        ...state,\n        ...{\n          showNavigation: getFlag(payload, state.showNavigation)\n        }\n      }\n\n    case ACTION_TYPES.VIEWER.PROGRESS_INFO_TOGGLE:\n      return {\n        ...state,\n        ...{\n          showProgress: getFlag(payload, state.showProgress)\n        }\n      }\n\n    case ACTION_TYPES.VIEWER.SET_COMPONENT:\n      return {\n        ...state,\n        ...payload\n      }\n\n    case ACTION_TYPES.VIEWER.DESTROY:\n      return DEFAULT_COMPONENT_STATE\n\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  status,\n  config,\n  data,\n  components,\n  id\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/viewer.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, require('./AddBook').default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/AddBook/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./AddCollection') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/AddCollection/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./AppHome') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/AppHome/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./BookDetail') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/BookDetail/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./Browse') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Browse/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./CollectionDetail') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/CollectionDetail/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./Collections') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Collections/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./ManageBooks') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/ManageBooks/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./ManageUsers') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/ManageUsers/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./NoMatch') as any).default)\n    })\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/routes/NoMatch/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./Preference') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Preference/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./Profile') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Profile/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./Shelf') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Shelf/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./Signin') as any).default)\n    })\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Signin/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./Signup') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Signup/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./TestPlace') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/TestPlace/index.ts","module.exports = {\n  getComponent(nextState, fn) {\n    require.ensure([], function (require) {\n      fn(null, (require('./Viewer') as any).default)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Viewer/index.ts","import React from 'react'\nimport { Route, IndexRedirect, IndexRoute } from 'react-router'\nimport Master from '../components/Master'\nimport App from '../components/App'\nimport Console from '../components/Console'\nimport api from '../webAPI'\nimport { ROLES } from '../constants'\n\nconst createRoutes = (context = {}) => {\n  const { request, response } = context as any\n\n  const handleConsoleEnter = (nextState, replace, callback?) => {\n    if (request) {\n      // \n      const { context: { user: { role } } } = request\n      if (role !== ROLES.ADMIN) {\n        response.redirect('/')\n      }\n      callback()\n    } else {\n      // \n      try {\n        api.auth().then(res => {\n          if (res.json.role !== ROLES.ADMIN) {\n            replace('/')\n          }\n          callback()\n        })\n      } catch (error) {\n        alert('')\n        console.error(error)\n      }\n    }\n  }\n\n  return (\n    <Route path=\"/\" component={Master}>\n      <Route path=\"viewer/book/:id\" {...require('./Viewer') } />\n      <Route path=\"test\" {...require('./TestPlace') } />\n      <Route component={App}>\n        <IndexRoute {...require('./AppHome') } />\n        <Route path=\"browse\" {...require('./Browse') } />\n        <Route path=\"book/:id\" {...require('./BookDetail') } />\n        <Route path=\"collections\" {...require('./Collections') } />\n        <Route path=\"collections/:id\" {...require('./CollectionDetail') } />\n        <Route path=\"signin\" {...require('./Signin') } />\n        <Route path=\"signup\" {...require('./Signup') } />\n        <Route path=\"user\">\n          <IndexRedirect to=\"/user/profile\" />\n          <Route path=\"shelf\" {...require('./Shelf') } />\n          <Route path=\"preference\" {...require('./Preference') } />\n          <Route path=\"profile\" {...require('./Profile') } />\n        </Route>\n      </Route>\n      <Route onEnter={handleConsoleEnter} path=\"console\" component={Console}>\n        <IndexRedirect to=\"/console/books\" />\n        <Route path=\"books\" {...require('./ManageBooks') } />\n        <Route path=\"users\" {...require('./ManageUsers') } />\n        <Route path=\"books/new\" {...require('./AddBook') } />\n        <Route path=\"collections/new\" {...require('./AddCollection') } />\n      </Route>\n      <Route path=\"*\" {...require('./NoMatch') } />\n    </Route>\n  )\n}\n\nexport default createRoutes\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/index.tsx","import { getNodeHeights, groupPageFromChapters } from './paging'\n\nfunction calcBook(wrap: HTMLElement, flesh: TBookFlesh) {\n  const startCalcHtmlTime = new Date().valueOf()\n  const computedChapters = Array.prototype\n    .map.call(wrap.childNodes, child => {\n      const childDiv = child as HTMLDivElement\n      const id = childDiv.getAttribute('id')\n      const nodeHeights = getNodeHeights(childDiv.querySelector('.lines').childNodes)\n\n      return {\n        id,\n        nodeHeights\n      }\n    })\n  const endCalcHtmlTime = new Date().valueOf()\n  // helpers.print(`Calculating html takes ${endCalcHtmlTime - startCalcHtmlTime}ms`)\n\n  const computedPages = groupPageFromChapters(flesh, computedChapters, 900)\n\n  return computedPages\n}\n\nexport default calcBook\n\n\n\n// WEBPACK FOOTER //\n// ./src/sagas/effects/calcBook.ts","import _ from 'lodash'\nimport helpers from '../../helpers'\nimport styles from '../../routes/Viewer/components/BookPage.scss'\n\n// \n// \nexport function getNodeHeights(nodes) {\n  let nodesHeight = []\n\n  Array.prototype.forEach.call(nodes, (node, index) => {\n    if (node.className !== styles['gb-line']) {\n      console.error('Unsupported content found!')\n    }\n    nodesHeight.push(node.clientHeight)\n  })\n\n  return nodesHeight\n}\n\n// long paragraph situation doesn't seem to affect this function\n// offset distance is always negtive or zero\n// the index will be of the paragraph with this offset at the end\nfunction getPageOffset({pageIndex, pageHeight, nodeHeights}: {\n  pageIndex: number\n  pageHeight: number\n  nodeHeights: number[]\n}) {\n  let offset = 0\n  let nodeIndex = 0\n  let nodeStartIndex\n\n  if (pageIndex !== 0) {\n    let nodeHeightSum = 0\n    while (nodeHeightSum <= pageHeight * pageIndex) {\n      nodeHeightSum += nodeHeights[nodeIndex]\n      nodeIndex++\n    }\n    offset = nodeHeightSum - nodeHeights[nodeIndex - 1] - pageIndex * pageHeight\n    nodeStartIndex = nodeIndex - 1\n  } else {\n    nodeStartIndex = 0\n  }\n\n  return { offset, nodeStartIndex }\n}\n\n\nfunction getNodesOfPage({pageIndex, nodes, pageHeight, nodeHeights}: {\n  pageIndex: number\n  nodes: any\n  pageHeight: number\n  nodeHeights: number[]\n}) {\n  let { offset, nodeStartIndex } = getPageOffset({ pageIndex, pageHeight, nodeHeights })\n  let nodeIndex = nodeStartIndex\n  let nodeEndIndex\n  let pageNodes = []\n\n  let nodeHeightSum = offset + nodeHeights[nodeStartIndex]\n\n  nodeIndex++\n  if (nodeHeightSum < pageHeight) {\n    while (nodeHeightSum <= pageHeight && nodeIndex !== nodes.length) {\n      nodeHeightSum += nodeHeights[nodeIndex]\n      nodeIndex++\n    }\n    nodeEndIndex = nodeIndex - 1\n  } else {\n    nodeEndIndex = nodeStartIndex\n  }\n\n  for (let i = nodeStartIndex; i <= nodeEndIndex && i <= nodes.length - 1; i++) {\n    pageNodes.push(nodes[i])\n  }\n\n  return { pageNodes, offset }\n}\n\n\nexport type TPage = {\n  nodes: string[]\n  meta: any\n}\nexport type TPageList = TPage[]\nexport function groupNodesByPage(nodes: any, nodeHeights: number[], pageHeight: number, pageStartFrom = 0, chapterId?): TPageList {\n  let pages = []\n  let pageHeightSum = nodeHeights.reduce((a, b) => (a + b), 0)\n  let pageSum = Math.ceil(pageHeightSum / pageHeight)\n\n  if (nodeHeights.length === 0) {\n    return [{\n      nodes,\n      meta: {\n        pageNo: 1 + pageStartFrom,\n        offset: 0,\n        chapterId\n      }\n    }]\n  }\n\n  // finally\n  for (let i = 0; i < pageSum; i++) {\n    const { pageNodes, offset } = getNodesOfPage({ pageIndex: i, nodes, nodeHeights, pageHeight })\n\n    const findIdOfHTags = (mdNode: string) => {\n      const pattern = /<h\\d id=\"(.*)\">(.*)<\\/h\\d>/\n      const result = mdNode.match(pattern)\n\n      if (result) {\n        return result[1]\n      }\n\n      return null\n    }\n\n    const hash = pageNodes\n      .map(node => {\n        return findIdOfHTags(node)\n      })\n      .filter(id => Boolean(id))\n\n    pages.push({\n      nodes: pageNodes,\n      meta: {\n        pageNo: pageStartFrom + i + 1,\n        offset,\n        chapterId,\n        hash\n      },\n    })\n  }\n\n  return pages\n}\n\nexport function groupPageFromChapters(contentOfChapters: TBookFlesh, nodeHeightsOfChapters: {\n  id: string\n  nodeHeights: number[]\n}[], pageHeight: number) {\n  let pageStartFrom = 0\n  let allPages = []\n  const t0 = new Date().valueOf()\n\n  contentOfChapters.forEach((chapter, index) => {\n    const pages = groupNodesByPage(chapter.markdown.split('\\n\\n'), nodeHeightsOfChapters[index].nodeHeights, pageHeight, pageStartFrom, chapter.id)\n    allPages = allPages.concat(pages)\n    pageStartFrom = pageStartFrom + pages.length\n  })\n\n  const t1 = new Date().valueOf()\n  // helpers.print(`Grouping nodes takes ${t1 - t0}ms`)\n\n  return allPages\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sagas/effects/paging.ts","import { fork } from 'redux-saga/effects'\nimport watchViewer from './watchViewer'\nimport watchLoadTrigger from './watchLoadTrigger'\n\nexport default function* rootSaga() {\n  yield [\n    fork(watchViewer),\n    fork(watchLoadTrigger)\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sagas/index.ts","import { call, put, takeEvery } from 'redux-saga/effects'\nimport urlJoin from 'url-join'\nimport _ from 'lodash'\nimport getApiRoot from '../helpers/getApiRoot'\nimport { createActionEntity } from '../actions/utils'\nimport $request from '../utils/network/request'\nimport { FETCH_STATUS } from '../constants'\nimport { expandEntities, normalizeJSON } from '../utils/entity'\n\nconst API_ROOT = getApiRoot()\n\nfunction* handleLoad(action: LoaderAction) {\n  const { meta, payload } = action\n  const { request } = payload\n  const { schema } = meta\n  const flowActions = createActionEntity(meta.types)\n\n  // handle request\n  yield put(flowActions.request(payload, meta))\n\n  try {\n    // handle success\n    const response = yield $request(urlJoin(API_ROOT, request.url), {\n      ...request,\n      ...{\n        cookie: _.isUndefined(request.cookie) ? request.injectedCookie : request.cookie\n      }\n    })\n    if (schema) {\n      let normalized = normalizeJSON(response.json, schema)\n      const entities = expandEntities(normalized.entities, FETCH_STATUS.LOADED)\n      normalized = {\n        ...normalized,\n        ...{\n          ...{ entities }\n        }\n      }\n      yield put(flowActions.success({ response, normalized }, meta))\n    } else {\n      yield put(flowActions.success({ response }, meta))\n    }\n  } catch (error) {\n    // handle error\n    yield put(flowActions.failure(error, meta))\n  }\n}\n\nfunction* filterActions(action: LoaderAction) {\n  if (action.meta && action.meta.types && action.meta.types.TRIGGER === action.type) {\n    yield call(handleLoad, action)\n  }\n}\n\nexport default function* watchLoadTrigger() {\n  yield takeEvery('*', filterActions)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sagas/watchLoadTrigger.ts","import { take, put, select, fork } from 'redux-saga/effects'\nimport * as actions from '../actions'\nimport * as ACTION_TYPES from '../constants/actionTypes'\nimport _ from 'lodash'\nimport * as selectors from '../selectors'\nimport utils from '../utils'\nimport calcBook from './effects/calcBook'\nimport { DEFAULT_FONT_SIZE, DEFAULT_PAGE_HEIGHT } from '../constants/viewerDefs'\nimport shouldViewerBeFluid from '../helpers/shouldViewerBeFluid'\n\nconst getDefaultConfig = (override: Viewer.Config = {}): Viewer.Config => {\n  const fluid = shouldViewerBeFluid()\n  const viewerWidth = utils.getScreenInfo().width\n\n  return {\n    ...{\n      fluid,\n      isScrollMode: true,\n      isTouchMode: fluid,\n      pageHeight: DEFAULT_PAGE_HEIGHT,\n      fontSize: DEFAULT_FONT_SIZE,\n      theme: 'WHITE' as Viewer.Themes,\n\n      // width of viewer is exactly the width here when in fluid mode\n      // when not the width will be 'MOBILE_BREAK_POINT'\n      width: viewerWidth\n    },\n    ...override\n  }\n}\n\nfunction* loadProgressAndGo(bookId) {\n  const session: Session = yield select(selectors.session)\n  if (session.role !== 'visitor') {\n    yield put(actions.api.loadBookProgress(bookId))\n    yield take(ACTION_TYPES.BOOK_PROGRESS.SUCCESS)\n    const { percentage } = yield select(selectors.entity('bookProgress', bookId))\n    yield put(actions.viewer.viewerGoTo(percentage))\n  } else {\n    yield put(actions.viewer.viewerGoTo(0))\n  }\n}\n\nfunction* watchInitialization() {\n  while (true) {\n    const { payload: bookId } = yield take(ACTION_TYPES.VIEWER.INITIALIZE)\n    const config = getDefaultConfig()\n    yield put(actions.viewer.configViewer(config, true))\n    yield put(actions.viewer.setComponents({\n      hideAll: true\n    }))\n    yield put(actions.viewer.toggleViewerPreference(false))\n    yield put(actions.viewer.toggleViewerPanel(false))\n    const computed = yield select(selectors.viewer.computed(bookId))\n\n    if (_.isEmpty(computed)) {\n      yield [put(actions.api.loadBookInfo(bookId)), put(actions.api.loadBookContent(bookId))]\n      yield put(actions.viewer.configViewer({\n        isCalcMode: true\n      }, true))\n      yield take(ACTION_TYPES.VIEWER.CALC_SUCCESS)\n      yield put(actions.viewer.configViewer({\n        isCalcMode: false\n      }, true))\n    }\n\n    yield put(actions.viewer.setStatus({\n      isReady: true\n    }))\n    yield loadProgressAndGo(bookId)\n    yield put(actions.viewer.setComponents({\n      hideAll: false\n    }))\n  }\n}\n\nfunction* watchCalcBook() {\n  while (true) {\n    const { payload: { bookId, wrap } } = yield take(ACTION_TYPES.VIEWER.CALC_TRIGGER)\n    const bookContent = yield select(selectors.entity('bookContents', bookId))\n    const flesh = bookContent.flesh || {}\n\n    try {\n      const computed = calcBook(wrap, flesh)\n      yield put(actions.viewer.calcBookSuccess(bookId, computed))\n    } catch (error) {\n      yield put(actions.viewer.calcBookFailure(bookId, error))\n    }\n  }\n}\n\nfunction* watchGoTo() {\n  while (true) {\n    const { payload } = yield take(ACTION_TYPES.VIEWER.GO_TO)\n    const bookId = yield select(selectors.viewer.id)\n    const computed = yield select(selectors.viewer.computed(bookId))\n    const { pageHeight, isScrollMode } = yield select(selectors.viewer.config)\n    const pageCount = computed.length\n    const totalHeight = pageCount * pageHeight\n    let percentage = payload\n\n    if (payload > 1) {\n      // payload is page number\n      percentage = payload / pageCount\n    }\n\n    if (isScrollMode) {\n      document.body.scrollTop = totalHeight * percentage\n    } else {\n      // todo: page flip mode\n    }\n  }\n}\n\nfunction* watchConfig() {\n  while (true) {\n    const oldConfig: Viewer.Config = yield select(selectors.viewer.config)\n    const action = yield take(ACTION_TYPES.VIEWER.CONFIG)\n    const bookId = yield select(selectors.viewer.id)\n    const newConfig: Viewer.Config = yield select(selectors.viewer.config)\n    const isInit = _.get(action, 'meta.isInit')\n    const fluidChanged = oldConfig.fluid !== newConfig.fluid\n    let widthChangedInFluid = false\n\n    if (!fluidChanged && oldConfig.fluid) {\n      widthChangedInFluid = oldConfig.width !== newConfig.width\n    }\n\n    const needRerender = (oldConfig.fontSize !== newConfig.fontSize)\n      || (oldConfig.fluid !== newConfig.fluid)\n      || fluidChanged\n      || widthChangedInFluid\n\n    if (needRerender && !isInit) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.info('Start rerendering')\n      }\n      yield put(actions.viewer.setComponents({\n        showNavigation: false,\n        showPanel: false,\n        showPreference: false,\n        hideAll: true\n      }))\n      yield put(actions.viewer.setStatus({\n        isReady: false\n      }))\n      yield put(actions.viewer.configViewer({\n        isCalcMode: true,\n        isTouchMode: shouldViewerBeFluid()\n      }))\n      yield put(actions.viewer.toggleViewerPanel(false))\n      yield take(ACTION_TYPES.VIEWER.CALC_SUCCESS)\n      yield put(actions.viewer.configViewer({\n        isCalcMode: false\n      }))\n      yield put(actions.viewer.setStatus({\n        isReady: true\n      }))\n      yield loadProgressAndGo(bookId)\n      yield put(actions.viewer.setComponents({\n        hideAll: false\n      }))\n    }\n  }\n}\n\nexport default function* watchViewer() {\n  yield [\n    fork(watchInitialization),\n    fork(watchCalcBook),\n    fork(watchGoTo),\n    fork(watchConfig)\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sagas/watchViewer.ts","import schemas from '../schemas'\nimport { pagedEntities } from './utils'\nimport _ from 'lodash'\n\nexport const bookList = pagedEntities({\n  schema: schemas.BOOK_ARRAY,\n  paginationName: 'books'\n})\n\nexport const shelf = pagedEntities({\n  schema: schemas.SHELF_BOOK_ARRAY,\n  paginationName: 'bookShelves'\n})\n\nexport const userList = pagedEntities({\n  schema: schemas.USER_ARRAY,\n  paginationName: 'users'\n})\n\n// old\n// export const doubanBooks = key => createSelector(\n//   pagedEntities({\n//     entitiesName: 'doubanBooks',\n//     paginationName: 'doubanBooks',\n//     paginationKey: key\n//   }),\n//   books => books\n// )\n\n// export const doubanBooksAsOptions = key => createSelector(\n//   doubanBooks(key),\n//   selectedBooks => {\n//     return selectedBooks.map(book => ({\n//       name: book.title,\n//       value: book.id,\n//       additional: {\n//         description: book.summary,\n//         cover: book.images.large,\n//         author: book.author.join(', ')\n//       }\n//     }))\n//   }\n// )\n\n// export const authorsAsOptions = key => createSelector(\n//   authors(key),\n//   items => {\n//     return items.map(item => ({\n//       name: item.name,\n//       value: item.id\n//     }))\n//   }\n// )\n\n// export const booksAsOptions = (key?) => createSelector(\n//   books(key),\n//   items => {\n//     return items.map(item => ({\n//       name: item.title,\n//       value: item.id\n//     }))\n//   }\n// )\n\n\n\n// WEBPACK FOOTER //\n// ./src/selectors/pagination.ts","import _ from 'lodash'\nimport { entity } from './utils'\nimport { createSelector } from 'reselect'\n\nexport const id = state =>\n  _.get(state, ['viewer', 'id']) as string\n\nexport const computed = bookId => state => {\n  return _.get(state, ['viewer', 'data', bookId, 'content', 'computed'], []) as TBookPage[]\n}\n\nexport const computed2 = state => {\n  const _id = id(state)\n  return computed(id)(state)\n}\n\nexport const status = state => {\n  return _.get(state, ['viewer', 'status'], {}) as Viewer.Status\n}\n\nexport const config = state => {\n  return _.get(state, ['viewer', 'config'], {}) as Viewer.Config\n}\n\nexport const components = state => {\n  return _.get(state, ['viewer', 'components'], {}) as Viewer.Components\n}\n\nexport const localProgress = bookId => state => {\n  return _.get(state, ['viewer', 'data', bookId, 'progress', 'local'], [])\n}\n\nexport const self = state => {\n  return _.get(state, ['viewer'], {}) as any\n}\n\nexport const navData = bookId => state => {\n  const bookContent = entity('bookContents', bookId)(state)\n  return _.get(bookContent, 'nav', []) as TBookNav[]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/selectors/viewer.ts","import _ from 'lodash'\nimport Schema from '../models/schema'\nimport Model from '../models/model'\n\nclass BasicApi {\n  _model: Model\n  _schema: Schema\n\n  constructor(schema: Schema) {\n    this._schema = schema\n    this._model = new Model(schema)\n  }\n\n  findOne(id) {\n    return this._model.findOne(id)\n  }\n\n  list(page, keyword?: string) {\n    return this._model.list({\n      page,\n      disablePagination: _.isNil(page),\n      // TODO\n      filter: entity => true\n    })\n  }\n\n  add(data) {\n    return this._model.add(data)\n  }\n\n  update(id: string, data) {\n    // todo\n    //  upsert fields\n    //  upsert  fields \n    return this._model.update(id, data)\n  }\n\n  remove(id: string) {\n    return this._model.remove(id)\n  }\n}\n\nexport default BasicApi\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api/basic-api.ts","import Model from '../models/model'\nimport paginate from '../models/paginate'\nimport * as schemas from '../data/schemas'\nimport _ from 'lodash'\nimport utils from '../utils'\nimport { notFoundError } from '../helpers'\nimport { readFile, delFile } from './file'\nimport parsers from '../parsers'\nimport callApi from '../../utils/api/callApi'\n\nconst bookModel = new Model(schemas.book)\nconst fileModel = new Model(schemas.file)\nconst progressModel = new Model(schemas.progress)\nconst authorModel = new Model(schemas.author)\n\n/**\n * helpers\n */\nasync function getAuthorId(authorName, description) {\n  try {\n    const authorEntity = await authorModel.findOne({ name: authorName })\n    return authorEntity._id\n  } catch (error) {\n    const result = await authorModel.add({\n      name: authorName,\n      description\n    })\n    return result.ops[0]._id\n  }\n}\n\n\n/**\n * 3rd party\n */\nasync function fetchBookByTitle(title: string) {\n  const keyword = title\n\n  const { json: bookJson } = await callApi(`https://api.douban.com/v2/book/search?q=${encodeURI(keyword)}&count=1`)\n  return _.get(bookJson, ['books', 0], {})\n}\n\nasync function fetchBookMetaByTitle(title: string) {\n  const book = await fetchBookByTitle(title)\n  return {\n    cover: _.get(book, ['images', 'large']),\n    description: _.get(book, 'summary'),\n    authorInfo: _.get(book, 'author_intro'),\n  }\n}\n\n\n/**\n * apis\n */\nexport function findBook(id) {\n  return bookModel.findOne(id).then(result => {\n    const data = _.omit(result, ['file'])\n    let contentType = 'txt'\n\n    if (!result.file) {\n      contentType = ''\n    } else if (result.file.mimetype === 'application/epub+zip') {\n      contentType = 'epub'\n    }\n\n    return _.assign({}, data, {\n      content_type: contentType\n    })\n  })\n}\n\nexport async function addBook(meta, fileId) {\n  const mergeBookMeta = (title, authorId, extMeta) => {\n    return _.assign({}, {\n      title,\n      authors: [authorId],\n      file: fileId\n    }, meta, extMeta)\n  }\n\n  async function doSave(title, authorName) {\n    const bookMeta = await fetchBookMetaByTitle(title)\n    const authorId = await getAuthorId(authorName, bookMeta.authorInfo)\n    const bookData = mergeBookMeta(title, authorId, _.omit(bookMeta, 'authorInfo'))\n\n    return bookModel.add(bookData)\n  }\n\n  if (fileId) { // resolve file to get book meta\n    const fileResult = await readFile(fileId)\n\n    if (fileResult.mimetype === 'application/epub+zip') {\n      try {\n        const file = await readFile(fileId, parsers.epub)\n        const parsedContent = file.content\n        const authorName = parsedContent.meta.author\n\n        return doSave(parsedContent.meta.title, authorName)\n      } catch (error) {\n        await fileModel.remove(fileId)\n        throw error\n      }\n    } else if (fileResult.mimetype === 'text/plain') { //  txt\n      const file = await readFile(fileId)\n      const fileContentArray = file.content.buffer.toString('utf-8').split('\\n')\n      const title = fileContentArray[0]\n      const authorName = fileContentArray[1]\n\n      return doSave(title, authorName)\n    } else {\n      return Promise.reject(new Error('Unsupported file type!'))\n    }\n  }\n\n  // TODO: \n  return bookModel.add(meta)\n}\n\ninterface BookMeta {\n  authors: string\n  cover: string\n  description: string\n  title: string\n}\nexport async function editBookMeta(bookId, meta: BookMeta) {\n  await bookModel.findOne(bookId, true)\n  // todo: \n  const { authorInfo } = await fetchBookMetaByTitle(meta.authors)\n  const authorId = await getAuthorId(meta.authors, authorInfo)\n  const bookMeta = {\n    ...meta,\n    ...{\n      authors: [authorId]\n    }\n  }\n\n  return bookModel.update(bookId, bookMeta, {\n    upsert: false\n  })\n}\n\nexport async function resolveBookContent(bookId) {\n  const bookEntity = await bookModel.findOne(bookId)\n  const fileId = bookEntity.file._id\n  let bookContent\n\n  if (!fileId) {\n    //  404 \n    //  404 \n    //  404  file\n    return Promise.reject(notFoundError('book'))\n  }\n\n  if (bookEntity.file.mimetype === 'application/epub+zip') {\n    const fileResult = await readFile(fileId, parsers.epub)\n    bookContent = _.omit(fileResult.content, ['meta'])\n  } else if (bookEntity.file.mimetype === 'text/plain') {\n    const fileResult = await readFile(fileId, parsers.txtContent)\n    bookContent = fileResult.content\n  } else {\n    return Promise.reject(new Error('Unsupported file type!'))\n  }\n\n  return _.assign({}, bookContent, { _id: bookId, content_id: fileId })\n}\n\nexport function listBooks(page?) {\n  return bookModel.list({\n    page,\n    disablePagination: _.isNil(page),\n    mapping: entity => _.omit(entity, ['content', 'file'])\n  })\n}\n\nexport function listShelfBooks(userId, page?) {\n  return progressModel.listRaw({ query: { user_id: userId } }).then(results => {\n    if (results.length === 0) {\n      return results\n    }\n\n    return Promise\n      .all(results\n        .sort(utils.sortByDate())\n        .map(result => {\n          return bookModel.findOne(result.book_id, true).then(res => {\n            return res\n          }, error => {\n            //  404  entity\n            return bookModel.outputEmpty(result.book_id)\n          })\n        })\n      )\n      .then(res => {\n        return paginate(res.map(entity => _.omit(entity, ['content'])), {\n          page\n        }) as Object\n      })\n  })\n}\n\nexport async function removeBook(bookId: string) {\n  const book = await bookModel.findOne(bookId, true)\n  const fileId = book.file\n  await bookModel.remove(bookId)\n  return delFile(fileId)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api/books.ts","import Model from '../models/model'\nimport * as schemas from '../data/schemas'\nimport _ from 'lodash'\n\nconst collectionModel = new Model(schemas.collection)\n\nexport function listCollection(page?) {\n  return collectionModel.list({\n    page,\n    disablePagination: _.isNil(page),\n    mapping: entity => {\n      return _.assign({}, entity, {\n        items: entity['items'].map(item => _.omit(item, 'content'))\n      })\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api/collections.ts","import * as schemas from '../data/schemas'\nimport _ from 'lodash'\nimport BasicApi from './basic-api'\n\nexport * from './file'\nexport * from './books'\nexport * from './user'\nexport * from './users'\nexport * from './collections'\n\nexport const author = new BasicApi(schemas.author)\nexport const collection = new BasicApi(schemas.collection)\nexport const book = new BasicApi(schemas.book)\nexport const tag = new BasicApi(schemas.tag)\nexport const user = new BasicApi(schemas.user)\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api/index.ts","import Model from '../models/model'\nimport * as schemas from '../data/schemas'\nimport _ from 'lodash'\nimport humps from 'humps'\n\nconst progressModel = new Model(schemas.progress)\n\nexport function getReadingProgress(userId, bookId) {\n  const query = humps.decamelizeKeys({ userId, bookId })\n\n  return progressModel.list({ disablePagination: true, raw: true, query }).then(res => {\n    if (res['length'] === 0) {\n      return progressModel.outputEmpty({\n        user_id: userId,\n        book_id: bookId\n      })\n    }\n    return res[0]\n  })\n}\n\nexport function setReadingProgress(userId, bookId, data) {\n  const query = humps.decamelizeKeys({ userId, bookId })\n\n  return progressModel.update(query, data, {\n    upsert: true\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api/user.ts","import Model from '../models/model'\nimport * as schemas from '../data/schemas'\nimport _ from 'lodash'\nimport { ROLES } from '../../constants'\n\nconst userModel = new Model(schemas.user)\n\nexport function findUser(id) {\n  return userModel.findOne(id).then(entity => {\n    return _.omit(entity, ['password'])\n  })\n}\n\nexport function addUser(userInfo) {\n  return userModel.add(_.assign({}, userInfo, {\n    role: ROLES.USER\n  }))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api/users.ts","import http from 'http'\nimport print from './utils/print'\n\ninterface BootstrapConfig {\n  port?: number\n  isProduction: boolean\n}\n\nexport default function bootstrap(app, config: BootstrapConfig) {\n  const { port: overidePort, isProduction } = config\n  const server = http.createServer(app)\n  const port = overidePort || Number(process.env.PORT)\n\n  app.set('port', port)\n  server.listen(port)\n\n  print.info(`Server running in ${isProduction ? 'production' : 'development'} at port ${port}`)\n\n  return app\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/bootstrap.ts","export class DataType {\n  mark: string\n  isTypeArray: boolean\n\n  constructor(mark, isTypeArray?) {\n    this.mark = mark\n    this.isTypeArray = typeof isTypeArray === 'undefined'\n      ? false\n      : isTypeArray\n  }\n\n  isArray() {\n    if (typeof this.isTypeArray === 'undefined' || !this.isTypeArray) {\n      return false\n    }\n    return true\n  }\n\n  equals(type) {\n    return (type.mark === this.mark && type.isArray() === this.isTypeArray)\n  }\n}\n\nexport const arrayOf = (type: DataType) => {\n  return new DataType(type.mark, true)\n}\n\nconst DataTypes = {\n  String: new DataType('STRING'),\n  Number: new DataType('NUMBER'),\n  ID: new DataType('ID'),\n}\n\nexport default DataTypes\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/data/types.ts","import * as api from '../api'\nimport _ from 'lodash'\nimport makeBasicEndpoint from './make-basic-endpoint'\n\n// basic endpoints\nexport const author = makeBasicEndpoint(api.author)\nexport const collection = makeBasicEndpoint(api.collection)\nexport const book = makeBasicEndpoint(api.book)\nexport const tag = makeBasicEndpoint(api.tag)\nexport const user = makeBasicEndpoint(api.user)\n\n// common endpoints\n// books\nexport const addBook = (req, res, next) => {\n  req.apiResults = api.addBook(req.body, req.loggedFileId)\n  next()\n}\n\nexport const findBook = (req, res, next) => {\n  req.apiResults = api.findBook(req.params.book)\n  next()\n}\n\nexport const resolveBookContent = (req, res, next) => {\n  req.apiResults = api.resolveBookContent(req.params.book)\n  next()\n}\n\nexport const listBooks = (req, res, next) => {\n  req.apiResults = api.listBooks(req.query.page || 1)\n  next()\n}\n\nexport const editBookMeta = (req, res, next) => {\n  req.apiResults = api.editBookMeta(req.params.book, req.body)\n  next()\n}\n\nexport const removeBook = (req, res, next) => {\n  req.apiResults = api.removeBook(req.params.book)\n  next()\n}\n\n// users\nexport const findUser = (req, res, next) => {\n  req.apiResults = api.findUser(req.context.user.id)\n  next()\n}\n\nexport const addUser = (req, res, next) => {\n  req.apiResults = api.addUser(req.body)\n  next()\n}\n\n// user\nexport const listShelfBooks = (req, res, next) => {\n  req.apiResults = api.listShelfBooks(req.context.user.id, req.query.page || 1)\n  next()\n}\n\nexport const getReadingProgress = (req, res, next) => {\n  req.apiResults = api.getReadingProgress(req.context.user.id, req.params.book)\n  next()\n}\n\nexport const setReadingProgress = (req, res, next) => {\n  req.apiResults = api.setReadingProgress(req.context.user.id, req.params.book, req.body)\n  next()\n}\n\n// file\nexport const readFile = (req, res, next) => {\n  req.apiResults = api.readFile(req.params.file)\n  next()\n}\n\nexport const delFile = (req, res, next) => {\n  req.apiResults = api.delFile(req.params.file)\n  next()\n}\n\n// other\nexport const listCollections = (req, res, next) => {\n  req.apiResults = api.listCollection(req.query.page || 1)\n  next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/endpoints/index.ts","import BasicApi from '../api/basic-api'\n\nconst makeBasicEndpoint = (apiFns: BasicApi) => {\n  const findOne = (req, res, next) => {\n    req.apiResults = apiFns.findOne(req.params.id)\n    next()\n  }\n\n  const list = (req, res, next) => {\n    req.apiResults = apiFns.list(req.query.page || 1)\n    next()\n  }\n\n  const add = (req, res, next) => {\n    req.apiResults = apiFns.add(req.body)\n    next()\n  }\n\n  const update = (req, res, next) => {\n    req.apiResults = apiFns.update(req.params.id, req.body)\n    next()\n  }\n\n  const remove = (req, res, next) => {\n    req.apiResults = apiFns.remove(req.params.id)\n    next()\n  }\n\n  return { findOne, list, add, update, remove }\n}\n\nexport default makeBasicEndpoint\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/endpoints/make-basic-endpoint.ts","import GenericError from './generic-error'\n\nexport default class BadRequestError extends GenericError {\n  code: number\n\n  constructor(message, code?) {\n    super(message, 'BadRequestError')\n    this.statusCode = 400\n\n    if (code) {\n      this.code = code\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/bad-request-error.ts","import GenericError from './generic-error'\n\nexport default class EmailError extends GenericError {\n  constructor(message) {\n    super(message, 'EmailError')\n\n    this.statusCode = 500\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/email-error.ts","import GenericError from './generic-error'\n\nexport default class InternalServerError extends GenericError {\n  constructor(message) {\n    super(message, 'InternalServerError')\n\n    this.statusCode = 500\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/internal-server-error.ts","import GenericError from './generic-error'\n\nexport default class MethodNotAllowedError extends GenericError {\n  constructor(message) {\n    super(message, 'MethodNotAllowedError')\n\n    this.statusCode = 405\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/method-not-allowed-error.ts","import GenericError from './generic-error'\n\nexport default class NoPermissionError extends GenericError {\n  constructor(message) {\n    super(message, 'NoPermissionError')\n\n    this.statusCode = 403\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/no-permission-error.ts","import GenericError from './generic-error'\n\nexport default class NotFoundError extends GenericError {\n  constructor(message) {\n    super(message, 'NotFoundError')\n\n    this.statusCode = 404\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/not-found-error.ts","import GenericError from './generic-error'\n\nexport default class RequestEntityTooLargeError extends GenericError {\n  constructor(message) {\n    super(message, 'RequestEntityTooLargeError')\n\n    this.statusCode = 413\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/request-too-large-error.ts","import GenericError from './generic-error'\n\nexport default class TokenRevocationError extends GenericError {\n  constructor(message) {\n    super(message, 'TokenRevocationError')\n\n    this.statusCode = 503\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/token-revocation-error.ts","import GenericError from './generic-error'\n\nexport default class TooManyRequestsError extends GenericError {\n  constructor(message) {\n    super(message, 'TooManyRequestsError')\n\n    this.statusCode = 429\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/too-many-requests-error.ts","import GenericError from './generic-error'\n\nexport default class UnauthorizedError extends GenericError {\n  constructor(message) {\n    super(message, 'UnauthorizedError')\n\n    this.statusCode = 401\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/unauthorized-error.ts","import GenericError from './generic-error'\n\nexport default class UnsupportedFileTypeError extends GenericError {\n  constructor(message) {\n    super(message, 'UnsupportedFileTypeError')\n\n    this.statusCode = 415\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/unsupported-file-type-error.ts","import GenericError from './generic-error'\n\nexport default class ValidationError extends GenericError {\n  property: string\n\n  constructor(message, offendingProperty?) {\n    super(message, 'ValidationError')\n    this.statusCode = 422\n\n    if (offendingProperty) {\n      this.property = offendingProperty\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/errors/validation-error.ts","import crypto from 'crypto'\n/**\n * source:\n * http://stackoverflow.com/questions/6984139/how-can-i-get-the-sha1-hash-of-a-string-in-node-js\n */\n\nexport default function computeHash(buffer: string) {\n  const shasum = crypto.createHash('sha1')\n  shasum.update(buffer)\n  return shasum.digest('hex')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/helpers/compute-hash.ts","import urljoin from 'url-join'\n\nexport default () => {\n  return urljoin(`${process.env.DB_PROTOCOL}://${process.env.DB_HOST}:${process.env.DB_PORT}`, process.env.DB_NAME) as string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/helpers/getMongoDBUrl.ts","import urljoin from 'url-join'\n\nexport default () => {\n  return urljoin(`${process.env.DB_PROTOCOL}://${process.env.DB_HOST}:${process.env.DB_PORT}`, process.env.MONGOSTORE_NAME) as string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/helpers/getMongoStoreUrl.ts","import express from 'express'\nimport session from 'express-session'\nimport path from 'path'\nimport morgan from 'morgan'\nimport cookieParser from 'cookie-parser'\nimport bodyParser from 'body-parser'\nimport connectMongo from 'connect-mongo'\nimport render from './middleware/render'\nimport bootServer from './bootstrap'\nimport routes from './routes'\nimport * as CONSTANTS from '../constants'\nimport getMongoStoreUrl from './helpers/getMongoStoreUrl'\nimport middleware from './middleware'\n\nconst MongoStore = connectMongo(session)\nconst app = express()\n\nconst PUBLIC_DIR = 'build/static'\nconst PUBLIC_URL = '/static'\nconst SESSION_SECRET = 'key'\nconst REQ_SIZE_LIMIT = '5mb'\nconst MONGO_STORE_URL = getMongoStoreUrl()\n\ninterface InitConfig {\n  basePath: string\n  isProduction: boolean\n}\n\nexport default function initialize(config: InitConfig) {\n  const { basePath, isProduction } = config\n\n  // locals\n  app.locals.basePath = basePath\n\n  app.use(session({\n    secret: SESSION_SECRET,\n    resave: true,\n    saveUninitialized: true,\n    store: new MongoStore({ url: MONGO_STORE_URL })\n  }))\n\n  app.use(bodyParser.urlencoded({ limit: REQ_SIZE_LIMIT, extended: false }))\n  app.use(bodyParser.json({ limit: REQ_SIZE_LIMIT }))\n  app.use(cookieParser())\n\n  // log cookies\n  app.use((req, res, next) => {\n    // console.log('------------')\n\n    // // Cookies that have not been signed\n    // console.log('Cookies: ', req.cookies)\n\n    // // Cookies that have been signed\n    // console.log('Signed Cookies: ', req.signedCookies)\n    // req.context.user\n    // console.log(req.session.user)\n    next()\n  })\n\n  app.use(PUBLIC_URL, express.static(path.join(basePath, PUBLIC_DIR)))\n\n  app.use(middleware.parseContext)\n\n  // api routing\n  app.use(`/${CONSTANTS.API_PREFIX}`, routes.api())\n\n  // render view\n  app.use(render(isProduction))\n\n  // log error info\n  app.use(morgan('dev', {\n    skip(req, res) { return res.statusCode < 400 }\n  }))\n\n  return bootServer(app, {\n    isProduction\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/initialize.ts","import _ from 'lodash'\nimport errors from '../errors'\nimport i18n from '../utils/i18n'\nimport Model from '../models/model'\nimport humps from 'humps'\nimport * as schemas from '../data/schemas'\n\nexport function basicAuth(req, res, next) {\n  const user = new Model(schemas.user)\n\n  const login = req.body.login ? req.body.login.toLowerCase() : undefined\n  const password = req.body.password\n\n  if (typeof login === 'undefined') {\n    next(new errors.ValidationError(i18n('errors.validation.preCheck.missRequiredFields', 'login')))\n  }\n\n  if (typeof password === 'undefined') {\n    next(new errors.ValidationError(i18n('errors.validation.preCheck.missRequiredFields', 'password')))\n  }\n\n  const query = { $or: [{ username: login, password }, { email: login, password }] }\n\n  user.findOne(query).then(result => {\n    req.session.user = humps.camelizeKeys(result)\n    req.apiResults = Promise.resolve({ ok: 1 })\n    next()\n  }, error => {\n    next(new errors.UnauthorizedError(i18n('errors.middleware.auth.wrongCombination')))\n  })\n}\n\nexport function check(req, res) {\n  res.send(humps.decamelizeKeys(req.context.user))\n}\n\nexport function revoke(req, res) {\n  req.session.destroy()\n  res.status(204).send(null)\n}\n\nexport default { basicAuth, check, revoke }\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/auth.ts","import { notFoundError } from '../helpers'\n\nexport default function handleApiNotFound(req, res, next) {\n  if (!req.__apiTouched) {\n    next(notFoundError('API'))\n  }\n  next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/handle-api-not-found.ts","import print from '../utils/print'\nimport i18n from '../utils/i18n'\nimport _ from 'lodash'\n\nexport default function handleError(error, req, res, next) {\n  const statusCode = error.statusCode || 500\n  let errorJson = error\n\n  if (Error.prototype.isPrototypeOf(error)) {\n    errorJson = {\n      message: error.message || i18n('errors.general.unknownErrorOccurred'),\n      type: error.name,\n    }\n  }\n\n  if (!error.statusCode) {\n    print.error(error)\n  }\n\n  res.status(statusCode).send(_.omit(errorJson, ['statusCode', 'name', 'stack']))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/handle-error.ts","import _ from 'lodash'\nimport parseUrlencoded from '../../utils/parseUrlencoded'\nimport helpers from '../../helpers'\n\nconst API_ROOT = helpers.getApiRoot()\n\nfunction parsePagination({ fullPath, query }, { current, all }) {\n  const getLintByPage = page => (`${fullPath}?${parseUrlencoded(_.assign({}, query, { page }))}`)\n\n  const links = {\n    first: getLintByPage(1),\n    last: getLintByPage(all),\n    prev: getLintByPage(current - 1),\n    next: getLintByPage(current + 1),\n  }\n\n  if (current > all) {\n    links.prev = links.last\n  }\n\n  if (all === 1) {\n    if (current > 1) {\n      return _.omit(links, ['next'])\n    }\n\n    if (current === 1) {\n      return _.omit(links, ['prev', 'next'])\n    }\n  }\n\n  if (current <= 1) {\n    return _.omit(links, ['prev'])\n  }\n\n  if (current >= all) {\n    return _.omit(links, ['next'])\n  }\n\n  return links\n}\n\nconst handleSuccess = (apiResults, req, res) => {\n  if (req.method === 'POST') {\n    res.status(201).send(apiResults)\n  } else {\n    if (apiResults._pagination) {\n      const host = API_ROOT\n\n      res.links(parsePagination({\n        fullPath: host + req.path,\n        query: req.query,\n      }, apiResults._pagination))\n\n      res.status(200).send(apiResults.entities)\n      return false\n    }\n\n    res.status(200).send(apiResults)\n  }\n}\n\nfunction handleJSONResponse(req, res, next) {\n  const { apiResults } = req\n\n  if (!apiResults) {\n    next(new Error('\"apiResults\" is not present!'))\n  }\n\n  apiResults.then(results => {\n    handleSuccess(results, req, res)\n  }, error => {\n    next(error)\n  })\n}\n\nexport default handleJSONResponse\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/handle-json-response.ts","import * as schemas from '../data/schemas'\nimport Model from '../models/model'\nimport _ from 'lodash'\nimport * as helpers from '../helpers'\n\nconst fileModel = new Model(schemas.file)\n\n// @req#loggedFileId\nexport default function logFile(req, res, next) {\n  const file = req.file\n  const hash = helpers.computeHash(file.buffer)\n  const data = {\n    filename: file.originalname,\n    //  binData  BSON type\n    content: file.buffer,\n    mimetype: file.mimetype,\n    size: file.size,\n    encoding: file.encoding,\n    hash\n  }\n\n  fileModel.findOne({ hash }).then(result => {\n    // req.loggedFileId = result._id\n    // TODO: 404 \n    const err = new Error('File already exists!')\n    next(err)\n  }, notFoundError => {\n    // TODO:  404\n    // \n    fileModel\n      .add(data)\n      .then(result => {\n        const loggedFileId = _.get(result, ['ops', 0, '_id'])\n        if (!loggedFileId) {\n          // TODO\n          // throw new Error('File not Found!')\n          const err = new Error('File not Found!')\n          next(err)\n        } else {\n          req.loggedFileId = loggedFileId\n          next()\n        }\n      })\n      .catch(error => {\n        next(error)\n      })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/log-file.ts","import _ from 'lodash'\n\nexport default function parseContext(req, res, next) {\n  if (req.session.user) {\n    req.context = {\n      user: _.omit(req.session.user, ['password', 'dateCreated', 'email'])\n    }\n  } else {\n    req.context = {\n      user: {\n        role: 'visitor'\n      }\n    }\n  }\n\n  next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/parse-context.ts","export default function prepareApi(req, res, next) {\n  req.__apiTouched = true\n  next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/prepare-api.ts","import React from 'react'\nimport { renderToString } from 'react-dom/server'\nimport ServerSideAppRoot from '../../../components/ServerSideAppRoot'\nimport rootSaga from '../../../sagas'\n\nfunction fetchData(req, res, next) {\n  const { matchedResults: { renderProps } } = req.locals\n  const store = req.locals.store\n\n  const rootComponent = (\n    <ServerSideAppRoot\n      renderPageContent\n      renderProps={renderProps}\n      store={req.locals.store}\n    />\n  )\n\n  store.runSaga(rootSaga).done.then(next)\n\n  renderToString(rootComponent)\n  store.close()\n}\n\nexport default fetchData\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/render/fetch-data.tsx","import React from 'react'\nimport { renderToStaticMarkup } from 'react-dom/server'\nimport Page500 from '../../../components/Page500'\nimport { DOCTYPE } from '../../../components/AppDoc'\n\nfunction handleError(error, req, res, next) {\n  const html = renderToStaticMarkup(\n    <Page500\n      message={error.message || 'Unknown error occurred!'}\n    />\n  )\n\n  res.send(DOCTYPE + html)\n}\n\nexport default handleError\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/render/handle-error.tsx","import init from './init'\nimport matchRoute from './match-route'\nimport fetchData from './fetch-data'\nimport renderView from './render-view'\nimport handleError from './handle-error'\n\nconst render = (isProduction) => {\n  return [init, matchRoute, fetchData, renderView(isProduction), handleError]\n}\n\nexport default render\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/render/index.ts","import { syncHistoryWithStore } from 'react-router-redux'\nimport { createMemoryHistory } from 'react-router'\nimport configureStore from '../../../configureStore'\n\n// import createRoutes from '../../isomorphic/routes/createRoutes'\n// import render, { render500 } from '../render'\n\n// const PROD_ERROR_MSG = ' ...'\n\n// const isRoot = url => {\n//   let urlParts = url.split('?')[0].split('/')\n//   if (urlParts.length !== 2) {\n//     return false\n//   }\n\n//   if (_.last(urlParts) !== '') {\n//     return false\n//   }\n//   return true\n// }\n\n// interface RenderPageConfig {\n//   serverRouting: boolean\n//   isProduction: boolean\n// }\n\nexport default function init(req, res, next) {\n  const memoryHistory = createMemoryHistory(req.url)\n  const store = configureStore(req.cookies)\n  const history = syncHistoryWithStore(memoryHistory as any, store)\n  req.locals = {}\n  req.locals.history = history\n  req.locals.store = store\n  next()\n}\n\n// render500(errorMsg, isProduction)\n//     // \n//     if (serverRouting === false) {\n//       if (!isRoot(req.url)) {\n//         res.status(404).send(`\n//         <div style=\"margin: 60px auto; width: 600px; padding: 5px 20px; border: 1px solid #222;\">\n//           <h1 style=\"font-weight: bold; font-size: 22px; margin: 10px 0;\">404 Not Found</h1>\n//           <p style=\"margin: 10px 0;\">Dev mode with server routing disabled</p>\n//         </div>\n//       `)\n//         return false\n//       }\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/render/init.tsx","import { match } from 'react-router'\nimport _ from 'lodash'\nimport createRoutes from '../../../routes'\n\nfunction matchRoute(req, res, next) {\n  match(\n    {\n      history: req.locals.history,\n      routes: createRoutes({\n        request: req,\n        response: res\n      }),\n      location: req.url\n    },\n    (error, redirectLocation, renderProps) => {\n      if (error) {\n        next(error)\n      } else if (redirectLocation) {\n        res.redirect(302, redirectLocation.pathname + redirectLocation.search)\n      } else if (renderProps) {\n        const wrappedComponent = _.last(renderProps.components)['WrappedComponent']\n        const statusCode = wrappedComponent ? 200 : 404\n\n        req.locals.matchedResults = { renderProps, statusCode }\n        next()\n      } else {\n        // todo\n        next(new Error('Missing 404 handle page in routes!'))\n      }\n    }\n  )\n}\n\nexport default matchRoute\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/render/match-route.ts","import React from 'react'\nimport path from 'path'\nimport _ from 'lodash'\nimport { renderToStaticMarkup, renderToString } from 'react-dom/server'\nimport DocContainer from '../../../components/DocContainer'\nimport ServerSideAppRoot from '../../../components/ServerSideAppRoot'\nimport AppDoc, { DOCTYPE } from '../../../components/AppDoc'\nimport manifest from '../../../../build/static/assets.manifest.json'\n\nconst CLIENT_ENV_VARS = ['PORT']\n\nconst resolveDevAssets = (assetName) => {\n  const assetUrl = `http://localhost:${process.env.WEBPACK_PORT}/static/`\n\n  return assetUrl + assetName\n}\n\nfunction renderView(isProduction) {\n  let cssAssets\n  let jsAssets\n\n  if (isProduction) {\n    const prefix = '/static'\n    cssAssets = [\n      path.join(prefix, manifest['base.global.css']),\n      path.join(prefix, manifest['vendor.global.css']),\n      path.join(prefix, manifest['modifiers.global.css']),\n      path.join(prefix, manifest['app.css'])\n    ]\n    jsAssets = [\n      path.join(prefix, manifest['vendor.js']),\n      path.join(prefix, manifest['app.js'])\n    ]\n  } else {\n    cssAssets = [\n      resolveDevAssets('css/base.global.css'),\n      resolveDevAssets('css/vendor.global.css'),\n      resolveDevAssets('css/modifiers.global.css'),\n      resolveDevAssets('css/app.css')\n    ]\n    jsAssets = [\n      resolveDevAssets('js/vendor.dll.js'),\n      resolveDevAssets('js/app.js')\n    ]\n  }\n\n  const clientEnv = _.pick(process.env, CLIENT_ENV_VARS)\n\n  return (req, res) => {\n    // test 500 page\n    // if (req) {\n    //   throw new Error('Server fucked up!')\n    // }\n\n    const { renderProps, statusCode } = req.locals.matchedResults\n    const appRootMarkup = renderToString(<ServerSideAppRoot\n      renderPageContent\n      renderProps={renderProps}\n      store={req.locals.store}\n    />)\n\n    //  render \n    //  rewind \n    const { bodyClass, head } = DocContainer.rewind()\n    const initialState = process.env.ENABLE_INITIAL_STATE === '1'\n      ? req.locals.store.getState()\n      : {}\n\n    // todo: global var name\n    const html = renderToStaticMarkup(\n      <AppDoc\n        appMarkup={appRootMarkup}\n        helmetHeadObject={head}\n        bodyClass={bodyClass}\n        initialState={initialState}\n        link={cssAssets}\n        script={[\n          { innerHTML: 'var __ENABLE_SERVER_ROUTING__ = true;' },\n          { innerHTML: `var __ENV__ = ${JSON.stringify(clientEnv)}` }\n        ].concat(jsAssets)}\n      />\n    )\n    console.info('render view')\n    res.status(statusCode).send(DOCTYPE + html)\n  }\n}\n\nexport default renderView\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/render/render-view.tsx","import { ROLES } from '../../constants'\nimport errors from '../errors'\nimport i18n from '../utils/i18n'\n\n/**\n * \n * admin | user | visitor | none\n */\n\nexport default function requirePermissionsOf(userRole: string) {\n  return (req, res, next) => {\n    switch (userRole) {\n      case ROLES.ADMIN:\n        if (req.context.user.role === ROLES.ADMIN) {\n          next()\n          break\n        }\n\n        next(new errors.NoPermissionError(i18n('errors.api.auth.needPermissionsOf', 'admin')))\n        break\n\n      case ROLES.USER:\n        if (req.context.user.role === ROLES.USER || req.context.user.role === ROLES.ADMIN) {\n          next()\n          break\n        }\n        next(new errors.NoPermissionError(i18n('errors.api.auth.loginRequired')))\n        break\n\n      default:\n        if (userRole !== ROLES.VISITOR) {\n          next(new Error('Undefined role!'))\n          break\n        }\n        next()\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/require-permissions-of.ts","const { PORT, API_HOST, WEBPACK_PORT } = process.env\n\nconst LOCALHOST = 'localhost'\n\nconst makeOrigin = (host, port?) => {\n  if (port) {\n    return `http://${host}:${port}`\n  }\n  return `http://${host}`\n}\n\nconst ALLOWED_ORIGINS = [\n  // for production, using domain\n  makeOrigin(API_HOST),\n  makeOrigin(LOCALHOST, PORT),\n  makeOrigin(LOCALHOST, WEBPACK_PORT)\n]\n\nconst setHeader = (req, res, next) => {\n  const origin = req.headers.origin\n\n  if (ALLOWED_ORIGINS.indexOf(origin) !== -1) {\n    res.setHeader('Access-Control-Allow-Origin', origin)\n    // todo: CORS preflight needs this, but can it be other values?\n    res.setHeader('Access-Control-Allow-Headers', 'content-type')\n    res.setHeader('Access-Control-Allow-Credentials', true)\n  }\n  next()\n}\n\nexport default setHeader\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/set-header.ts","import mongodb from 'mongodb'\nimport _ from 'lodash'\nimport Schema, { Field } from './schema'\nimport outputEmptyEntity from './output-empty-entity'\nimport getMongoDBUrl from '../helpers/getMongoDBUrl'\n\nconst MongoClient = mongodb.MongoClient\n\nexport function connect() {\n  return MongoClient.connect(getMongoDBUrl())\n}\n\nexport function getRowById(id, table) {\n  return getRowByMatch({ _id: id }, table)\n}\n\nexport function getRowByMatch(match, table) {\n  return connect().then(connection => {\n    const results = connection.collection(table).find(match).toArray()\n    connection.close()\n    return results\n  })\n}\n\n/**\n * embedRef & its little functions\n */\ninterface FieldWithIds extends Field {\n  ids: string[]\n}\nconst getRefFieldsWithIds = (rawResult, schema: Schema): FieldWithIds[] => {\n  return schema.fields\n    .filter(field => {\n      return (typeof field.ref !== 'undefined')\n    })\n    .map(field => {\n      let ids = rawResult[field.name]\n\n      //  ids \n      // \n      if (!Array.isArray(ids)) {\n        ids = [ids]\n      }\n\n      return Object.assign({}, field, { ids })\n    })\n}\n\n// \nconst handleRefResult = (rawRefResult, refSchema: Schema, id) => {\n  if (typeof rawRefResult === 'object') {\n    return rawRefResult\n  }\n\n  return outputEmptyEntity(refSchema.fields, id)\n}\n\nconst doesRefHaveRefInside = (ref: Schema) => {\n  return _.filter(ref.fields, field => Boolean(field.ref)).length !== 0\n}\n\nexport function embedRef(rawResults: any[], schema: Schema) {\n  if (rawResults.length === 0) {\n    return Promise.resolve([])\n  }\n\n  //  ref  ref \n  const getRefFieldsWithData = (fieldsWithRefIds: FieldWithIds[]) => {\n    const fieldsWithData = fieldsWithRefIds\n      .map(field => {\n        //  field  ids \n        return Promise\n          .all(field.ids\n            .map(id => {\n              return getRowById(id, field.ref.name)\n                .then(results => {\n                  const isRefInRef = doesRefHaveRefInside(field.ref)\n                  const refSchema = field.ref\n\n                  if (isRefInRef) {\n                    // \n                    return embedRef(results, refSchema).then(reRefedResult =>\n                      handleRefResult(reRefedResult[0], refSchema, id))\n                  }\n\n                  return handleRefResult(results[0], refSchema, id)\n                })\n            })\n          )\n          .then(refResults => {\n            //  ref field  ref field  type\n            let fieldData = refResults\n\n            if (!field.type || !field.type.isArray()) {\n              fieldData = refResults[0]\n            }\n\n            return {\n              name: field.name,\n              data: fieldData,\n            }\n          })\n      })\n\n    return Promise.all<{ name: string; data: any }>(fieldsWithData).then(fields => {\n      return fields.reduce((fieldsObj, field) => {\n        return Object.assign({}, fieldsObj, {\n          [field.name]: field.data\n        })\n      }, {})\n    })\n  }\n\n  return Promise.all(rawResults\n    .map(rawResult => {\n      const fieldsWithIds = getRefFieldsWithIds(rawResult, schema)\n\n      return getRefFieldsWithData(fieldsWithIds).then(refObj => {\n        return _.assign({}, rawResult, refObj)\n      })\n    }))\n}\n\nexport default {\n  embedRef,\n  getRowByMatch,\n  getRowById\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/database.ts","import { DataType } from '../data/types'\n\nexport interface Validator {\n  (value: any): boolean\n}\n\nexport type Validators = {\n  fn: Validator\n  errorMsg: string\n}[]\n\nexport interface Field {\n  name: string\n  validators?: Validators\n  unique?: boolean\n  required?: boolean\n  ref?: Schema\n  type?: DataType\n}\n\ntype FieldDefinition = Field[]\n\nexport default class Schema {\n  _baseTable: string\n  _fieldDefinition: FieldDefinition\n\n  constructor(baseTable, fieldDefinition: FieldDefinition) {\n    this._fieldDefinition = fieldDefinition\n    this._baseTable = baseTable\n  }\n\n  get name() {\n    return this._baseTable\n  }\n\n  get fields() {\n    return this._fieldDefinition\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/schema.ts","import utils from '../utils'\nimport errors from '../errors'\nimport _ from 'lodash'\nimport Schema, { Validators } from './schema'\n\nconst reduceTasks = utils.reduceTasks\nconst i18n = utils.i18n\n\nexport default function validate(data, schema: Schema, isEditing?): any {\n  if (typeof data === 'undefined') {\n    return Promise.reject(new errors.BadRequestError(i18n('errors.validation.preCheck.emptyObject')))\n  }\n\n  const suppliedFields = Object.keys(data).filter(key => !_.isUndefined(data[key]))\n  const suppliedFieldsInSchema = schema.fields.filter(field => !_.isUndefined(data[field.name]))\n  const allFields = _.map(schema.fields, 'name')\n  const requiredFields = schema.fields\n    .filter(field => Boolean(field.required))\n    .map(field => field.name)\n  const unsupportedFields = suppliedFields.filter(key => allFields.indexOf(key) === -1)\n  const missedFields = requiredFields.filter(key => suppliedFields.indexOf(key) === -1)\n\n  if (unsupportedFields.length > 0) {\n    return Promise.reject(new errors.BadRequestError(i18n('errors.validation.preCheck.unsupportedInput', unsupportedFields[0])))\n  }\n\n  if (missedFields.length > 0 && !isEditing) {\n    return Promise.reject(new errors.BadRequestError(i18n('errors.validation.preCheck.missRequiredFields', missedFields[0])))\n  }\n\n  //  fields field  validator\n  const validateField = (val, validators: Validators) => {\n    return reduceTasks(validators.map(validation => {\n      if (validation.fn(val)) {\n        return Promise.resolve(true)\n      }\n      return Promise.reject(new errors.BadRequestError(validation.errorMsg))\n    }))\n  }\n\n  //  fields \n  return reduceTasks(suppliedFieldsInSchema.map(field => {\n    const validators = field.validators\n\n    if (validators) {\n      return validateField(data[field.name], validators)\n    }\n    //  validation  filed\n    return Promise.resolve(true)\n  }))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/validate.ts","import epub from 'simple-epub-parser'\nimport txtContent from './txt-content'\nexport default { epub, txtContent }\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/parsers/index.ts","export default async function txtContent(target) {\n  const nav = [{\n    ref: 'part01',\n    label: '',\n    index: 0\n  }]\n  let content\n\n  if (typeof target === 'string') {\n    const buffer = new Buffer(target, 'binary')\n    content = buffer.toString()\n  } else if (Buffer.isBuffer(target)) {\n    content = target.toString()\n  } else {\n    throw new Error('Only string or buffer is supported!')\n  }\n\n  const flesh = [{\n    src: 'part01',\n    markdown: content\n  }]\n\n  return { nav, flesh }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/parsers/txt-content.ts","import express from 'express'\nimport _ from 'lodash'\nimport multer from 'multer'\nimport * as endpoints from '../endpoints'\nimport { ROLES } from '../../constants'\nimport middleware from '../middleware'\n\nconst FORM_DATA_FILE_KEY = 'file'\nconst upload = multer()\n\nconst authenticatePublic = [\n  middleware.prepareApi,\n  middleware.parseContext\n]\n\nconst authenticatePrivate = [\n  middleware.prepareApi,\n  middleware.parseContext,\n  middleware.requirePermissionsOf(ROLES.USER)\n]\n\nconst authenticateAdmin = [\n  middleware.prepareApi,\n  middleware.parseContext,\n  middleware.requirePermissionsOf(ROLES.ADMIN)\n]\n\nfunction apiRoutes() {\n  const router = express.Router()\n\n  // authors\n  router.get('/authors/:id', authenticatePublic, endpoints.author.findOne) // basic\n  router.get('/authors', authenticatePublic, endpoints.author.list) // basic\n  router.post('/authors', authenticatePublic, endpoints.author.add) // basic\n  router.put('/authors/:id', authenticatePublic, endpoints.author.update) // basic\n  router.delete('/authors/:id', authenticatePublic, endpoints.author.remove) // basic\n\n  // collections\n  router.get('/collections/:id', authenticatePublic, endpoints.collection.findOne) // basic\n  router.get('/collections', authenticatePublic, endpoints.listCollections)\n  router.post('/collections', authenticatePublic, endpoints.collection.add) // basic\n  router.put('/collections/:id', authenticatePublic, endpoints.collection.update) // basic\n  router.delete('/collections/:id', authenticatePublic, endpoints.collection.remove) // basic\n\n  // books\n  router.get('/books/:book', authenticatePublic, endpoints.findBook)\n  router.get('/books/:book/content', authenticatePublic, endpoints.resolveBookContent)\n  router.get('/books', authenticatePublic, endpoints.listBooks)\n  // router.post('/books', authenticateAdmin, endpoints.book.add) // basic\n  router.post('/books', authenticateAdmin, upload.single(FORM_DATA_FILE_KEY), middleware.logFile, endpoints.addBook) // \n  router.put('/books/:book', authenticateAdmin, endpoints.editBookMeta)\n  router.delete('/books/:book', authenticateAdmin, endpoints.removeBook)\n\n  // tags\n  router.get('/tags/:id', authenticatePublic, endpoints.tag.findOne) // basic\n  router.get('/tags', authenticatePublic, endpoints.tag.list) // basic\n  router.post('/tags', authenticatePublic, endpoints.tag.add) // basic\n  router.put('/tags/:id', authenticatePublic, endpoints.tag.update) // basic\n  router.delete('/tags/:id', authenticatePublic, endpoints.tag.remove) // basic\n\n  // users\n  router.get('/users', authenticateAdmin, endpoints.user.list) // basic\n  router.post('/users', authenticatePublic, endpoints.addUser)\n\n  // user\n  router.get('/user/profile', authenticatePrivate, endpoints.findUser)\n  router.get('/user/books/shelf', authenticatePrivate, endpoints.listShelfBooks)\n\n  // progress\n  router.get('/user/books/:book/progress', authenticatePrivate, endpoints.getReadingProgress)\n  router.put('/user/books/:book/progress', authenticatePrivate, endpoints.setReadingProgress)\n\n  // file\n  router.get('/files/:file', authenticateAdmin, endpoints.readFile)\n  router.delete('/files/:file', authenticateAdmin, endpoints.delFile)\n\n  // auth\n  router.post('/auth', authenticatePublic, middleware.auth.basicAuth)\n  router.get('/auth', authenticatePublic, middleware.auth.check)\n  router.put('/auth/revoke', authenticatePublic, middleware.auth.revoke)\n\n  return router\n}\n\nexport default function setupApiApp() {\n  const apiApp = express()\n\n  apiApp.use(middleware.setHeader)\n  apiApp.use(apiRoutes())\n  apiApp.use(middleware.handleApiNotFound)\n  apiApp.use(middleware.handleJSONResponse)\n  apiApp.use(middleware.handleError)\n\n  return apiApp\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/routes/api-routes.ts","import api from './api-routes'\n\nexport default {\n  api\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/routes/index.ts","export default {\n  common: {\n    terms: {\n      id: 'ID',\n      username: '',\n      password: '',\n      percentage: '',\n      email: '',\n      login: '',\n      description: '',\n      name: '',\n      creator: '',\n      title: '',\n      progress: '',\n      user: '',\n      admin: '',\n      file: '',\n      files: '',\n      book: '',\n      books: ''\n    },\n  },\n  errors: {\n    validation: {\n      valueLimit: {\n        notString: '{value}',\n        stringOnly: '',\n        alphanumeric: '{value}',\n        undefined: '{value}',\n        invalidFormat: '{value}',\n        noPureNumber: '{value}',\n        onlyStartWithLetters: '{value}',\n        length: '',\n        minLength: '{value}',\n        maxLength: '{value}',\n        username: {\n          allowedChars: ' \"-\",\"_\"',\n        },\n      },\n      preCheck: {\n        emptyObject: '',\n        missRequiredFields: '{value}',\n        unsupportedInput: '{value}',\n        inputEmpty: '{value}',\n      },\n    },\n    api: {\n      general: {\n        notFound: '{value}',\n        notFoundIn: '{value}',\n        exists: '{value}',\n      },\n      auth: {\n        needPermissionsOf: ' {value} ',\n        loginRequired: '',\n      },\n    },\n    schema: {\n      unique: '{value}'\n    },\n    middleware: {\n      auth: {\n        accessDenied: '',\n        wrongPassword: '',\n        wrongCombination: ''\n      },\n      oauth: {\n        tokenExpired: 'token ',\n      },\n      spamprevention: {\n        tooManyAttempts: '',\n        noUsername: '',\n        noPassword: '',\n      },\n    },\n    mail: {\n      failedSendingEmail: '',\n    },\n    general: {\n      anErrorOccurred: '',\n      unknownErrorOccurred: '',\n      notFound: '{value}',\n    },\n  },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/translations/cn.ts","/**\n * # Pipeline Utility (borrowed from Ghost)\n *\n * Based on pipeline.js from when.js:\n * https://github.com/cujojs/when/blob/3.7.4/pipeline.js\n */\nimport Promise from 'bluebird'\n\nfunction pipeline(tasks /* initial arguments */) {\n  const args = Array.prototype.slice.call(arguments, 1)\n\n  let runTask = (task, args) => {\n    // Self-optimizing function to run first task with multiple\n    // args using apply, but subsequent tasks via direct invocation\n    runTask = (task, arg) => {\n      return task(arg)\n    }\n\n    return task.apply(null, args)\n  }\n\n  // Resolve any promises for the arguments passed in first\n  return Promise.all(args).then(args => {\n    // Iterate through the tasks passing args from one into the next\n    return Promise.reduce(tasks, (arg, task) => {\n      return runTask(task, arg)\n    }, args)\n  })\n}\n\nexport default pipeline\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/utils/pipeline.ts","import Promise from 'bluebird'\n\n// tasks  Promise  fn\n//  Promise\nexport default function reduceTasks(tasks: (any)[]) {\n  return Promise.reduce(tasks, (result, task) => {\n    if (typeof task === 'function') {\n      return task.call(this)\n    }\n    //  task  Promise blue bird  promise resolve  reject \n    //   task()#then \n    return task\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/utils/reduce-tasks.ts","// \nexport default function sortByDate() {\n  return (a, b) => {\n    return new Date(b.date_updated).valueOf() - new Date(a.date_updated).valueOf()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/utils/sort-by-date.ts","import handleResponse from './handleResponse'\n\nexport default function normalizeResponse(resultPromise, schema) {\n  return resultPromise.then(\n    response => ({ response: handleResponse(response, schema) }),\n    error => ({ error })\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api/normalizeResponse.ts","interface ScreenInfo {\n  width?: number\n  height?: number\n  aspectRatio?: number\n  _screen: typeof window.screen\n}\n\nexport default function getScreenInfo(): ScreenInfo {\n  if (typeof window === 'undefined') {\n    console.error('window is undefined, empty info object will be returned!')\n\n    return {\n      _screen: {} as any\n    }\n  }\n\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight,\n    aspectRatio: window.innerWidth / window.innerHeight,\n    _screen: window.screen\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/browser/getScreenInfo.ts","import getScreenInfo from './getScreenInfo'\nimport isIE from './isIE'\nimport lockScroll from './lockScroll'\nimport unlockScroll from './unlockScroll'\n\nexport default {\n  getScreenInfo,\n  isIE,\n  lockScroll,\n  unlockScroll\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/browser/index.ts","export default function isIE(ver) {\n  if (typeof ver === 'undefined') {\n    ver = null\n  }\n  const b = document.createElement('b')\n  b.innerHTML = '<!--[if IE ' + ver + ']><i></i><![endif]-->'\n  return b.getElementsByTagName('i').length === 1\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/browser/isIE.ts","export default function lockScroll() {\n  document.body.style.overflow = 'hidden'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/browser/lockScroll.ts","export default function unlockScroll() {\n  document.body.style.overflow = 'visible'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/browser/unlockScroll.ts","import isDescendant from './isDescendant'\nexport default {\n  isDescendant\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/dom/index.ts","import padNumberWithZero from './padNumberWithZero'\n\nexport default function getCurrentTime() {\n  const d = new Date()\n  const time = [d.getFullYear(), d.getMonth() + 1, d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds()]\n\n  return time.map(t => {\n    return padNumberWithZero(t)\n  }).join('')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/getCurrentTime.ts","import 'isomorphic-fetch'\nimport parseUrlencoded from '../../utils/parseUrlencoded'\nimport jsonp from '../../utils/api/jsonp'\nimport { parseResHeaderToPagination } from '../api/handleResponse'\n\nconst createCookieString = (cookie) =>\n  Object\n    .keys(cookie)\n    .reduce((previous, key) => `${previous}${key}=${cookie[key]}; `, '')\n\nconst request = (url: string, config?: RequestConfig) => {\n  const defaultConfig: RequestConfig = {\n    method: 'GET',\n    cookie: true,\n    dataType: 'json'\n  }\n\n  const parseConfig = () => {\n    let credentials\n    let headers\n    let contentType\n    let body\n    let cookieString\n\n    const _config = {\n      ...defaultConfig,\n      ...config\n    }\n\n    const { method, cookie, dataType, data, _rawInit } = _config\n\n    // parse contentType & body\n    if (dataType === 'json') {\n      contentType = 'application/json'\n      body = JSON.stringify(data)\n    } else if (dataType === 'urlencoded') {\n      contentType = 'application/x-www-form-urlencoded'\n      // todo: check encode fn\n      body = parseUrlencoded(data)\n    } else {\n      console.warn(`Unsupported dataType ${dataType}, 'urlencoded' will be used instead!`)\n      contentType = 'application/x-www-form-urlencoded'\n    }\n\n    // parse cookie\n    if (cookie === false) {\n      credentials = 'omit'\n    } else {\n      credentials = 'include'\n\n      if (typeof cookie === 'object') {\n        cookieString = createCookieString(cookie)\n      }\n\n      if (typeof cookie === 'string') {\n        cookieString = cookie\n      }\n    }\n\n    headers = {\n      'Content-Type': contentType,\n      'Access-Control-Request-Method': method,\n      'Cookie': cookieString\n    }\n\n    return {\n      method,\n      ...{\n        headers,\n        body,\n        credentials\n      },\n      ..._rawInit\n    }\n  }\n\n  if (config.useJsonp) {\n    return jsonp(url)\n  }\n\n  const parsedConfig = parseConfig()\n  let fullUrl = url\n\n  if (config.query) {\n    // todo: fix '/' end\n    fullUrl = `${url}?${parseUrlencoded(config.query)}`\n  }\n\n  return fetch(fullUrl, parsedConfig)\n    .then(response => {\n      if (response.status !== 204) {\n        return response.json().then(json => {\n          if (!response.ok) {\n            return Promise.reject(json)\n          }\n\n          return { json, links: parseResHeaderToPagination(response) }\n        })\n      }\n\n      return { json: {} }\n    })\n}\n\nexport default request\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/network/request.ts","import _ from 'lodash'\nimport callApi from '../utils/api/callApi'\nimport helpers from '../helpers'\nimport normalizeResponse from '../utils/api/normalizeResponse'\nimport schemas from '../schemas'\nimport utils from '../utils'\nimport { DOUBAN_API_ROOT } from '../constants'\n\nconst API_ROOT = helpers.getApiRoot()\n\ninterface GeneralApiOptions {\n  q?: string\n  page?: number\n}\n\n/**\n * general helper functions\n */\nconst parseEndpointWithOptions = (endpoint, options) => {\n  if (typeof options === 'string') {\n    return options\n  } else {\n    const queryString = utils.parseUrlencoded(options)\n    return `${endpoint}?${queryString}`\n  }\n}\n\nexport function fetchNormalized(endpoint, schema, fetchOptions = {}) {\n  if (endpoint.indexOf('http://') !== -1) {\n    return normalizeResponse(callApi(endpoint, fetchOptions), schema)\n  }\n\n  return normalizeResponse(callApi(`${API_ROOT}/${endpoint}`, fetchOptions), schema)\n}\n\n\n/**\n * specific api services\n */\nexport const fetchBookProgress = id => {\n  return fetchNormalized(\n    `user/books/${id}/progress`,\n    schemas.BOOK_PROGRESS\n  )\n}\n\nexport const fetchBook = id => {\n  return fetchNormalized(\n    `books/${id}`,\n    schemas.BOOK\n  )\n}\n\nexport const fetchBookContent = id => {\n  return fetchNormalized(\n    `books/${id}/content`,\n    schemas.BOOK_CONTENT\n  )\n}\n\nexport interface FetchBooksOptions extends GeneralApiOptions {\n  withContent?: boolean\n}\nexport const fetchBooks = (options: FetchBooksOptions = {}) => {\n  const {withContent} = options\n  let apiOptions = !withContent\n    ? {\n      exclude: 'content'\n    }\n    : {}\n  apiOptions = _.assign({}, _.omit(options, ['withContent']), apiOptions)\n  return fetchNormalized(\n    parseEndpointWithOptions('books', apiOptions)\n    , schemas.BOOK_ARRAY\n  )\n}\n\nexport type FetchUsersOptions = GeneralApiOptions\nexport const fetchUsers = (options?: FetchUsersOptions) => {\n  return fetchNormalized(\n    parseEndpointWithOptions('users', options)\n    , schemas.USER_ARRAY\n  )\n}\n\n// external apis\nexport const fetchDoubanBooks = keyword => callApi(`${DOUBAN_API_ROOT}/book/search?count=10&q=${keyword}`, {\n  useJsonp: true\n})\n\n// auth\nexport type UserLoginOptions = {\n  login: string\n  password: string\n}\nexport const userLogin = (data: UserLoginOptions) => callApi(`${API_ROOT}/auth`, {\n  method: 'POST',\n  data\n})\n\nexport type UserSignupOptions = {\n  username: string\n  email: string\n  password: string\n}\nexport const userSignup = (data: UserSignupOptions) => callApi(`${API_ROOT}/users`, {\n  method: 'POST',\n  data\n})\n\nexport const auth = () => {\n  return callApi(`${API_ROOT}/auth`, {\n    method: 'GET'\n  })\n}\n\nexport const logout = () => {\n  return callApi(`${API_ROOT}/auth/revoke`, {\n    method: 'PUT'\n  })\n}\n\n// data posting\nexport interface AddCollectionData {\n  name: string\n  items: string\n  description: string\n}\nexport function addCollection(data: AddCollectionData) {\n  return callApi(`${API_ROOT}/collections`, { method: 'POST', data })\n}\n\nexport interface AddBookData {\n  title: string\n  authors?: string\n  description?: string\n  cover?: string\n}\nexport function addBook(data: AddBookData) {\n  return callApi(`${API_ROOT}/books`, { method: 'POST', data })\n}\n\nexport interface BookMeta {\n  title?: string\n  authors?: string\n  description?: string\n  cover?: string\n}\nexport function editBookMeta(bookId: string, data: BookMeta) {\n  return callApi(`${API_ROOT}/books/${bookId}`, { method: 'PUT', data })\n}\n\nexport interface AddAuthorData {\n  name: string\n  slug?: string\n  description?: string\n}\nexport function addAuthor(data: AddAuthorData) {\n  return callApi(`${API_ROOT}/authors`, { method: 'POST', data })\n}\n\nexport type SetProgressData = {\n  percentage: number\n}\nexport function setProgress(bookId, data: SetProgressData) {\n  callApi(`${API_ROOT}/user/books/${bookId}/progress`, { method: 'PUT', data })\n}\n\nexport function deleteBook(id) {\n  return callApi(`${API_ROOT}/books/${id}`, {\n    method: 'DELETE'\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/webAPI/apifns.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".alerts_1tIvD {\\n  position: fixed;\\n  width: 100%;\\n  padding: 0 20px;\\n  top: 10px;\\n  left: 0;\\n  z-index: 9999; }\\n\\n.alert_9eS9Y, .alert--success_34X_f, .alert--error_2Qv_8, .alert--warning_MfPIa {\\n  padding: 10px 0;\\n  font-size: 16px;\\n  text-align: center;\\n  background: #fff;\\n  position: relative;\\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.32);\\n  font-size: 1rem;\\n  font-weight: bold;\\n  border-radius: 3px;\\n  width: 700px;\\n  margin: 0 auto 10px; }\\n  @media (max-width: 540px) {\\n    .alert_9eS9Y, .alert--success_34X_f, .alert--error_2Qv_8, .alert--warning_MfPIa {\\n      max-width: 100%; } }\\n\\n.content_1Xqwj {\\n  overflow: hidden;\\n  padding: 0 30px; }\\n\\n.alert-close_1fC9o {\\n  cursor: pointer;\\n  position: absolute;\\n  right: 10px;\\n  top: 11px;\\n  display: inline-block; }\\n\\n.alert--success_34X_f {\\n  background: #72efa8;\\n  color: #204d33; }\\n\\n.alert--error_2Qv_8 {\\n  background: #cc0000;\\n  color: #fff; }\\n\\n.alert--warning_MfPIa {\\n  background: orange;\\n  color: black; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"alerts\": \"alerts_1tIvD\",\n\t\"alert\": \"alert_9eS9Y\",\n\t\"alert--success\": \"alert--success_34X_f\",\n\t\"alert--error\": \"alert--error_2Qv_8\",\n\t\"alert--warning\": \"alert--warning_MfPIa\",\n\t\"content\": \"content_1Xqwj\",\n\t\"alert-close\": \"alert-close_1fC9o\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Alert/Alert.scss\n// module id = 221\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".header_3lPrK {\\n  text-align: center; }\\n\\n.title_1S9ou {\\n  font-size: 1.6rem;\\n  color: #222; }\\n\\n.body_1NxBf {\\n  text-align: center;\\n  width: 500px;\\n  margin: 0 auto;\\n  padding: 150px 0;\\n  font-size: 1.1rem; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"header\": \"header_3lPrK\",\n\t\"title\": \"title_1S9ou\",\n\t\"body\": \"body_1NxBf\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/AppError/AppError.scss\n// module id = 222\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".btn_XMRYz {\\n  color: #fff;\\n  background-color: #1B267F;\\n  border-color: #1B267F;\\n  padding: 3px 12px;\\n  font-size: 1rem;\\n  border-radius: 3px;\\n  transition: all 0.2s 0s;\\n  outline: none;\\n  border: 1px solid transparent;\\n  display: inline-block;\\n  margin: 5px 0;\\n  cursor: pointer; }\\n  .btn_XMRYz:hover {\\n    color: #fff;\\n    background-color: #121955;\\n    border-color: #10174d; }\\n  .btn_XMRYz:focus, .btn_XMRYz.focus_rfb5S {\\n    color: #fff;\\n    background-color: #121955;\\n    border-color: #10174d;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px #2433a9; }\\n  .btn_XMRYz:active, .btn_XMRYz.active_p2s1P {\\n    color: #fff;\\n    background-color: #121955;\\n    border-color: #10174d;\\n    background-image: none;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px #2433a9; }\\n    .btn_XMRYz:active:hover, .btn_XMRYz:active:focus, .btn_XMRYz:active.focus_rfb5S, .btn_XMRYz.active_p2s1P:hover, .btn_XMRYz.active_p2s1P:focus, .btn_XMRYz.active_p2s1P.focus_rfb5S {\\n      color: #fff;\\n      background-color: #0c1138;\\n      border-color: #050716;\\n      box-shadow: 0 0 0 1px #fff, 0 0 0 3px #2433a9 !important; }\\n  .btn_XMRYz.disabled_8YQX-:focus, .btn_XMRYz.disabled_8YQX-.focus_rfb5S, .btn_XMRYz:disabled:focus, .btn_XMRYz:disabled.focus_rfb5S {\\n    background-color: #1B267F;\\n    border-color: #1B267F; }\\n  .btn_XMRYz.disabled_8YQX-:hover, .btn_XMRYz:disabled:hover {\\n    background-color: #1B267F;\\n    border-color: #1B267F; }\\n  .btn_XMRYz.disabled_8YQX-, .btn_XMRYz:disabled {\\n    cursor: not-allowed;\\n    opacity: .65; }\\n  .btn_XMRYz:active:hover {\\n    box-shadow: none; }\\n\\n.btn--hover_2klnD {\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24); }\\n\\n.btn_XMRYz.btn--blue_2BxwK {\\n  color: #fff;\\n  background-color: #1B267F;\\n  border-color: #1B267F; }\\n  .btn_XMRYz.btn--blue_2BxwK:hover {\\n    color: #fff;\\n    background-color: #121955;\\n    border-color: #10174d; }\\n  .btn_XMRYz.btn--blue_2BxwK:focus, .btn_XMRYz.btn--blue_2BxwK.focus_rfb5S {\\n    color: #fff;\\n    background-color: #121955;\\n    border-color: #10174d;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px #2433a9; }\\n  .btn_XMRYz.btn--blue_2BxwK:active, .btn_XMRYz.btn--blue_2BxwK.active_p2s1P {\\n    color: #fff;\\n    background-color: #121955;\\n    border-color: #10174d;\\n    background-image: none;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px #2433a9; }\\n    .btn_XMRYz.btn--blue_2BxwK:active:hover, .btn_XMRYz.btn--blue_2BxwK:active:focus, .btn_XMRYz.btn--blue_2BxwK:active.focus_rfb5S, .btn_XMRYz.btn--blue_2BxwK.active_p2s1P:hover, .btn_XMRYz.btn--blue_2BxwK.active_p2s1P:focus, .btn_XMRYz.btn--blue_2BxwK.active_p2s1P.focus_rfb5S {\\n      color: #fff;\\n      background-color: #0c1138;\\n      border-color: #050716;\\n      box-shadow: 0 0 0 1px #fff, 0 0 0 3px #2433a9 !important; }\\n  .btn_XMRYz.btn--blue_2BxwK.disabled_8YQX-:focus, .btn_XMRYz.btn--blue_2BxwK.disabled_8YQX-.focus_rfb5S, .btn_XMRYz.btn--blue_2BxwK:disabled:focus, .btn_XMRYz.btn--blue_2BxwK:disabled.focus_rfb5S {\\n    background-color: #1B267F;\\n    border-color: #1B267F; }\\n  .btn_XMRYz.btn--blue_2BxwK.disabled_8YQX-:hover, .btn_XMRYz.btn--blue_2BxwK:disabled:hover {\\n    background-color: #1B267F;\\n    border-color: #1B267F; }\\n\\n.btn_XMRYz.btn--orange_ZQ7Eq {\\n  color: #fff;\\n  background-color: #ee9333;\\n  border-color: #ee9333; }\\n  .btn_XMRYz.btn--orange_ZQ7Eq:hover {\\n    color: #fff;\\n    background-color: #dc7a12;\\n    border-color: #d27412; }\\n  .btn_XMRYz.btn--orange_ZQ7Eq:focus, .btn_XMRYz.btn--orange_ZQ7Eq.focus_rfb5S {\\n    color: #fff;\\n    background-color: #dc7a12;\\n    border-color: #d27412;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px #f2ac62; }\\n  .btn_XMRYz.btn--orange_ZQ7Eq:active, .btn_XMRYz.btn--orange_ZQ7Eq.active_p2s1P {\\n    color: #fff;\\n    background-color: #dc7a12;\\n    border-color: #d27412;\\n    background-image: none;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px #f2ac62; }\\n    .btn_XMRYz.btn--orange_ZQ7Eq:active:hover, .btn_XMRYz.btn--orange_ZQ7Eq:active:focus, .btn_XMRYz.btn--orange_ZQ7Eq:active.focus_rfb5S, .btn_XMRYz.btn--orange_ZQ7Eq.active_p2s1P:hover, .btn_XMRYz.btn--orange_ZQ7Eq.active_p2s1P:focus, .btn_XMRYz.btn--orange_ZQ7Eq.active_p2s1P.focus_rfb5S {\\n      color: #fff;\\n      background-color: #bb6710;\\n      border-color: #95530c;\\n      box-shadow: 0 0 0 1px #fff, 0 0 0 3px #f2ac62 !important; }\\n  .btn_XMRYz.btn--orange_ZQ7Eq.disabled_8YQX-:focus, .btn_XMRYz.btn--orange_ZQ7Eq.disabled_8YQX-.focus_rfb5S, .btn_XMRYz.btn--orange_ZQ7Eq:disabled:focus, .btn_XMRYz.btn--orange_ZQ7Eq:disabled.focus_rfb5S {\\n    background-color: #ee9333;\\n    border-color: #ee9333; }\\n  .btn_XMRYz.btn--orange_ZQ7Eq.disabled_8YQX-:hover, .btn_XMRYz.btn--orange_ZQ7Eq:disabled:hover {\\n    background-color: #ee9333;\\n    border-color: #ee9333; }\\n\\n.btn_XMRYz.btn--red_381qh {\\n  color: #fff;\\n  background-color: #d42020;\\n  border-color: #d42020; }\\n  .btn_XMRYz.btn--red_381qh:hover {\\n    color: #fff;\\n    background-color: #a81919;\\n    border-color: #9f1818; }\\n  .btn_XMRYz.btn--red_381qh:focus, .btn_XMRYz.btn--red_381qh.focus_rfb5S {\\n    color: #fff;\\n    background-color: #a81919;\\n    border-color: #9f1818;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px #e34444; }\\n  .btn_XMRYz.btn--red_381qh:active, .btn_XMRYz.btn--red_381qh.active_p2s1P {\\n    color: #fff;\\n    background-color: #a81919;\\n    border-color: #9f1818;\\n    background-image: none;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px #e34444; }\\n    .btn_XMRYz.btn--red_381qh:active:hover, .btn_XMRYz.btn--red_381qh:active:focus, .btn_XMRYz.btn--red_381qh:active.focus_rfb5S, .btn_XMRYz.btn--red_381qh.active_p2s1P:hover, .btn_XMRYz.btn--red_381qh.active_p2s1P:focus, .btn_XMRYz.btn--red_381qh.active_p2s1P.focus_rfb5S {\\n      color: #fff;\\n      background-color: #891515;\\n      border-color: #650f0f;\\n      box-shadow: 0 0 0 1px #fff, 0 0 0 3px #e34444 !important; }\\n  .btn_XMRYz.btn--red_381qh.disabled_8YQX-:focus, .btn_XMRYz.btn--red_381qh.disabled_8YQX-.focus_rfb5S, .btn_XMRYz.btn--red_381qh:disabled:focus, .btn_XMRYz.btn--red_381qh:disabled.focus_rfb5S {\\n    background-color: #d42020;\\n    border-color: #d42020; }\\n  .btn_XMRYz.btn--red_381qh.disabled_8YQX-:hover, .btn_XMRYz.btn--red_381qh:disabled:hover {\\n    background-color: #d42020;\\n    border-color: #d42020; }\\n\\n.btn_XMRYz.btn--white_1W9tG {\\n  color: #333;\\n  background-color: #fff;\\n  border-color: #fff; }\\n  .btn_XMRYz.btn--white_1W9tG:hover {\\n    color: #333;\\n    background-color: #e6e6e6;\\n    border-color: #e0e0e0; }\\n  .btn_XMRYz.btn--white_1W9tG:focus, .btn_XMRYz.btn--white_1W9tG.focus_rfb5S {\\n    color: #333;\\n    background-color: #e6e6e6;\\n    border-color: #e0e0e0;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px white; }\\n  .btn_XMRYz.btn--white_1W9tG:active, .btn_XMRYz.btn--white_1W9tG.active_p2s1P {\\n    color: #333;\\n    background-color: #e6e6e6;\\n    border-color: #e0e0e0;\\n    background-image: none;\\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px white; }\\n    .btn_XMRYz.btn--white_1W9tG:active:hover, .btn_XMRYz.btn--white_1W9tG:active:focus, .btn_XMRYz.btn--white_1W9tG:active.focus_rfb5S, .btn_XMRYz.btn--white_1W9tG.active_p2s1P:hover, .btn_XMRYz.btn--white_1W9tG.active_p2s1P:focus, .btn_XMRYz.btn--white_1W9tG.active_p2s1P.focus_rfb5S {\\n      color: #333;\\n      background-color: #d4d4d4;\\n      border-color: #bfbfbf;\\n      box-shadow: 0 0 0 1px #fff, 0 0 0 3px white !important; }\\n  .btn_XMRYz.btn--white_1W9tG.disabled_8YQX-:focus, .btn_XMRYz.btn--white_1W9tG.disabled_8YQX-.focus_rfb5S, .btn_XMRYz.btn--white_1W9tG:disabled:focus, .btn_XMRYz.btn--white_1W9tG:disabled.focus_rfb5S {\\n    background-color: #fff;\\n    border-color: #fff; }\\n  .btn_XMRYz.btn--white_1W9tG.disabled_8YQX-:hover, .btn_XMRYz.btn--white_1W9tG:disabled:hover {\\n    background-color: #fff;\\n    border-color: #fff; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"btn\": \"btn_XMRYz\",\n\t\"focus\": \"focus_rfb5S\",\n\t\"active\": \"active_p2s1P\",\n\t\"disabled\": \"disabled_8YQX-\",\n\t\"btn--hover\": \"btn--hover_2klnD\",\n\t\"btn--blue\": \"btn--blue_2BxwK\",\n\t\"btn--orange\": \"btn--orange_ZQ7Eq\",\n\t\"btn--red\": \"btn--red_381qh\",\n\t\"btn--white\": \"btn--white_1W9tG\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Button/_button.scss\n// module id = 223\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".colophon_j1kR3 {\\n  font-size: 1rem;\\n  padding: 20px 0;\\n  color: #999; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"colophon\": \"colophon_j1kR3\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Colophon/Colophon.scss\n// module id = 224\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\nexports.i(require(\"-!../../../node_modules/css-loader/index.js?{\\\"modules\\\":true,\\\"importLoaders\\\":1,\\\"localIdentName\\\":\\\"[local]_[hash:base64:5]\\\"}!../../../node_modules/sass-loader/index.js!../Branding/Branding.scss\"), undefined);\n\n// module\nexports.push([module.id, \".branding_3B2rm {\\n  background: #1B267F;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  z-index: 800;\\n  height: 60px; }\\n\\n.sep_1_3hI {\\n  margin: 0 10px;\\n  opacity: .6;\\n  font-size: 1rem; }\\n\\n.sub_39zJY {\\n  opacity: .8;\\n  font-size: 1.2rem;\\n  text-transform: uppercase;\\n  margin-top: -3px;\\n  display: inline-block; }\\n\\n.right_2Sgoc {\\n  float: right; }\\n\\n.sub-name_1E0Jo {\\n  float: left;\\n  margin-left: 15px; }\\n  .sub-name_1E0Jo span {\\n    display: inline-block;\\n    line-height: 60px;\\n    height: 60px;\\n    color: #fff; }\\n\\n.nav_1fxmN {\\n  color: #fff;\\n  line-height: 60px;\\n  height: 60px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"branding\": \"branding_3B2rm\",\n\t\"sep\": \"sep_1_3hI\",\n\t\"sub\": \"sub_39zJY\",\n\t\"right\": \"right_2Sgoc\",\n\t\"sub-name\": \"sub-name_1E0Jo\",\n\t\"nav\": \"nav_1fxmN \" + require(\"-!../../../node_modules/css-loader/index.js?{\\\"modules\\\":true,\\\"importLoaders\\\":1,\\\"localIdentName\\\":\\\"[local]_[hash:base64:5]\\\"}!../../../node_modules/sass-loader/index.js!../Branding/Branding.scss\").locals[\"nav\"] + \"\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/ConsoleBranding/ConsoleBranding.scss\n// module id = 225\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".sidebar-left_1iTu9 {\\n  position: fixed;\\n  left: 0;\\n  top: 60px;\\n  height: 100%;\\n  width: 300px;\\n  background: #E4E4E4; }\\n\\n.nav-side_1Rzzy {\\n  position: fixed;\\n  left: 0;\\n  height: 100%; }\\n\\n.nav-side-root_3wgeK {\\n  width: 80px;\\n  background: #04082E; }\\n\\n.nav-side-root--current_4674B {\\n  background: red; }\\n\\n.nav-side-sub_3FAdg {\\n  width: 220px;\\n  left: 80px; }\\n\\n/* item */\\n.nav-item_2cqK9 {\\n  height: 50px;\\n  line-height: 50px; }\\n  .nav-item_2cqK9 a {\\n    display: block;\\n    padding: 0 15px;\\n    color: #fff;\\n    height: 50px; }\\n\\n.icon_kvHOl {\\n  margin-top: 12px; }\\n\\n.root-item_3RIxA {\\n  text-align: center; }\\n  .root-item_3RIxA a:hover {\\n    background: black; }\\n\\n.root-item--current_3UXxB {\\n  background: #1B267F; }\\n\\n.sub-item_1jr20 { }\\n  .sub-item_1jr20 a {\\n    color: #666; }\\n  .sub-item_1jr20 a:hover {\\n    background: gray(200); }\\n\\n.sub-item--current_2YLDP { }\\n  .sub-item--current_2YLDP a,\\n  .sub-item--current_2YLDP a:hover {\\n    color: #1B267F;\\n    background: #fff; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"sidebar-left\": \"sidebar-left_1iTu9\",\n\t\"nav-side\": \"nav-side_1Rzzy\",\n\t\"nav-side-root\": \"nav-side-root_3wgeK nav-side_1Rzzy\",\n\t\"nav-side-root--current\": \"nav-side-root--current_4674B nav-side-root_3wgeK nav-side_1Rzzy\",\n\t\"nav-side-sub\": \"nav-side-sub_3FAdg nav-side_1Rzzy\",\n\t\"nav-item\": \"nav-item_2cqK9\",\n\t\"icon\": \"icon_kvHOl\",\n\t\"root-item\": \"root-item_3RIxA nav-item_2cqK9\",\n\t\"root-item--current\": \"root-item--current_3UXxB root-item_3RIxA nav-item_2cqK9\",\n\t\"sub-item\": \"sub-item_1jr20 nav-item_2cqK9\",\n\t\"sub-item--current\": \"sub-item--current_2YLDP sub-item_1jr20 nav-item_2cqK9\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/ConsoleSidebar/ConsoleSidebar.scss\n// module id = 226\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".dropdown-item_XFcbL {\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: hidden; }\\n\\n.light-link_ZiwxI {\\n  color: #ddd; }\\n  .light-link_ZiwxI:hover {\\n    color: #fff; }\\n\\n.dropdown_3P4JX {\\n  display: inline-block;\\n  cursor: pointer;\\n  position: relative;\\n  height: inherit; }\\n\\n.dropdown-toggle_2E3V1 {\\n  display: block;\\n  user-select: none;\\n  -webkit-user-select: none;\\n  max-height: 100%; }\\n\\n.dropdown-menu_1nMO4 {\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.22);\\n  line-height: 2.2;\\n  font-size: 1rem;\\n  text-align: left;\\n  background: #222;\\n  position: absolute;\\n  right: 0;\\n  width: 150px;\\n  overflow: hidden;\\n  padding: 5px 0;\\n  z-index: 900; }\\n\\n.dropdown-caret_26jVH {\\n  display: inline-block;\\n  width: 0;\\n  height: 0;\\n  vertical-align: middle;\\n  content: \\\"\\\";\\n  border: 4px solid;\\n  border-right-color: transparent;\\n  border-bottom-color: transparent;\\n  border-left-color: transparent;\\n  margin-left: 5px; }\\n\\n.dropdown-item_XFcbL {\\n  display: block;\\n  padding: 0 25px;\\n  transition: all 0s; }\\n  .dropdown-item_XFcbL:hover {\\n    background: #3c3c3c; }\\n  .dropdown-item_XFcbL:active {\\n    background: #3c3c3c; }\\n\\n.sep_1VAnF {\\n  margin: 5px 0;\\n  height: 1px;\\n  background: #3c3c3c; }\\n\\n.dropdown-menu--dark_22QR5 {\\n  background: #1B267F; }\\n  .dropdown-menu--dark_22QR5 .sep_1VAnF {\\n    background: #1f2c94; }\\n  .dropdown-menu--dark_22QR5 .dropdown-item_XFcbL:hover {\\n    background: #1f2c94; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"dropdown-item\": \"dropdown-item_XFcbL light-link_ZiwxI\",\n\t\"light-link\": \"light-link_ZiwxI\",\n\t\"dropdown\": \"dropdown_3P4JX\",\n\t\"dropdown-toggle\": \"dropdown-toggle_2E3V1\",\n\t\"dropdown-menu\": \"dropdown-menu_1nMO4\",\n\t\"dropdown-caret\": \"dropdown-caret_26jVH\",\n\t\"sep\": \"sep_1VAnF\",\n\t\"dropdown-menu--dark\": \"dropdown-menu--dark_22QR5 dropdown-menu_1nMO4\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Dropdown/Dropdown.scss\n// module id = 227\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \":root {\\n  --time: .3s; }\\n\\n.enter_4NggM {\\n  opacity: 0.01;\\n  transition: opacity var(--time) ease-in; }\\n\\n.enterActive_2X3Rh {\\n  opacity: 1; }\\n\\n.leave_3Z-4r {\\n  opacity: 1;\\n  transition: opacity var(--time) ease-in; }\\n\\n.leaveActive_2yD2v {\\n  opacity: 0; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"enter\": \"enter_4NggM\",\n\t\"enterActive\": \"enterActive_2X3Rh\",\n\t\"leave\": \"leave_3Z-4r\",\n\t\"leaveActive\": \"leaveActive_2yD2v\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Fade/Fade.scss\n// module id = 228\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".svg-shape_2SBH- {\\n  fill: currentColor;\\n  overflow: hidden; }\\n\\n.icon_66GYG {\\n  display: inline-block;\\n  position: relative; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"svg-shape\": \"svg-shape_2SBH-\",\n\t\"icon\": \"icon_66GYG\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Icon/Icon.scss\n// module id = 229\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".input-wrap_YTHkJ, .input-wrap--error_-brlk {\\n  margin: 10px 0;\\n  position: relative; }\\n\\n.input_5vxBY {\\n  width: 100%;\\n  padding: 5px 5px;\\n  border: 1px solid #ddd;\\n  transition: border-color .3s;\\n  line-height: 25px;\\n  outline: none; }\\n\\n.input_5vxBY:focus {\\n  border-color: #1B267F; }\\n\\n.input-wrap--error_-brlk .input_5vxBY {\\n  border-color: #cc0000; }\\n\\n.error-msg_19MVh {\\n  position: absolute;\\n  right: 10px;\\n  top: 6px;\\n  line-height: 25px;\\n  color: #cc0000; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"input-wrap\": \"input-wrap_YTHkJ\",\n\t\"input-wrap--error\": \"input-wrap--error_-brlk\",\n\t\"input\": \"input_5vxBY\",\n\t\"error-msg\": \"error-msg_19MVh\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Input/Input.scss\n// module id = 230\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".logo-wrap_1aLoA {\\n  margin: 0;\\n  line-height: 60px;\\n  color: #fff;\\n  margin-top: -3px;\\n  display: inline-block; }\\n\\n.logo_35NyS {\\n  background: url(\" + require(\"./logo.png\") + \") no-repeat left;\\n  width: 70px;\\n  height: 60px;\\n  background-size: 70px;\\n  text-indent: -999em;\\n  display: inline-block; }\\n\\n.logo--dark_2shYM {\\n  background: url(\" + require(\"./logo-dark.png\") + \") no-repeat left;\\n  background-size: 70px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"logo-wrap\": \"logo-wrap_1aLoA\",\n\t\"logo\": \"logo_35NyS\",\n\t\"logo--dark\": \"logo--dark_2shYM logo_35NyS\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Logo/Logo.scss\n// module id = 231\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".modal_9QpxU {\\n  background: #fff;\\n  padding: 0;\\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);\\n  border-radius: 3px; }\\n  .modal_9QpxU .icon-close_2kZw3 {\\n    cursor: pointer; }\\n\\n.modal-backdrop_3trxs {\\n  z-index: 900; }\\n\\n.modal-body_PWCkH {\\n  margin: 10px 0 0; }\\n\\n.modal-header_1KgC3 {\\n  margin: 10px 0; }\\n\\n.modal-title_310bp {\\n  font-size: 1.4rem;\\n  font-weight: normal;\\n  color: #333;\\n  margin: 5px 0; }\\n\\n.modal-footer_pCffa {\\n  border-top: 3px solid #e9ebf2;\\n  text-align: right;\\n  overflow: hidden; }\\n  .modal-footer_pCffa .btn-red_38Zz5 {\\n    float: left;\\n    margin-left: 0; }\\n  .modal-footer_pCffa button {\\n    margin: 5px 0 5px 10px; }\\n\\n.modal-content_2tIvb {\\n  margin: 15px 0;\\n  line-height: 1.5; }\\n\\n.confirm-modal_lz_tb {\\n  background: #fff;\\n  padding: 20px 30px; }\\n  .confirm-modal_lz_tb p {\\n    font-size: 1.2rem; }\\n\\n.modal-plus_2u3At {\\n  padding: 20px 30px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"modal\": \"modal_9QpxU\",\n\t\"icon-close\": \"icon-close_2kZw3\",\n\t\"modal-backdrop\": \"modal-backdrop_3trxs\",\n\t\"modal-body\": \"modal-body_PWCkH\",\n\t\"modal-header\": \"modal-header_1KgC3\",\n\t\"modal-title\": \"modal-title_310bp\",\n\t\"modal-footer\": \"modal-footer_pCffa\",\n\t\"btn-red\": \"btn-red_38Zz5\",\n\t\"modal-content\": \"modal-content_2tIvb\",\n\t\"confirm-modal\": \"confirm-modal_lz_tb\",\n\t\"modal-plus\": \"modal-plus_2u3At\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Modal/Modal.scss\n// module id = 232\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".modal-footer_WHxcY button {\\n  margin-right: 10px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"modal-footer\": \"modal-footer_WHxcY\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Modal/ModalFooter.scss\n// module id = 233\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".selectize-wrap_1BcA5 {\\n  margin: 10px 0;\\n  position: relative; }\\n\\n.selectize-input_248xW {\\n  min-width: 300px;\\n  border: 1px solid #ddd;\\n  margin: 10px 0;\\n  box-sizing: border-box;\\n  transition: all 0s;\\n  cursor: text;\\n  background: #fff; }\\n  .selectize-input_248xW input {\\n    background: transparent;\\n    line-height: 22px; }\\n\\n.selectize-input--focus_3llwR {\\n  border-color: #1B267F; }\\n\\n.selectize-input--empty_3RpVN {\\n  background: #fff;\\n  padding: 5px 5px 0; }\\n\\n.selectize-input_248xW input {\\n  border: none;\\n  outline: none;\\n  margin-bottom: 5px; }\\n\\n.query-results_2aXfo {\\n  margin-top: -3px;\\n  margin-bottom: 5px;\\n  padding: 5px;\\n  border-radius: 3px;\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.32);\\n  background: #fff;\\n  z-index: 900; }\\n\\n.query-results_2aXfo li {\\n  padding: 0 7px;\\n  line-height: 2;\\n  cursor: pointer;\\n  border-radius: 3px; }\\n  .query-results_2aXfo li:hover {\\n    background: #1B267F;\\n    color: #fff; }\\n\\n.selectize-tag_KLDw8 {\\n  background: #1B267F;\\n  cursor: pointer;\\n  border-radius: 3px;\\n  padding: 3px 25px 3px 5px;\\n  margin: 5px;\\n  color: #fff;\\n  display: inline-block;\\n  position: relative; }\\n\\n.icon-remove_3f7V2 {\\n  font-size: 0.8rem;\\n  margin-left: 5px;\\n  position: absolute;\\n  right: 5px;\\n  top: 2px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"selectize-wrap\": \"selectize-wrap_1BcA5\",\n\t\"selectize-input\": \"selectize-input_248xW\",\n\t\"selectize-input--focus\": \"selectize-input--focus_3llwR\",\n\t\"selectize-input--empty\": \"selectize-input--empty_3RpVN\",\n\t\"query-results\": \"query-results_2aXfo\",\n\t\"selectize-tag\": \"selectize-tag_KLDw8\",\n\t\"icon-remove\": \"icon-remove_3f7V2\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/SelectizeInput/SelectizeInput.scss\n// module id = 234\n// module chunks = 17","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".textarea-wrap_1Wwgp {\\n  margin: 10px 0;\\n  position: relative; }\\n\\n.textarea_2QMlV {\\n  width: 100%;\\n  padding: 5px;\\n  border: 1px solid #ddd;\\n  outline: none;\\n  height: 100px;\\n  transition: border-color .3s; }\\n\\n.textarea_2QMlV:focus {\\n  border-color: #1B267F; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"textarea-wrap\": \"textarea-wrap_1Wwgp\",\n\t\"textarea\": \"textarea_2QMlV\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Textarea/Textarea.scss\n// module id = 235\n// module chunks = 17","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".content_21T97 {\\n  margin: 0 auto;\\n  width: 550px;\\n  position: relative;\\n  overflow: hidden;\\n  line-height: 1.9; }\\n  .content_21T97 p {\\n    margin: 0;\\n    min-height: 25px; }\\n\\n.page_3Tp6I {\\n  display: block;\\n  width: 100%;\\n  overflow: hidden; }\\n\\n.page--fluid_1rlYj { }\\n  .page--fluid_1rlYj .content_21T97 {\\n    width: 100%;\\n    padding: 0 20px; }\\n\\n.page--init_32nRm {\\n  position: relative;\\n  height: auto; }\\n  .page--init_32nRm .content_21T97 {\\n    height: auto; }\\n\\n.gb-line_1I04_ {\\n  overflow: hidden; }\\n\\n.page-no_2YMG3 {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  border-top: 1px solid #e6e6e6;\\n  padding: 0 10px;\\n  color: #e6e6e6;\\n  font-size: 0.8rem; }\\n\\n.white_12gOp {\\n  color: #333; }\\n\\n.night_2gn4k {\\n  color: #eee; }\\n  .night_2gn4k a {\\n    color: #fff;\\n    text-decoration: underline; }\\n\\n.sepia_1MgpS {\\n  color: #503220; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"content\": \"content_21T97\",\n\t\"page\": \"page_3Tp6I\",\n\t\"page--fluid\": \"page--fluid_1rlYj page_3Tp6I\",\n\t\"page--init\": \"page--init_32nRm\",\n\t\"gb-line\": \"gb-line_1I04_\",\n\t\"page-no\": \"page-no_2YMG3\",\n\t\"white\": \"white_12gOp\",\n\t\"night\": \"night_2gn4k\",\n\t\"sepia\": \"sepia_1MgpS\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/routes/Viewer/components/BookPage.scss\n// module id = 236\n// module chunks = 17","module.exports = __webpack_public_path__ + \"media/logo-dark.4754e8aa78.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Logo/logo-dark.png\n// module id = 237\n// module chunks = 17","module.exports = __webpack_public_path__ + \"media/logo.81eb83d7f7.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Logo/logo.png\n// module id = 238\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./AppError.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./AppError.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./AppError.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AppError/AppError.scss\n// module id = 239\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Branding.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Branding.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Branding.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Branding/Branding.scss\n// module id = 240\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./_button.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./_button.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./_button.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Button/_button.scss\n// module id = 241\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Colophon.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Colophon.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Colophon.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Colophon/Colophon.scss\n// module id = 242\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ConsoleBranding.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ConsoleBranding.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ConsoleBranding.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ConsoleBranding/ConsoleBranding.scss\n// module id = 243\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ConsoleSidebar.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ConsoleSidebar.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ConsoleSidebar.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ConsoleSidebar/ConsoleSidebar.scss\n// module id = 244\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Fade.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Fade.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Fade.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Fade/Fade.scss\n// module id = 245\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Icon.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Icon.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Icon.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icon/Icon.scss\n// module id = 246\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Input.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Input.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Input.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Input/Input.scss\n// module id = 247\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Logo.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Logo.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Logo.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Logo/Logo.scss\n// module id = 248\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ModalFooter.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ModalFooter.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./ModalFooter.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modal/ModalFooter.scss\n// module id = 249\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./SelectizeInput.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./SelectizeInput.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./SelectizeInput.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SelectizeInput/SelectizeInput.scss\n// module id = 250\n// module chunks = 17","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Textarea.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Textarea.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Textarea.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Textarea/Textarea.scss\n// module id = 251\n// module chunks = 17","module.exports = require(\"babel-runtime/core-js/get-iterator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/get-iterator\"\n// module id = 252\n// module chunks = 17","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 253\n// module chunks = 17","module.exports = require(\"babel-runtime/helpers/slicedToArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/slicedToArray\"\n// module id = 254\n// module chunks = 17","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 255\n// module chunks = 17","module.exports = require(\"colors/safe\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"colors/safe\"\n// module id = 256\n// module chunks = 17","module.exports = require(\"connect-mongo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-mongo\"\n// module id = 257\n// module chunks = 17","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 258\n// module chunks = 17","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 259\n// module chunks = 17","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 260\n// module chunks = 17","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 261\n// module chunks = 17","module.exports = require(\"mongodb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongodb\"\n// module id = 262\n// module chunks = 17","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 263\n// module chunks = 17","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 264\n// module chunks = 17","module.exports = require(\"react-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom\"\n// module id = 265\n// module chunks = 17","module.exports = require(\"react-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-helmet\"\n// module id = 266\n// module chunks = 17","module.exports = require(\"react-side-effect\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-side-effect\"\n// module id = 267\n// module chunks = 17","module.exports = require(\"redux-logger\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-logger\"\n// module id = 268\n// module chunks = 17","module.exports = require(\"redux-saga\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-saga\"\n// module id = 269\n// module chunks = 17","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = 270\n// module chunks = 17","module.exports = require(\"reselect\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"reselect\"\n// module id = 271\n// module chunks = 17","module.exports = require(\"simple-epub-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"simple-epub-parser\"\n// module id = 272\n// module chunks = 17","module.exports = require(\"validator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"validator\"\n// module id = 273\n// module chunks = 17","module.exports = require(\"jquery\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jquery\"\n// module id = 314\n// module chunks = ","module.exports = require(\"moment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 394\n// module chunks = ","module.exports = require(\"marked\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"marked\"\n// module id = 395\n// module chunks = ","module.exports = require(\"react-markdown\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-markdown\"\n// module id = 396\n// module chunks = "],"sourceRoot":""}